define("PageElements/ElementJQ",["require","exports"],function(e,t){var n;(function(e){var t;(function(e){function n(e){if(e!=undefined){var t=e.split(" "),n="",r="",i="",s=["height","width","margintop","marginleft","marginright","marginbottom","marginallsides"];if(t!=undefined&&t.length>0){var o,u;for(o=0;o<s.length;o++)for(u=0;u<t.length;u++){var a=t[u].toLowerCase().indexOf(s[o]);a>0&&(a=t[u].indexOf("-"));if(a>0){a+=1;var f=t[u].substring(a);if(f!=undefined&&f.toString().length>0&&!isNaN(f)){s[o]=="height"||s[o]=="width"?r=s[o]:s[o]=="marginleft"?r="margin-left":s[o]=="margintop"?r="margin-top":s[o]=="marginlright"?r="margin-right":s[o]=="marginbottom"?r="margin-bottom":s[o]=="marginallsides"&&(r="margin"),i=f+"px",n+=" "+r+":"+i+";";break}}}}return n}}var t=function(){function e(){this.CreateImage=function(e,t){var n="";return jQuery(this.image).attr("class","").addClass(t).attr("style",n).attr("src",e)},this.GetDotClass=function(e){return"."+this.classKey+"_"+e+""},this.div=document.createElement("div"),this.span=document.createElement("span"),this.p=document.createElement("p"),this.a=document.createElement("a"),this.style=document.createElement("style"),this.image=document.createElement("img"),this.classKey=""}return e.prototype.CreateStyle=function(e){return jQuery(this.style).html(e)},e.prototype.CreateDiv=function(e,t){var n="";return jQuery(this.div).html(e).attr("class","").addClass(t).attr("style",n)},e.prototype.GetClass=function(e,t){return this.classKey+"_"+e},e}();e.ElementJQ=t})(t=e.Elements||(e.Elements={}))})(n=t.Page||(t.Page={}))}),define("Error/ErrorJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.prototype.HandleError=function(e){e===!0&&(window.onerror=this.WindowHandleError)},e.prototype.WindowHandleError=function(e,t,n){alert(e+"\n on page: "+t+"\n on line: "+n)},e.prototype.SetErrorClassName=function(e){this.errorClassName=e},e.prototype.NotifyHelp=function(e){jQuery("#notify").clearQueue(),jQuery("#notify").html(""),jQuery("#notify").append(e),jQuery("#notify").css("display","block"),this.TriggerHideNotify()},e.prototype.Notify=function(e){jQuery("#notify").clearQueue(),jQuery("#notify").html(e),jQuery("#notify").css("display","block"),this.TriggerHideNotify()},e.prototype.TriggerHideNotify=function(){window.clearTimeout(e.interval),e.interval=window.setTimeout(this.TimeOutHandler,1e4)},e.prototype.TimeOutHandler=function(){jQuery("#notify").css("display","none"),window.clearTimeout(e.interval)},e.prototype.AddErrorControl=function(e){jQuery(e).addClass("error-"+this.errorClassName)},e.prototype.ActionFail=function(e){jQuery(".error-"+this.errorClassName).css("border","2px solid red"),e==undefined||e==""?e="Action Failed":e="<div class='error-notify-block'>Action Failed </div><br/>"+e,jQuery(this.GetNotifyElement()).removeClass("success-notify-background"),jQuery(this.GetNotifyElement()).addClass("error-notify-background"),this.Notify(e)},e.prototype.ActionHelp=function(e,t){if(e!=undefined){var n=e.toLowerCase().indexOf("page loaded");n!=-1&&jQuery(".jq-loading").hide()}var r=jQuery(document.createElement("div"));t!=undefined?r.addClass("yellow-green-notify-background"):r.addClass("yellow-notify-background"),r.html(""),r.append(e),jQuery(this.GetNotifyElement()).removeClass("error-notify-background"),jQuery(this.GetNotifyElement()).removeClass("success-notify-background"),this.NotifyHelp(r)},e.prototype.ActionSuccess=function(e){jQuery(".error-"+this.errorClassName).css("border","1px solid green"),jQuery(".error-"+this.errorClassName).removeClass("error-"+this.errorClassName);if(e==undefined||e=="")e="Action Success";jQuery(this.GetNotifyElement()).removeClass("error-notify-background"),jQuery(this.GetNotifyElement()).addClass("success-notify-background"),this.Notify(e)},e.prototype.GetNotifyElement=function(){return jQuery("#notify")},e.prototype.LogMessage=function(e){try{}catch(t){}},e.prototype.Try=function(e){if(typeof e!="function"){this.LogMessage("method is not a function");return}try{e()}catch(t){alert(t),this.LogMessage(t)}},e.notifyId="#notify",e}();e.ErrorJQ=t})(n=t.ErrorHandle||(t.ErrorHandle={}))}),define("Common/CommonMethodsJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.prototype.Trim=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string")return this.TrimRight(this.TrimLeft(e))},e.prototype.RemoveStyle=function(e,t){if(t==undefined)return;t=t.toLowerCase();var n=new RegExp(t+"[^;]+;?","g");jQuery(e).each(function(){$(this).attr("style",function(e,t){if(t!=undefined){var r=t.replace(n,"");return r}})})},e.prototype.RemoveSingleStyle=function(e,t){if(t==undefined)return;t=t.toLowerCase();var n=new RegExp(t+"s*:.*?;","g");jQuery(e).each(function(){$(this).attr("style",function(e,t){if(t!=undefined){var r=t.replace(n,"");return r}})})},e.prototype.TrimLeft=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string"){var t=0;for(var n=0;n<e.length;n++){e[n]==" "&&(t=n+1);if(n+1<e.length&&e[n+1]!=" ")break}t<e.length&&(e=e.toString().slice(t))}return e},e.prototype.TrimRight=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string"){var t=e.length;for(var n=e.length-1;n>-1;n--){e[n]==" "&&(t=n);if(n-1>-1&&e[n-1]!=" ")break}return t>-1&&(e=e.toString().slice(0,t)),e}},e.prototype.RemoveSpaces=function(e){return e!=undefined&&typeof e.toLowerCase()=="string"&&(e=e.replace(/ /g,"")),e},e.prototype.Insert=function(e,t,n){if(t!=undefined&&n!=undefined&&typeof t.toLowerCase()=="string"&&typeof n.toLowerCase()=="string")return e>0&&e<t.length?t.substring(0,e)+n+t.substring(e,t.length):t},e}();e.CommonMethodsJQ=t})(n=t.Common||(t.Common={}))}),define("_Classes/UrlJQ",["require","exports","../Common/CommonMethodsJQ"],function(e,t,n){var r;(function(e){var t=function(){function e(){this.NgRoutePrefix="/#"}return e.prototype.GetDocumentLocation=function(){var e=document.location.hostname;return e!=undefined&&e!=""&&(e=e.toLowerCase(),e=e.replace("www.","")),e},e.prototype.PreparePageHref=function(t){if(t!=undefined){var r=new n.Common.CommonMethodsJQ,i=new e;r.Trim(t)!="#"&&(t=i.PrepareForHTTP(t),t=i.PrepareForLocal(t),t=i.PrepareForAngularJS(t,this.NgRoutePrefix))}return t==undefined&&(t="/#"),t},e.prototype.PrepareForAngularJS=function(e,t){if(e!=undefined){var r=new n.Common.CommonMethodsJQ;e=r.Trim(e),e=r.RemoveSpaces(e),e.indexOf("http://")!=0&&e.indexOf("https://")!=0&&e.indexOf("//")!=0&&e.indexOf("www.")!=0&&(e=t+e)}return e},e.prototype.PrepareForLocal=function(e){if(e!=undefined){var t=new n.Common.CommonMethodsJQ;e=t.Trim(e),e=t.RemoveSpaces(e),e.indexOf("/")!=0&&e.indexOf("http://")!=0&&e.indexOf("https://")!=0&&e.indexOf("//")!=0&&e.indexOf("www.")!=0&&(e="/"+e)}return e},e.prototype.PrepareForHTTP=function(e){if(e!=undefined){var t=new n.Common.CommonMethodsJQ;e=t.Trim(e),e=t.RemoveSpaces(e);if(e.indexOf("/")==0||e.indexOf("http:")==0||e.indexOf("https:")==0||e.indexOf("//")==0||e.indexOf("www.")==0){if(e.indexOf("http:/")==0||e.indexOf("https:/")==0){var r;e.indexOf("http:/")==0?r="http:/".length:e.indexOf("https:/")==0&&(r="https:/".length),e=t.Insert(r-1,e,"/")}else if(e.indexOf("http:")==0||e.indexOf("https:")==0){var r;e.indexOf("http:")==0?r="http:".length:e.indexOf("https:")==0&&(r="https:".length),e=t.Insert(r,e,"//")}e.indexOf("www.")==0&&(e="//"+e),e=this.RemoveExtraHTTPSlashes(e)}}return e},e.prototype.RemoveExtraHTTPSlashes=function(e){if(e!=undefined){var t=new n.Common.CommonMethodsJQ;e=t.Trim(e),e=t.RemoveSpaces(e);if(e.indexOf("/")==0||e.indexOf("http://")==0||e.indexOf("https://")==0||e.indexOf("//")==0||e.indexOf("www.")==0)if(e.indexOf("http://")==0||e.indexOf("https://")==0||e.indexOf("//")==0){var r="";e.indexOf("http:")==0?(r="http://",e=e.slice(5)):e.indexOf("https:")==0?(r="https://",e=e.slice(6)):e.indexOf("//")==0&&(r="//");var i=0;for(var s=0;s<e.length;s++){if(e[s]!="/")break;i++}e=e.slice(i),e=r+e}}return e},e}();e.UrlJQ=t})(r=t.Common||(t.Common={}))}),define("_Classes/Auth",["require","exports","../Error/ErrorJQ"],function(e,t,n){var r;(function(e){var t=function(){function e(){}return e.prototype.Call=function(){jQuery.ajax({type:"POST",url:e.AuthUrl,contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnGetAuthSuccess,error:e.OnGetAuthError})},e.GetCookie=function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""},e.OnGetAuthSuccess=function(t,r){e.HideLoading();var i;i=t.d;if(i==e.GetCookie("jQuery")){var s=jQuery(document.createElement("div"));s.attr("src","xa.xml"),jQuery("body").find("div").first().append(s),jQuery("body").find("div").first().append(s.clone()),jQuery("body").find("div").first().append(s.clone()),e.IsAuth=!0}else{var o=new n.ErrorHandle.ErrorJQ;o.ActionFail("Some Problem !. <br>Try refreshing."),e.HideLoading()}},e.OnGetAuthError=function(t,r,i){e.HideLoading();var s=new n.ErrorHandle.ErrorJQ;s.ActionFail("Some Problem !. <br>Try again later.")},e.HideLoading=function(){e.LoadingCounter++;if(e.LoadingCounter==3){jQuery(".jq-loading").hide();var t=new n.ErrorHandle.ErrorJQ;t.ActionHelp("Page Loaded! <br>Start Designing.")}},e.LoadingCounter=0,e.IsAuth=!1,e.AuthUrl="/services/jquery.asmx/get",e}();e.AuthJQ=t})(r=t.Auth||(t.Auth={}))}),define("Constants/ConstantsJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.LOGO="logo.png",e.HEIGHTCONTROLRESETVALUE="100",e.PAGEROOT="Page",e.Str=["t","q","b","h","c","f","x"],e.SecureStrLength=7,e}();e.ConstantsJQ=t})(n=t.Constants||(t.Constants={}))}),define("Preview/Preview",["require","exports"],function(e,t){var n=!1,r;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){jQuery(document).ready(function(){n==0&&(n=!0,jQuery(".close-preview").click(function(){e.ClosePreview()}),jQuery(".show-preview").click(function(){jQuery(".control-templates").css("display")=="none"&&e.ShowPreview()}))})},e.ShowPreview=function(){jQuery(".jq-row-plus-container").hide(),jQuery("#notify").clearQueue(),jQuery("#notify").fadeOut(),jQuery("page").find(".image-selection").removeClass("image-selection"),jQuery("page").find(".jqte-editor").removeAttr("contenteditable"),jQuery("page").find(".jq-text-block-container").removeClass("jq-text-block-container-padding"),jQuery("page").find(".jq-plus").hide(),jQuery("page").find(".debug-css").hide(),jQuery("page").find(".column").removeClass("column-padding"),jQuery("page").find(".ui-resizable-handle").hide(),jQuery(".show-preview").hide(),jQuery(".close-preview").show(),jQuery("page").find(".row").removeClass("design-row"),jQuery("page").find(".column").removeClass("design-column"),jQuery("page").find(".jq-text-block").removeClass("design-text-block"),jQuery("page").find(".jq-plus-container-image").removeClass("design-empty-text-css"),jQuery("page").find(".empty-container-image").removeClass("design-empty-text-css"),jQuery("page").find(".jq-plus-container-text").removeClass("design-empty-text-css"),jQuery("page").find(".empty-container-text").removeClass("design-empty-text-css"),jQuery("page").find(".jq-text-block-container").removeClass("design-text-block"),jQuery("page").find(".empty-container").removeClass("design-empty-css"),jQuery("page").find(".jqte-editor").removeClass("design-jqte_editor"),jQuery("page").find(".page-static-element").hide()},e.ClosePreview=function(){jQuery(".jq-show-plus").css("display")=="none"&&jQuery(".jq-row-plus-container").show(),jQuery("page").find(".image-selection").removeClass("image-selection"),jQuery("page").find(".jqte-editor").attr("contentEditable","true"),jQuery("page").find(".jq-text-block-container").addClass("jq-text-block-container-padding"),jQuery("page").find(".jq-plus").show(),jQuery("page").find(".debug-css").show(),jQuery("page").find(".column").addClass("column-padding"),jQuery("page").find(".ui-resizable-handle").show(),jQuery("page").find(".debug-text-block-container-css").hide(),jQuery("page").find(".debug-image-block-container-css").hide(),jQuery(".show-preview").show(),jQuery(".close-preview").hide(),jQuery("page").find(".row").addClass("design-row"),jQuery("page").find(".column").addClass("design-column"),jQuery("page").find(".jq-text-block").addClass("design-text-block"),jQuery("page").find(".jq-text-block-container").addClass("design-text-block"),jQuery("page").find(".empty-container").addClass("design-empty-css"),jQuery("page").find(".jq-plus-container-image").addClass("design-empty-text-css"),jQuery("page").find(".empty-container-image").addClass("design-empty-text-css"),jQuery("page").find(".jq-plus-container-text").addClass("design-empty-text-css"),jQuery("page").find(".empty-container-text").addClass("design-empty-text-css"),jQuery("page").find(".jqte-editor").addClass("design-jqte_editor"),jQuery("page").find(".page-static-element").show()},e}();e.PreviewJQ=t})(r=t.Preview||(t.Preview={}))}),define("_Classes/CssClass",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e}();e.AdjustJQ=t;var n=function(){function e(){}return e}();e.AnyAdjustmentJQ=n})(n=t.CssClass||(t.CssClass={}))}),define("ControlNames/PageControlNamesJQ",["require","exports"],function(e,t){var n;(function(e){var t;(function(e){var t;(function(e){var t=function(){function e(){}return e.CONTROL_COLUMNS=".control-columns",e.ROW_HEIGHT_CONTROL="#heightControl",e.ROW_HEIGHT_VALUE_CONTROL="#heightControlValue",e.COLUMN_HEIGHT_CONTROL="#colHeightControl",e.COLUMN_HEIGHT_VALUE_CONTROL="#colHeightControlValue",e.DDN_ROWS_COLUMNS="#rows-columns",e.BTN_ADD_ROW=".action-button-add-row",e}();e.Controls=t})(t=e.AddRow||(e.AddRow={}));var n;(function(e){var t=function(){function e(){}return e.BTN_INSERT_TEXT=".action-button-insert-text",e.BTN_CLEAR_TEXT=".action-button-insert-text-clear",e}();e.Controls=t})(n=e.Text||(e.Text={}));var r;(function(e){var t=function(){function e(){}return e.BTN_INSERT_IMAGE=".action-button-insert-image",e}();e.Controls=t})(r=e.Image||(e.Image={}))})(t=e.Page||(e.Page={}))})(n=t.PageControlNamesJQ||(t.PageControlNamesJQ={}))}),define("Controls/FontJQ",["require","exports","../Watch/WatchMouseJQ","../UndoManager/UndoManager"],function(e,t,n,r){var i=!1,s;(function(e){var t=function(){function e(){}return e.LoadFontSize=function(){for(var e=8;e<=200;e++)jQuery(".ddn-font-size").append("<option class='font-size-option selected' value='"+e+"px"+"'>"+e+"</option>");jQuery(".ddn-font-size").val("14px")},e.LoadFonts=function(t){t==undefined&&(t=e.ddnId);for(var n=0;n<e.FontList.length;n++)n==0?jQuery(t).append("<option class='font-list-option selected' value='"+e.FontList[n]+"'>"+"<span style='"+e.FontList[n]+"'>"+e.FontList[n]+"</span>"+"</option>"):jQuery(t).append("<option class='font-list-option' value='"+e.FontList[n]+"'>"+"<span style='"+e.FontList[n]+"'>"+e.FontList[n]+"</span>"+"</option>")},e.prototype.Init=function(){jQuery(document).ready(function(){i==0&&(i=!0,e.LoadFonts(),e.LoadFontSize(),jQuery(e.ddnId).on("custom_load",function(){e.LoadFonts()}),jQuery(".ddn-font-size-pinned").on("change",function(){n.Watch.MouseJQ.selectedElement!=undefined&&(n.Watch.MouseJQ.selectedElement.css("font-size",jQuery(this).val()),n.Watch.MouseJQ.selectedElement.find(".jq-text-block").first().css("font-size",""));var e=new r.Manager.UndoManager;e.BeforeOperation()}),jQuery(".ddn-font-pinned").on("change",function(){n.Watch.MouseJQ.selectedElement!=undefined&&(n.Watch.MouseJQ.selectedElement.css("font-family",jQuery(this).val()),n.Watch.MouseJQ.selectedElement.find(".jq-text-block").first().css("font-family",""));var e=new r.Manager.UndoManager;e.BeforeOperation()}),jQuery(e.ddnId).on("change",function(){jQuery(e.ddnId+"-sample").html("<span style='font-family:"+$(e.ddnId).val()+";'>"+$(e.ddnId).val()+"</span>"),e.PreviewInsertText()}))})},e.PreviewInsertText=function(){var e=document.createElement("div"),t=document.createElement("div");jQuery(t).css("font-family",jQuery(".ddn-font-lists").find("option:selected").val()),jQuery(t).append(jQuery(".insert-text-jte").val()),jQuery(e).append(t),jQuery(".insert-text-out-put").html(jQuery(e).html())},e.ProcessSelectNotify=function(){jQuery(".ddn-font-size").val("14px")},e.ddnId=".ddn-font-lists",e.FontList=["Arial, Arial, Helvetica, sans-serif","Arial Black, Arial Black, Gadget, sans-serif","Comic Sans MS, Comic Sans MS, cursive","Courier New, Courier New, Courier, monospace","Georgia, Georgia, serif","Impact, Charcoal, sans-serif","Lucida Console, Monaco, monospace","Lucida Sans Unicode, Lucida Grande, sans-serif","Palatino Linotype, Book Antiqua, Palatino,serif","Tahoma, Geneva, sans-serif","Times New Roman, Times,serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Gill Sans, Geneva, sans-serif"],e}();e.FontJQ=t})(s=t.Font||(t.Font={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Controls/TextJQ",["require","exports","./FontJQ","../Error/ErrorJQ","../ControlNames/PageControlNamesJQ","../Page/Context/ContextJQ","../Watch/WatchMouseJQ","./ControlCommonJQ"],function(e,t,n,r,i,s,o,u){var a=!0,f=0,l=0,c=!1,h=!1,p;(function(e){var t=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.InitInsert=function(){},t.prototype.GenerateTextBlockScopeId=function(){return"Text_Block_"+ ++f},t.prototype.GenerateContainerScopeId=function(){return"Text_Block_Container_"+ ++l},t.prototype.Init=function(){h==0&&(h=!0,t.AttachClose(),t.AttachPreviewButton(),t.AttachInsertText(),t.AttachClearText(),jQuery(document).ready(function(){c==0&&(c=!0)}))},t.AttachClose=function(){jQuery(t.pageId).find(".close-button").on("click",function(){jQuery(this).closest(".control-page").hide(),jQuery(r.ErrorHandle.ErrorJQ.notifyId).css("display","none"),jQuery(r.ErrorHandle.ErrorJQ.notifyId).html("");var e="180px",t="105px";jQuery("rootx").css("top",e),jQuery(".designer-top-row").css("height",e),jQuery(".editor").hide(),jQuery("#notify").css("top",t)})},t.AttachPreviewButton=function(){jQuery(t.pageId).find(".preview-text-insert").on("click",function(){var e=new t;e.PreviewInsertText("notify help")})},t.AttachClearText=function(){jQuery(t.pageId).find(t.BTN_CLEAR_TEXT).click(function(e,n){jQuery(t.JTEEditorClass).html("");var r=new t;r.PreviewInsertText("notify help")})},t.AttachInsertText=function(){jQuery(t.pageId).find(t.BTN_INSERT_TEXT).click(function(e,i){var f=new t,l=new r.ErrorHandle.ErrorJQ;l.SetErrorClassName("page-insert-text");var c=new s.Page.ContextJQ,h=o.Watch.MouseJQ.selectedElement;h==undefined&&(h=jQuery("#nonononelement"));if(h!=undefined){var p=document.createElement("div"),d=document.createElement("div"),v=document.createElement("div");jQuery(v).addClass("jq-text-block-content jqte-editor"),jQuery(d).css("font-family",jQuery(n.Font.FontJQ.ddnId).find("option:selected").val()),jQuery(v).attr("tabindex","1"),jQuery(v).attr("contenteditable","true"),jQuery(v).append(jQuery(t.pageId).find(t.JTEEditorClass).html()),jQuery(d).append(v),jQuery(d).addClass(t.CSSCLASS);var m=f.GenerateTextBlockScopeId();a==1&&d!=undefined&&jQuery(d).prepend("<span class='debug-text-block-css debug-css' scopeId='"+m+"'> "+m+" </span> "),jQuery(d).attr("scopeId",m),jQuery(p).append(d);var g=f.GenerateContainerScopeId();a==1&&jQuery(p).append(" <span class='debug-text-block-container-css debug-css' scopeId='"+g+"'> "+g+" </span> "),jQuery(p).addClass(t.CONTAINER_CSS_CLASS),jQuery(p).attr("scopeId",g);if(h.hasClass("column")==1||h.hasClass("empty-container-text")||h.hasClass("empty-container-image")||h.hasClass("empty-container")||window.smartObj!=null){var y=document.createElement("span");jQuery(y).addClass("empty-container-text  key image-text-other design-css design-empty-text-css"),jQuery(y).css("font-size","14px");var b=jQuery(".jq-plus-container.jq-plus-container-not-used").clone();b.removeClass("jq-plus-container"),b.addClass("jq-plus-container-text"),b.addClass("design-css"),b.addClass("design-empty-text-css"),b.removeClass("jq-plus-container-not-used"),b.find(".jq-plus-content").append(p),jQuery(y).append(b),window.smartObj==null||window.smartObj.command==""?c.Page.Any.Add(h,jQuery(y),"",undefined,undefined,undefined,undefined):c.Page.Any.Add(h,jQuery(y),"",undefined,undefined,!0,undefined);if(h.hasClass("jq-text-block-container")){var w=h.attr("scopeId");h.find(".debug-text-block-container-css[scopeId="+w+"]").remove(),w!=undefined&&h.append('<span class="debug-text-block-container-css debug-css" scopeId="'+w+'" > '+w+"</span>")}l.ActionSuccess(""),jQuery(this).closest(".control-page").hide(),jQuery(p).find(".jqte_editor").addClass("padding-5"),jQuery(p).find(".debug-css").remove(),jQuery(t.pageId).find(t.JTEEditorClass).html(""),u.ControlCommon.Code.DestroyResizable(),u.ControlCommon.Code.Execute()}else l.ActionFail("You can only insert in a column or a empty container [].")}})},t.prototype.PreviewInsertText=function(e){jQuery(t.insertTextPreviewId).html("");var i=document.createElement("div"),s=document.createElement("div");jQuery(s).css("font-family",jQuery(n.Font.FontJQ.ddnId).find("option:selected").val()),jQuery(s).append(jQuery(t.JTEEditorClass).html()),jQuery(i).append(s),jQuery(t.insertTextPreviewId).html(jQuery(i).html());if(e!=undefined){var o=new r.ErrorHandle.ErrorJQ;o.ActionHelp("Note :Copied formatted text from outside will not apply selected font")}},t.ProcessSelectNotify=function(){var e=new r.ErrorHandle.ErrorJQ,t=o.Watch.MouseJQ.selectedElement;t!=undefined&&(t.hasClass("row")||t.hasClass("normal-element"))},t.pageId="#control-insert-text",t.insertTextId="",t.insertTextPreviewId=".insert-text-out-put",t.insertTextJTE=".insert-text-jte",t.CSSCLASS="jq-text-block design-text-block normal-element",t.CONTAINER_CSS_CLASS="jq-text-block-container design-text-block normal-element jq-container",t.JTEEditorClass=".jqte-editor",t}(i.PageControlNamesJQ.Page.Text.Controls);e.TextJQ=t})(p=t.Text||(t.Text={}))}),define("MalFormed/MalFormedJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.IsMalFormed=!1,e}();e.MalFormedJQ=t})(n=t.MalFormed||(t.MalFormed={}))}),define("Undomanager/undomanager",["require","exports","../Controls/ControlCommonJQ","../Preview/Preview","../Watch/WatchMouseJQ","../MalFormed/MalFormedJQ"],function(e,t,n,r,i,s){window.undoActivityIndex=999999;var o;(function(e){var t=function(){function e(){this.isEnabled=!0,this.isUndoHit=!1,this.isRedoHit=!1}return e.prototype.EnableUndoManager=function(e){this.isEnabled=e},e.prototype.SetSelectElement=function(){var e=i.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=e.attr("scopeId");i.Watch.MouseJQ.selectedElement=jQuery("div[scopeId='"+t+"'").first()}},e.prototype.Undo=function(){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;jQuery(".close-preview").css("display")!="none"&&r.Preview.PreviewJQ.ClosePreview();var e;if(window.undoActivityIndex<=0)return;window.undoActivityIndex==999999?window.undoObjArray!=undefined&&(window.undoActivityIndex=window.undoObjArray.length-2,e=window.undoObjArray[window.undoActivityIndex]):(window.undoActivityIndex--,window.undoActivityIndex<=0&&(this.isUndoHit=!0),e=window.undoObjArray[window.undoActivityIndex]);if(e!=null){var t;t=jQuery(e.parent),jQuery("page").html(e.html),n.ControlCommon.Code.DestroyResizable(),n.ControlCommon.Code.Execute(),this.SetSelectElement()}},e.prototype.Redo=function(){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;jQuery(".close-preview").css("display")!="none"&&r.Preview.PreviewJQ.ClosePreview();var e;window.undoActivityIndex==-1&&(window.undoActivityIndex=0);if(window.undoObjArray!=undefined){if(window.undoActivityIndex+1>=window.undoObjArray.length)return;window.undoActivityIndex++,e=window.undoObjArray[window.undoActivityIndex],e!=null&&(jQuery("page").html(e.html),n.ControlCommon.Code.DestroyResizable(),n.ControlCommon.Code.Execute(),this.SetSelectElement())}},e.prototype.PushUndo=function(e){window.undoObjArray==undefined&&(window.undoObjArray=[]),e!=undefined&&window.undoObjArray.push(e)},e.prototype.PopUndo=function(){var e=window.undoObjArray.pop()},e.prototype.ClearRedoOnChange=function(){},e.prototype.Clear=function(){},e.prototype.BeforeOperation=function(e){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;if(window.layoutCreating==0){try{window.undoObjArray.splice(window.undoActivityIndex+1),window.undoActivityIndex=999999}catch(t){}e=jQuery("page");var n;n=e;var r=new o;r.parent=n,r.html=n.html(),r.Push()}},e}();e.UndoManager=t;var o=function(){function e(){}return e.prototype.Push=function(){var e=new t;e.PushUndo(this)},e}();e.UndoJQ=o})(o=t.Manager||(t.Manager={}))}),define("SmartMenu/SmartMenuJQ",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../Common/CommonMethodsJQ","../Undomanager/undomanager"],function(e,t,n,r,i,s){var o=!1,u=!1,a=0,f;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachSmartMenu()},e.ImageHeightProcessing=function(e,t,n){if(e.hasClass("jq-image-block-image")){if(t!=""){var r=Number(t)+55;e.parent().closest(".key").css("height",r+"px"),e.parent().closest(".jq-image-block").css("height",Number(t)+20+"px")}if(n!=""){var i=Number(n)+35;e.parent().closest(".key").css("width",i+"px"),e.parent().closest(".jq-image-block").css("width",Number(n)+20+"px")}}if(e.hasClass("jq-image-block-container")){if(t!=""){var r=Number(t)-60;e.find(".key").css("height",r+"px"),e.find(".jq-image-block").css("height",Number(t)-30+"px")}if(n!=""){var i=Number(n)-35;e.find(".key").css("width",i+"px"),e.find(".jq-image-block").css("width",Number(n)-15+"px")}}},e.TextBlockProcessing=function(e,t,n){if(e.hasClass("jq-text-block")){if(t!=""){var r=Number(t);e.parent().closest(".key").css("height",r+"px")}if(n!=""){var i=Number(n);e.parent().closest(".key").css("width",i+"px")}}if(e.hasClass("jq-text-block-container")){if(t!=""){var r=Number(t);e.find(".key").css("height",r+"px")}if(n!=""){var i=Number(n);e.find(".key").css("width",i+"px")}}},e.AttachSmartMenu=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery("#sm").on("click",function(){}),jQuery(".smart-menu-width").spinner({min:0,max:2e3,step:1,change:function(e,t){},spin:function(e,t){},stop:function(t,n){a!=jQuery(this).val()&&(u=!0);var i="-";a>jQuery(this).val()?i="+":i="-",a=jQuery(this).val();if(u==1){u=!1,e.isSelectProcessing==0&&e.OnChange(this,"width");var o=r.Watch.MouseJQ.selectedElement;if(o!=undefined&&!o.hasClass("row")&&!o.hasClass("root-elements")){var f=new s.Manager.UndoManager;f.BeforeOperation()}}}}),jQuery(".smart-menu-height").spinner({min:0,max:5e3,step:1,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this,"height")},slide:function(t,n){e.isSelectProcessing==0&&e.OnChange(this,"height")},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this,"height");var i=r.Watch.MouseJQ.selectedElement,o=new s.Manager.UndoManager;o.BeforeOperation()}}),jQuery(".smart-menu-collapse-close").on("click",function(){jQuery("#sm").find(".smart-menu-controls").slideUp(),jQuery("#sm").find(".smart-menu-collapse-show").removeClass("hide"),jQuery(this).addClass("hide")}),jQuery(".smart-menu-collapse-show").on("click",function(){jQuery("#sm").find(".smart-menu-controls").slideDown(),jQuery("#sm").find(".smart-menu-collapse-close").removeClass("hide"),jQuery(this).addClass("hide")}),jQuery(".smart-menu-controls").on("mouseenter",function(){}),jQuery(".smart-menu-controls").on("mouseleave",function(){jQuery(n.ErrorHandle.ErrorJQ.notifyId).html(""),jQuery(n.ErrorHandle.ErrorJQ.notifyId).css("display","none")}),jQuery(".smart-menu-button-apply").on("click",function(){var t=r.Watch.MouseJQ.selectedElement,i=new n.ErrorHandle.ErrorJQ,s=$(this).closest(".smart-menu-controls-table").find(".smart-menu-width").spinner("value"),o=$(this).closest(".smart-menu-controls-table").find(".smart-menu-height").spinner("value");t!=undefined&&(t.hasClass("column")?(e.ProcessColumnWidth(s),t.css("min-height",o+"px")):(t.css("width",s+"px"),t.hasClass("row")||t.hasClass("column")?t.css("min-height",o+"px"):t.css("height",o+"px")))}))})},e.OnChange=function(t,i){r.Watch.MouseJQ.RemoveAndResetRemovableRow();var s=r.Watch.MouseJQ.selectedElement;s.hasClass("empty-container-text")?s=s.find(".jq-plus-container-text").first():s.hasClass("empty-container-image")&&(s=s.find(".jq-plus-container-image").first());if(s!=undefined){var o=new n.ErrorHandle.ErrorJQ,u=$(t).closest(".smart-menu-controls-table").find(".smart-menu-width").spinner("value"),a=$(t).closest(".smart-menu-controls-table").find(".smart-menu-height").spinner("value");s.hasClass("column")?(i=="width"&&e.ProcessColumnWidth(u),i=="height"&&s.css("min-height",a+"px")):(i=="width"&&!s.hasClass("root-elements")&&!s.hasClass("row")&&s.css("width",u+"px"),i=="height"&&(s.hasClass("row")||s.hasClass("column")||s.hasClass("root-elements")?s.css("min-height",a+"px"):s.css("height",a+"px")))}},e.ProcessColumnWidth=function(e){var t=r.Watch.MouseJQ.selectedElement;t.hasClass("empty-container-text")?t=t.find(".jq-plus-container-text").first():t.hasClass("empty-container-image")&&(t=t.find(".jq-plus-container-image").first());if(t!=undefined){var e=e,n=t.width(),s=jQuery(t).parent().width(),o=Math.floor(1*s/100),u=2,a=u*o,f=new i.Common.CommonMethodsJQ,l=jQuery(t).attr("style");f.RemoveStyle(t,"min-width"),f.RemoveStyle(t,"width");var c=48;if(e>n){var h=0,p=jQuery(t).nextAll(".column");try{var d=t.parent().children(".column"),v=0;for(var m=0;m<d.length;m++){var g=jQuery(d[m]).attr("xs-column-size");if(g!=undefined&&g!=""){var y=Number(g);v+=y}}v<c&&(h=c-v);var b=e-n,w=Math.floor(b/a);w==0&&(w=1);var E=jQuery(t).nextAll(".column").length,S=Math.floor(w/E);S==0&&(S=1);var x=w;for(var T=0;T<p.length;T++){if(!(x>0))break;var N=Number(jQuery(p[T]).attr("xs-column-size"));if(N==1)continue;var C=N-S;C<1?(x=x-S+1,C=1):x-=S,jQuery(p[T]).removeClass("col-xs-"+N),jQuery(p[T]).addClass("col-xs-"+C),jQuery(p[T]).attr("xs-column-size",C)}var k=Number(t.attr("xs-column-size")),L=k+w-x;w==x&&(L+=x);var A=0;t.parent().children(".column").each(function(){A+=Number(jQuery(this).attr("xs-column-size"))});var O=A-k,M=O+L;while(M>c)L--,M--;jQuery(t).removeClass("col-xs-"+k),jQuery(t).addClass("col-xs-"+L),t.attr("xs-column-size",L)}catch(_){}p.show()}else if(e<n){var p=jQuery(t).nextAll(".column");try{var b=n-e,w=Math.floor(b/a);w==0&&(w=1);var S=Math.floor(w/1);S==0&&(S=1);var k=Number(t.attr("xs-column-size"));if(k>1){var D=S,L=k-S;L<0&&(D=S+L,L=1),L==0&&(D=S-1,L=1),jQuery(t).removeClass("col-xs-"+k),jQuery(t).addClass("col-xs-"+L),t.attr("xs-column-size",L);var x=w;if(x>0){var N=Number(jQuery(p[0]).attr("xs-column-size")),C=N+D,A=0;t.parent().children(".column").each(function(){A+=Number(jQuery(this).attr("xs-column-size"))});var P=A-Number(jQuery(p[0]).attr("xs-column-size")),M=P+C;while(M>c)C--,M--;jQuery(p[0]).removeClass("col-xs-"+N),jQuery(p[0]).addClass("col-xs-"+C),jQuery(p[0]).attr("xs-column-size",C)}}}catch(_){}p.show()}var H=jQuery(t).nextAll(".column");H.show()}},e.ProcessSelectedValues=function(){e.isSelectProcessing=!0;var t=r.Watch.MouseJQ.selectedElement;t.hasClass("empty-container-text")?t=t.find(".jq-plus-container-text").first():t.hasClass("empty-container-image")&&(t=t.find(".jq-plus-container-image").first());if(t!=undefined){var n=t.css("height");n!=undefined&&(n.replace("%",""),n.indexOf("%")>-1||(n=n.replace("px","")));var i=t.css("width");i!=undefined&&(i.replace("%",""),i.indexOf("%")>-1||(i=i.replace("px",""))),jQuery(".smart-menu-height").spinner("value",n),jQuery(".smart-menu-width").spinner("value",i),e.isSelectProcessing=!1}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.smartMenuIconId=".smart-menu-icon",e.smartMenuId=".smart-menu",e.isSelectProcessing=!1,e}();e.SmartMenuJQ=t})(f=t.Smart||(t.Smart={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Controls/ControlsJQ",["require","exports","../Page/Context/ContextJQ","../_Classes/CssClass","../Constants/ConstantsJQ","../ControlNames/PageControlNamesJQ","../Error/ErrorJQ","../Watch/WatchMouseJQ","./FontJQ","./TextJQ","../SmartMenu/SmartMenuJQ"],function(e,t,n,r,i,s,o,u,a,f,l){var c;(function(e){var t=function(){function e(){}return e.prototype.Prepare=function(e){jQuery(e).find(".required-symbol").remove(),jQuery(e).find(".required").after("<span class='required-symbol'>*</span")},e}();e.RequiredJQ=t;var c=function(e){function s(){e.call(this)}return __extends(s,e),s.prototype.Init=function(){this.AttachPageAddRowJQ(),this.AttachFontJQ(),this.AttachInsertTextJQ(),this.AttachSmartMenu(),this.AttachReset()},s.prototype.AttachReset=function(){jQuery("#btnResetAddRowControls").click(function(){var e=new s;e.ResetAddRowsControls()})},s.prototype.AttachSmartMenu=function(){(new l.Smart.SmartMenuJQ).Init()},s.prototype.AttachFontJQ=function(){(new a.Font.FontJQ).Init()},s.prototype.AttachInsertTextJQ=function(){(new f.Text.TextJQ).Init()},s.prototype.AttachPageAddRowJQ=function(){this.LoadEvent(),this.AddRow(this.ResetAddRowsControls),this.RowColumnNamesDDN(),this.ControlColumns(),this.ControlRowHeight(),this.ControlColumnHeight(),(new t).Prepare(s.pageId)},s.prototype.LoadEvent=function(){jQuery(s.pageId).on("cust_loaded",function(){u.Watch.MouseJQ.selectedElement.hasClass("jq-Content")?(s.SetRowHeightControl("400"),s.SetColumnHeightControl("400")):(s.SetRowHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE),s.SetColumnHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE))})},s.SetRowHeightControl=function(e){jQuery(s.pageId).find(s.ROW_HEIGHT_CONTROL).val(e),jQuery(s.pageId).find(s.ROW_HEIGHT_VALUE_CONTROL).text(jQuery(s.ROW_HEIGHT_CONTROL).val()+" pixels")},s.SetColumnHeightControl=function(e){jQuery(s.pageId).find(s.COLUMN_HEIGHT_CONTROL).val(e),jQuery(s.pageId).find(s.COLUMN_HEIGHT_VALUE_CONTROL).text(jQuery(s.COLUMN_HEIGHT_CONTROL).val()+" pixels")},s.prototype.RowColumnNamesDDN=function(){jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).change(function(){var e=jQuery("#rows-columns option:selected").val();e==".jq-Content"&&(s.SetColumnHeightControl("400"),s.SetRowHeightControl("400"))})},s.prototype.ResetAddRowsControls=function(){var e=new s;e.LoadRowsAndColumnsNames(),e.ResetColumnControl(),e.ResetRowHeightControl(),e.ResetColumnHeightControl()},s.prototype.ResetColumnControl=function(){jQuery(s.CONTROL_COLUMNS).each(function(){jQuery(this).attr("data-set","0"),jQuery(this).removeClass("highlight-column")})},s.prototype.ResetRowHeightControl=function(){s.SetRowHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE)},s.prototype.ResetColumnHeightControl=function(){s.SetColumnHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE)},s.prototype.LoadRowsAndColumnsNames=function(){jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).empty();var e=jQuery(".debug-row-css"),t=jQuery(".debug-column-css"),n="<option value='select'>-- Select --</option>";jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(n);var r="<option value='.jq-Header'>Header</option>";jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(r);var r="<option value='.jq-MenuBar'>MenuBar</option>";jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(r),r="<option value='.jq-Content'>Body</option",jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(r),r="<option value='.jq-Footer'>Footer</option",jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(r);if(e.length>0)for(var i=0;i<e.length;i++){var o="<option value='"+jQuery(e[i]).text()+"'>"+jQuery(e[i]).text()+"</option>";jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(o)}if(t.length>0)for(var i=0;i<t.length;i++){var u="<option value='"+jQuery(t[i]).text()+"'>"+jQuery(t[i]).text()+"</option>";jQuery(s.pageId).find(s.DDN_ROWS_COLUMNS).append(u)}},s.prototype.AddRow=function(e){jQuery(".control-columns").click(function(){var e=jQuery(this).attr("data-set");e=="1"?(jQuery(this).attr("data-set","0"),jQuery(this).removeClass("highlight-column")):(jQuery(this).attr("data-set","1"),jQuery(this).addClass("highlight-column"));var t=new o.ErrorHandle.ErrorJQ;t.SetErrorClassName("page-add-row");var i=jQuery(".control-columns[data-set=1]"),a="",f=0,l=0;for(var c=0;c<i.length;c++)l=Number(jQuery(i[c]).attr("data-number")),c>0&&(l-=f),f=l+f,c==0?a+="col-xs-"+l:a+=" col-xs-"+l;var h=48-f;h>0&&(a+=" col-xs-"+h);var p=new n.Page.ContextJQ,d=u.Watch.MouseJQ.selectedElement;if(d!=undefined){var v=new r.CssClass.AdjustJQ,m=new r.CssClass.AdjustJQ;m.height=jQuery(s.pageId).find(s.COLUMN_HEIGHT_CONTROL).val(),d.hasClass("empty-container")&&(m.height=v.height);var g=d.attr("scopeId");jQuery(".removable-row").remove(),s.addedRow=p.Page.Any.AddRow(d,a,"",v,m),s.addedRow!=undefined&&(s.addedRow.addClass("removable-row"),s.addedRow.children(".column").addClass("columns-pending")),t.ActionSuccess(),jQuery(".jq-show-plus").css("display")!="none"&&jQuery(".jq-row-plus-container").hide()}}),jQuery(s.pageId).find(s.BTN_ADD_ROW).click(function(t,n){jQuery(".removable-row").removeClass("removable-row"),e!=undefined&&e()})},s.prototype.ControlColumns=function(){jQuery(s.pageId).find(s.CONTROL_COLUMNS).click(function(e,t){})},s.prototype.ControlRowHeight=function(){s.SetRowHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE),jQuery(s.pageId).find(s.ROW_HEIGHT_CONTROL).change(function(){jQuery(s.pageId).find(s.ROW_HEIGHT_VALUE_CONTROL).text(jQuery(this).val()+" pixels")})},s.prototype.ControlColumnHeight=function(){s.SetColumnHeightControl(i.Constants.ConstantsJQ.HEIGHTCONTROLRESETVALUE),jQuery(s.pageId).find(s.COLUMN_HEIGHT_CONTROL).change(function(){jQuery(s.pageId).find(s.COLUMN_HEIGHT_VALUE_CONTROL).text(jQuery(this).val()+" pixels")})},s.ProcessSelectNotify=function(){var e=u.Watch.MouseJQ.selectedElement;jQuery(".removable-row").removeClass("removable-row"),jQuery(".columns-pending").removeClass("columns-pending");var t=new s;t.ResetColumnControl()},s.pageId="#control-add-row",s}(s.PageControlNamesJQ.Page.AddRow.Controls);e.AddRowJQ=c})(c=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Controls/ImageJQ",["require","exports","../Error/ErrorJQ","../ControlNames/PageControlNamesJQ","../Page/Context/ContextJQ","../Watch/WatchMouseJQ","./ControlCommonJQ","../UndoManager/UndoManager"],function(e,t,n,r,i,s,o,u){var a=!0,f=0,l=0,c;(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.Init=function(){this.AttachUserImages(),this.AttachSelectImage(),this.AttachInsertImage()},t.prototype.GenerateTextBlockScopeId=function(){return"Image_Block_"+ ++f},t.prototype.GenerateContainerScopeId=function(){return"Image_Block_Container_"+ ++l},t.prototype.AttachSelectImage=function(){jQuery("#control-image-bi-library").on("click",".image-library-image",function(){jQuery(".image-library-image").removeClass("image-library-select"),jQuery(".image-library-image").removeClass("image-library-bi-select"),jQuery(this).addClass("image-library-select"),jQuery(this).addClass("image-library-bi-select")}),jQuery(t.controlId).on("click",".image-library-image",function(){jQuery(".image-library-image").removeClass("image-library-select"),jQuery(this).addClass("image-library-select")})},t.IsImageUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(t.test(e)==1&&e.length>=5){var n=e.toLowerCase(),r=["jpeg","jpg","png","gif"];for(var i=0;i<r.length;i++){var s=n.substr(n.length-5,5),o=s.split(".");if(o.length>=2&&o[1]==r[i])return!0}}return!1},t.prototype.AttachInsertImage=function(){jQuery(t.controlId).find(".action-button-insert-image").click(function(){jQuery(".internet-image-url").val()!=""?t.InsertImage(jQuery(".internet-image-url").val()):t.InsertImage(undefined)}),jQuery(".action-button-change-image").click(function(){var e=s.Watch.MouseJQ.selectedElement;if(e!=undefined&&e.hasClass("empty-container-image")){var t=jQuery(".image-library-select").attr("src");if(t!=""){e.find(".jq-plus-container-image").find("img").attr("src",t);var r=new u.Manager.UndoManager;r.BeforeOperation()}}else{var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("please select a image change.")}jQuery("#control-image-library").hide()})},t.ChangeImage=function(){jQuery(".action-button-insert-image").hide(),jQuery(".action-button-change-image").show(),jQuery("#control-image-library").show(),jQuery("#control-image-library").trigger("custom_loaded")},t.InsertImage=function(e){var r=new t,u=new n.ErrorHandle.ErrorJQ;u.SetErrorClassName("page-insert-image");var f=new i.Page.ContextJQ,l=s.Watch.MouseJQ.selectedElement;l==undefined&&(l=jQuery("#nnnoelement"));if(l!=undefined){var c=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),d=document.createElement("img");jQuery(d).addClass("jq-image-block-image "),jQuery(d).addClass("normal-element image-element"),jQuery(p).addClass("jq-image-block-image-wrapper ");var v;e==undefined?v=jQuery(".image-library-select").attr("src"):v=e,jQuery(d).attr("src",v),jQuery(p).append(d),jQuery(h).append(p),jQuery(h).addClass(t.CSSCLASS);var m=r.GenerateTextBlockScopeId();a==1&&h!=undefined&&jQuery(h).prepend("<span class='debug-image-block-css debug-css' scopeId='"+m+"'> "+m+" </span> "),jQuery(h).attr("scopeId",m),jQuery(c).append(h);var g=r.GenerateContainerScopeId();a==1&&jQuery(c).append(" <span class='debug-image-block-container-css debug-css' scopeId='"+g+"'> "+g+" </span> "),jQuery(c).addClass(t.CONTAINER_CSS_CLASS),jQuery(c).attr("scopeId",g);if(l.hasClass("column")==1||l.hasClass("empty-container-text")||l.hasClass("empty-container-image")||l.hasClass("empty-container")||window.smartObj!=null){var y=jQuery(".jq-plus-container.jq-plus-container-not-used").clone();y.removeClass("jq-plus-container-not-used"),y.addClass("jq-plus-container-image"),y.addClass("design-css"),y.addClass("design-empty-text-css"),y.removeClass("jq-plus-container");var b=document.createElement("div");y.css("height","200px"),y.css("width","200px");var w=jQuery(b);w.addClass("empty-container-image image-text-other key design-css design-empty-text-css"),w.append(y),y.find(".jq-plus-content").append(c),window.smartObj==null||window.smartObj.command==""?f.Page.Any.Add(l,w,"",undefined,undefined,undefined,undefined):f.Page.Any.Add(l,w,"",undefined,undefined,!0,undefined);if(l.hasClass("jq-image-block-container")){var E=l.attr("scopeId");l.find(".debug-image-block-container-css[scopeId="+E+"]").remove(),E!=undefined&&l.append('<span class="debug-image-block-container-css debug-css" scopeId="'+E+'" > '+E+"</span>")}jQuery(c).find(".debug-css").remove(),u.ActionSuccess(""),jQuery(t.controlId).hide(),o.ControlCommon.Code.DestroyResizable(),o.ControlCommon.Code.Execute()}else u.ActionFail("You can only insert in a column or empty container [].")}jQuery(".image-library-image").removeClass("image-library-select"),jQuery(".internet-image-url").val("")},t.prototype.AttachUserImages=function(){jQuery(".load-more-images").click(function(){t.GetImages()}),jQuery(t.controlId).on("custom_loaded",function(){t.ClearImageGalaryPagingValue(),t.GetImages()})},t.SetImageGalaryPagingValue=function(){jQuery(".imges-get-start").val((Number(jQuery(".imges-get-start").val())+20).toString())},t.GetImageGalaryPagingValue=function(){if(jQuery(".imges-get-start").length==0){var e=jQuery(document.createElement("input"));e.addClass("imges-get-start hide"),jQuery("body").append(e),jQuery(".imges-get-start").val("0")}return jQuery(".imges-get-start").val()},t.GetImages=function(){var e={start:t.GetImageGalaryPagingValue(),pageSize:20},n=JSON.stringify(e);jQuery.ajax({type:"POST",url:"/services/ImageService.asmx/GetImages",data:n,contentType:"application/json; charset=utf-8",dataType:"json",success:t.OnGetImagesSuccess,error:t.OnGetImagesError})},t.ClearImageGalaryPagingValue=function(){jQuery(".imges-get-start").val("0")},t.OnGetImagesSuccess=function(e,n){var r;r=e.d,r.length>0&&(t.GetImageGalaryPagingValue()=="0"&&jQuery(".image-library").html(""),t.SetImageGalaryPagingValue());for(var i=0;i<r.length;i++){var s=document.createElement("div");jQuery(s).addClass("image-lib-container");var o=document.createElement("img");jQuery(o).attr("src",r[i].Path),jQuery(o).addClass("image-library-image"),jQuery(o).addClass("img-thumbnail"),jQuery(s).append(o),jQuery(".image-library").append(s)}},t.OnGetImagesError=function(e,t,r){var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("Some Problem !. <br>Try again latter.")},t.ProcessSelectNotify=function(){var e=new n.ErrorHandle.ErrorJQ,t=s.Watch.MouseJQ.selectedElement;t!=undefined&&(t.hasClass("row")||t.hasClass("normal-element"))},t.controlId="#control-image-library",t.CSSCLASS="jq-image-block design-image-block normal-element",t.CONTAINER_CSS_CLASS="jq-image-block-container design-image-block normal-element jq-container",t}(r.PageControlNamesJQ.Page.Image.Controls);e.SelfJQ=t})(c=t.Image||(t.Image={}))}),define("Controls/BorderJQ",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../Common/CommonMethodsJQ","../UndoManager/UndoManager"],function(e,t,n,r,i,s){var o=!1,u=0,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachBorder()},e.AttachBorder=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery(".border-advanced-show").click(function(){jQuery(".jq-border-advanced").fadeToggle(1)}),jQuery(".control-border-thickness-radius").spinner({min:0,max:5e3,step:1,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},spin:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this);var r=new s.Manager.UndoManager;r.BeforeOperation()}}),jQuery(".control-border-thickness").spinner({min:0,max:50,step:1,value:0,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},spin:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this);var r=new s.Manager.UndoManager;r.BeforeOperation()}}),jQuery(".color-picker").colpick({layout:"hex",submit:0,colorScheme:"dark",onChange:function(e,t,n,r,i){$(r).css("border-color","#"+t),i||jQuery(r).val(t),jQuery(r).hasClass("color-picker-all")&&(jQuery(".color-picker").not(".color-picker-all").val(jQuery(r).val()+""),jQuery(".color-picker").not(".color-picker-all").colpickSetColor(jQuery(r).val()+"")),jQuery(r).change()},onHide:function(){var e=new s.Manager.UndoManager;e.BeforeOperation()}}).keyup(function(){$(this).colpickSetColor(this.value)}),jQuery(".color-picker").trigger("keyup"),jQuery(".color-picker").on("change",function(){e.OnChange(this)}),jQuery(e.controlBtnApply).on("click",function(){var e=r.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=new n.ErrorHandle.ErrorJQ,s=new i.Common.CommonMethodsJQ,o=$(this).closest(".control-border-controls").find(".control-border-thickness-left").spinner("value"),u=$(this).closest(".control-border-controls").find(".control-border-thickness-top").spinner("value"),a=$(this).closest(".control-border-controls").find(".control-border-thickness-right").spinner("value"),f=$(this).closest(".control-border-controls").find(".control-border-thickness-bottom").spinner("value"),l=$(this).closest(".control-border-controls").find(".control-border-thickness-radius").spinner("value");l!=undefined&&e.css("border-radius",l+"px");if(o!=undefined){e.css("border-left-width",o+"px");var c=$(this).closest(".control-border-controls").find(".color-picker-left").val();e.css("border-left-color","#"+c)}if(u!=undefined){e.css("border-top-width",u+"px");var c=$(this).closest(".control-border-controls").find(".color-picker-top").val();e.css("border-top-color","#"+c)}if(a!=undefined){e.css("border-right-width",a+"px");var c=$(this).closest(".control-border-controls").find(".color-picker-right").val();e.css("border-right-color","#"+c)}if(f!=undefined){e.css("border-bottom-width",f+"px");var c=$(this).closest(".control-border-controls").find(".color-picker-bottom").val();e.css("border-bottom-color","#"+c)}e.css("border-style","solid"),o==0&&u==0&&a==0&&f==0&&(s.RemoveStyle(e,"border-left-width"),s.RemoveStyle(e,"border-top-width"),s.RemoveStyle(e,"border-bottom-width"),s.RemoveStyle(e,"border-right-width"),s.RemoveStyle(e,"border-color"),s.RemoveStyle(e,"border"))}}))})},e.OnChange=function(t){e.isSelectProcessing=!0;try{u!=0&&(u=1,r.Watch.MouseJQ.RemoveAndResetRemovableRow());var s=r.Watch.MouseJQ.selectedElement;if(s!=undefined){var o=new n.ErrorHandle.ErrorJQ;jQuery(t).hasClass("control-border-thickness-all")&&jQuery(".control-border-thickness").not(".control-border-thickness-all").not(".control-border-thickness-radius").spinner("value",jQuery(t).val());var a=new i.Common.CommonMethodsJQ,f=$(".control-border-thickness-left").spinner("value"),l=$(".control-border-thickness-top").spinner("value"),c=$(".control-border-thickness-right").spinner("value"),h=$(".control-border-thickness-bottom").spinner("value"),p=$(".control-border-thickness-radius").spinner("value");p!=undefined&&s.css("border-radius",p+"px");if(f!=undefined){s.css("border-left-width",f+"px");var d=$(t).closest(".control-border-controls").find(".color-picker-left").val();s.css("border-left-color","#"+d)}if(l!=undefined){s.css("border-top-width",l+"px");var d=$(t).closest(".control-border-controls").find(".color-picker-top").val();s.css("border-top-color","#"+d)}if(c!=undefined){s.css("border-right-width",c+"px");var d=$(t).closest(".control-border-controls").find(".color-picker-right").val();s.css("border-right-color","#"+d)}if(h!=undefined){s.css("border-bottom-width",h+"px");var d=$(t).closest(".control-border-controls").find(".color-picker-bottom").val();s.css("border-bottom-color","#"+d)}s.css("border-style","solid"),f==0&&l==0&&c==0&&h==0&&(a.RemoveStyle(s,"border-left-width"),a.RemoveStyle(s,"border-top-width"),a.RemoveStyle(s,"border-bottom-width"),a.RemoveStyle(s,"border-right-width"),a.RemoveStyle(s,"border-color"),a.RemoveStyle(s,"border")),s.removeClass("image-selection")}}catch(v){}e.isSelectProcessing=!1},e.ProcessSelectedValues=function(){var t=r.Watch.MouseJQ.selectedElement;if(t!=undefined){t.removeClass("image-selection");var n=t.css("border-left-width"),i=t.css("border-top-width"),s=t.css("border-right-width"),o=t.css("border-bottom-width"),u=t.css("border-top-left-radius"),a=t.css("border-left-color"),f=t.css("border-top-color"),l=t.css("border-right-color"),c=t.css("border-bottom-color");u!=undefined&&(u=u.replace("px",""),jQuery(".control-border-thickness-radius").spinner("value",u)),n!=undefined&&(n=n.replace("px",""),jQuery(".control-border-thickness-left").spinner("value",n)),i!=undefined&&(i=i.replace("px",""),jQuery(".control-border-thickness-top").spinner("value",i)),s!=undefined&&(s=s.replace("px",""),jQuery(".control-border-thickness-right").spinner("value",s)),o!=undefined&&(o=o.replace("px",""),jQuery(".control-border-thickness-bottom").spinner("value",o)),n==i&&n==s&&n==o&&jQuery(".control-border-thickness-all").spinner("value",n),a!=undefined&&(a=e.RgbToHex(a),jQuery(".color-picker-left").val(a+""),jQuery(".color-picker-left").colpickSetColor(a+"")),f!=undefined&&(f=e.RgbToHex(f),jQuery(".color-picker-top").val(f+""),jQuery(".color-picker-top").colpickSetColor(f+"")),l!=undefined&&(l=e.RgbToHex(l),jQuery(".color-picker-right").val(l+""),jQuery(".color-picker-right").colpickSetColor(l+"")),c!=undefined&&(c=e.RgbToHex(c),jQuery(".color-picker-bottom").val(c+""),jQuery(".color-picker-bottom").colpickSetColor(c+"")),a==f&&a==l&&a==c&&(jQuery(".color-picker-all").val(a+""),jQuery(".color-picker-all").colpickSetColor(a+"")),t.addClass("image-selection")}},e.RgbToHex=function(e){try{var t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),n,r,i;return n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),((1<<24)+(n<<16)+(r<<8)+i).toString(16).slice(1)}catch(s){return""}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.controlId=".control-border",e.controlBtnApply=".action-button-border-apply",e.isSelectProcessing=!1,e}();e.BorderJQ=t})(a=t.Border||(t.Border={}))}),define("common/commonmethodsjq",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.prototype.Trim=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string")return this.TrimRight(this.TrimLeft(e))},e.prototype.RemoveStyle=function(e,t){if(t==undefined)return;t=t.toLowerCase();var n=new RegExp(t+"[^;]+;?","g");jQuery(e).each(function(){$(this).attr("style",function(e,t){if(t!=undefined){var r=t.replace(n,"");return r}})})},e.prototype.RemoveSingleStyle=function(e,t){if(t==undefined)return;t=t.toLowerCase();var n=new RegExp(t+"s*:.*?;","g");jQuery(e).each(function(){$(this).attr("style",function(e,t){if(t!=undefined){var r=t.replace(n,"");return r}})})},e.prototype.TrimLeft=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string"){var t=0;for(var n=0;n<e.length;n++){e[n]==" "&&(t=n+1);if(n+1<e.length&&e[n+1]!=" ")break}t<e.length&&(e=e.toString().slice(t))}return e},e.prototype.TrimRight=function(e){if(e!=undefined&&typeof e.toLowerCase()=="string"){var t=e.length;for(var n=e.length-1;n>-1;n--){e[n]==" "&&(t=n);if(n-1>-1&&e[n-1]!=" ")break}return t>-1&&(e=e.toString().slice(0,t)),e}},e.prototype.RemoveSpaces=function(e){return e!=undefined&&typeof e.toLowerCase()=="string"&&(e=e.replace(/ /g,"")),e},e.prototype.Insert=function(e,t,n){if(t!=undefined&&n!=undefined&&typeof t.toLowerCase()=="string"&&typeof n.toLowerCase()=="string")return e>0&&e<t.length?t.substring(0,e)+n+t.substring(e,t.length):t},e}();e.CommonMethodsJQ=t})(n=t.Common||(t.Common={}))}),define("Controls/ColorJQ",["require","exports","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../common/commonmethodsjq"],function(e,t,n,r,i){var s=!1,o;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachColor()},e.AttachColor=function(){jQuery(document).ready(function(){s==0&&(s=!0,jQuery(".remove-gradient").click(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=new i.Common.CommonMethodsJQ;t.RemoveSingleStyle(e,"background")}}),jQuery(".fb-color-picker-gradient").colpick({layout:"hex",submit:0,colorScheme:"dark",onChange:function(e,t,n,r,i){jQuery(r).css("border-color","#"+t),i||jQuery(r).val(t).change()},onHide:function(){var e=new r.Manager.UndoManager;e.BeforeOperation()}}).keyup(function(){$(this).colpickSetColor(this.value)}),jQuery(".fb-color-picker").colpick({layout:"hex",submit:0,colorScheme:"dark",onChange:function(e,t,n,r,i){jQuery(r).css("border-color","#"+t),i||jQuery(r).val(t).change()},onHide:function(){var e=new r.Manager.UndoManager;e.BeforeOperation()}}).keyup(function(){$(this).colpickSetColor(this.value)}),jQuery(".fb-color-picker").trigger("keyup"),jQuery(".fb-color-picker").on("change",function(){n.Watch.MouseJQ.RemoveAndResetRemovableRow();var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=$(this).closest(".control-color-controls").find(".control-color-foreground-color").val();e.css("color","#"+t);var r=$(this).closest(".control-color-controls").find(".control-color-background-color").val();e.css("background-color","#"+r)}}),jQuery(".fb-color-picker-gradient").on("change",function(){n.Watch.MouseJQ.RemoveAndResetRemovableRow();var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=$(this).closest(".control-color-controls").find(".control-color-gradient-color-1").val(),r=$(this).closest(".control-color-controls").find(".control-color-gradient-color-2").val(),i=["-webkit-linear-gradient","-o-linear-gradient","-moz-linear-gradient","linear-gradient"];for(var s=0;s<i.length;s++)e.css("background",""+i[s]+"("+"#"+t+","+"#"+r+")")}}),jQuery(e.controlBtnApply).on("click",function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=$(this).closest(".control-color-controls").find(".control-color-foreground-color").val();e.css("color","#"+t);var i=$(this).closest(".control-color-controls").find(".control-color-background-color").val();e.css("background-color","#"+i);var s=new r.Manager.UndoManager;s.BeforeOperation()}}))})},e.ProcessSelectedValues=function(){var t=n.Watch.MouseJQ.selectedElement;if(t!=undefined){var r=t.css("color");r!=undefined&&(r=e.RgbToHex(r),jQuery(".control-color-foreground-color").val(r),jQuery(".control-color-foreground-color").trigger("keyup"));var r=t.css("background-color");r!=undefined&&(r=e.RgbToHex(r),jQuery(".control-color-background-color").val(r),jQuery(".control-color-background-color").trigger("keyup"))}},e.RgbToHex=function(e){try{var t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),n,r,i;return n=Number(t[0]),r=Number(t[1]),i=Number(t[2]),((1<<24)+(n<<16)+(r<<8)+i).toString(16).slice(1)}catch(s){return""}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.controlId="#control-color",e.controlBtnApply=".action-button-color-apply",e}();e.ColorJQ=t})(o=t.Color||(t.Color={}))}),define("Watch/ClipBoardJQ",["require","exports","../Controls/ImageJQ"],function(e,t,n){var r;(function(e){var t=function(){function e(){}return e.prototype.InsertImage=function(e){n.Image.SelfJQ.InsertImage(e)},e.prototype.InsertText=function(e){},e}();e.ClipBoardJQ=t})(r=t.ClipBoard||(t.ClipBoard={}))}),define("Watch/CopyPasteJQ",["require","exports","./WatchMouseJQ","../Error/ErrorJQ","../Controls/ControlCommonJQ","../UndoManager/UndoManager","./ClipBoardJQ"],function(e,t,n,r,i,s,o){var u,a=!1,f=function(){function e(){}return e}(),l;(function(e){var t=function(){function e(){}return e.Const=function(){e.ClipBoardData=new f},e.prototype.Init=function(){},e.SetClipBoard=function(t){e.ClipBoardData.data=t},e.IsImageUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(t.test(e)==1&&e.length>=5){var n=e.toLowerCase(),r=["jpeg","jpg","png","gif"];for(var i=0;i<r.length;i++){var s=n.substr(n.length-5,5),o=s.split(".");if(o.length>=2&&o[1]==r[i])return!0}}return!1},e.CreateLinkContainer=function(){var e=n.Watch.MouseJQ.selectedElement;e==undefined&&(e=jQuery("#nononoelement"));var t=jQuery(document.createElement("div"));t.addClass("key empty-container links-container image-text-other"),e.append(t),i.ControlCommon.Code.Execute()},e.Delete=function(){var e=n.Watch.MouseJQ.selectedElement,t=new r.ErrorHandle.ErrorJQ;if(e!=undefined){e.hasClass("jq-Header")||e.hasClass("jq-MenuBar")||e.hasClass("jq-Content")||e.hasClass("jq-Footer")?e.hide():e.hasClass("jq-image-block-image")?e.closest(".jq-plus-container").remove():e.hasClass("jq-text-block")?e.closest(".jq-plus-container").remove():e.remove();var i=new s.Manager.UndoManager;i.BeforeOperation()}},e.Cut=function(){a=!0;var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.removeClass("image-selection");if(!e.hasClass("root-elements"))e.hasClass("jq-image-block-image")?u=e.closest(".jq-plus-container"):e.hasClass("jqte")?u=e.closest(".jq-plus-container"):u=e;else{u=jQuery("#noelement--x");var t=new r.ErrorHandle.ErrorJQ;t.ActionFail("You can only cut Text , Image.")}}},e.Copy=function(){a=!1;var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined)if(!e.hasClass("root-elements"))e.removeClass("image-selection"),i.ControlCommon.Code.DestroyResizable(),e.hasClass("jq-image-block-image")?u=e.closest(".jq-plus-container").clone():e.hasClass("jqte")?u=e.closest(".jq-plus-container").clone():u=e.clone(),i.ControlCommon.Code.Execute();else{u=jQuery("#noelement--x");var t=new r.ErrorHandle.ErrorJQ;t.ActionSuccess("You can only copy Text , Image.")}},e.Paste=function(){var e=n.Watch.MouseJQ.selectedElement,t=new r.ErrorHandle.ErrorJQ;if(jQuery(u).length==0){t.ActionFail("Please select and copy/cut a element.");return}if(e!=undefined)if(e.hasClass("empty-container")||e.hasClass("empty-container-text")||e.hasClass("empty-container-image")||e.hasClass("column")){jQuery.contains(u[0],e[0])?t.ActionFail("You can only cut and paste element in to same element."):(u.children(".ui-resizable-handle").css("margin","0px"),a==1&&i.ControlCommon.Code.DestroyResizable(),e.append(u)),a==1&&(u=jQuery("#noelement--x")),i.ControlCommon.Code.Execute();var o=new s.Manager.UndoManager;o.BeforeOperation(),a=!1}else t.ActionFail("You can only paste element to a column and empty blocks.")},e.PasteClipBoard=function(){var t=n.Watch.MouseJQ.selectedElement,u=new r.ErrorHandle.ErrorJQ;if(t!=undefined){if(t.hasClass("empty-container")||t.hasClass("column")){if(e.ClipBoardData.data!=undefined&&e.ClipBoardData.data!="")if(e.IsImageUrl(e.ClipBoardData.data)){var a=new o.ClipBoard.ClipBoardJQ;a.InsertImage(e.ClipBoardData.data)}else{var a=new o.ClipBoard.ClipBoardJQ;a.InsertText(e.ClipBoardData.data)}i.ControlCommon.Code.Execute();var f=new s.Manager.UndoManager;f.BeforeOperation()}}else u.ActionFail("You can only paste element to a column and empty blocks.")},e.staticRun=e.Const(),e}();e.CopyPasteJQ=t})(l=t.CopyPaste||(t.CopyPaste={}))}),define("cssManager/cssManagerJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e}();e.Menu=t;var n=function(){function e(){this.cssPath="/Content/Menus/[MenuName]/[Color]/menu.css",this.jsPath="/Content/Menus/[MenuName]/[Color]/menu.js",this.htmlPath="/Content/Menus/[MenuName]/[Color]/index.html",this.Menus=[{Id:1,MenuName:"2",Color:"green",HtmlPath:"",MenuId:2},{Id:2,MenuName:"2",Color:"blue",HtmlPath:"",MenuId:3}]}return e.prototype.GetHtml=function(e){try{this.Menus[e];var t;t=this.Menus[e];var n=this.htmlPath.replace("[MenuName]",t.MenuName);return n=n.replace("[Color]",t.Color),n}catch(r){}},e.prototype.Add=function(e){try{this.Menus[e];var t;t=this.Menus[e];var n=this.cssPath.replace("[MenuName]",t.MenuName);n=n.replace("[Color]",t.Color);var r=this.jsPath.replace("[MenuName]",t.MenuName);r=r.replace("[Color]",t.Color),jQuery("head").append("<link menu-id='"+t.Id+"' rel='stylesheet' href='"+n+"'/>"),jQuery("head").append("<script menu-id='"+t.Id+"' type='text/javascript' src='"+r+"'> </script>")}catch(i){}},e.prototype.Remove=function(e){try{this.Menus[e],jQuery("link[menu-id=' "+e+"']").remove(),jQuery("script[menu-id='"+e+"']").remove()}catch(t){}},e}();e.CssManagerJQ=n})(n=t.CssManager||(t.CssManager={}))}),define("Menu/MenuLinksJQ",["require","exports","../Error/ErrorJQ"],function(e,t,n){var r;(function(e){var t;(function(e){var t=function(){function e(){}return e.prototype.Get=function(e){var t;if(e==1)return t=[{name:"home",pageLocation:"#",text:"Home",subLinks:[{name:"SubLink Home 1",pageLocation:"/x2",text:"SubLink Home 1",subLinks:[{name:"SubLink Home 1.1",pageLocation:"/x1",text:"SubLink Home 1.1   ",subLinks:[{name:"SubLink Home 1.1.1",pageLocation:"x2",text:"SubLink Home 1.1.1",subLinks:[]}]}]}]},{name:"Contact",pageLocation:"/eventvideos",text:"Contact Us",subLinks:[]},{name:"About",pageLocation:"#",text:"About Us",subLinks:[{name:"SubLink Home 1",pageLocation:"/x2",text:"SubLink Home 1",subLinks:[{name:"SubLink Home 1.1",pageLocation:"/x1",text:"SubLink Home 1.1   ",subLinks:[{name:"SubLink Home 1.1.1",pageLocation:"x2",text:"SubLink Home 1.1.1",subLinks:[]}]}]}]}];if(e==2)return[{name:"Home",pageLocation:"/x1",text:"Home",subLinks:[{name:"SubLink Home 1",pageLocation:"/x2",text:"SubLink Home 1",subLinks:[{name:"SubLink Home 1.1",pageLocation:"/x1",text:"SubLink Home 1.1   ",subLinks:[{name:"SubLink Home 1.1.1",pageLocation:"x2",text:"SubLink Home 1.1.1",subLinks:[]}]}]}]},{name:"About",pageLocation:"x1",text:"About",externalLocation:!0,subLinks:[{name:"SubLink About 1",pageLocation:"/x2",text:"SubLink About 1",subLinks:[{name:"SubLink About 1.1",pageLocation:"/x1",text:"SubLink About 1.1",subLinks:[{name:"SubLink About 1.1.1",pageLocation:"x2",text:"SubLink About 1.1.1",subLinks:[]}]}]}]}];if(e==3)return[{name:"Home",pageLocation:"/nopage",text:"Home",subLinks:[{name:"SubLink Home 1",pageLocation:"x1",text:"SubLink Home 1",subLinks:[]}]},{name:"About",pageLocation:"x2",text:"About",externalLocation:!0,subLinks:[]},{name:"Video Samples",pageLocation:"http://www.http.com",text:"Video Samples",subLinks:[]},{name:"Event",pageLocation:"/eventvideos",text:"Event",subLinks:[{name:"Videos",pageLocation:"/eventvideos",text:"Videos",subLinks:[]}]}];(new n.ErrorHandle.ErrorJQ).LogMessage("menu not found")},e}();e.MenuLinksJQ=t})(t=e.Menu||(e.Menu={}))})(r=t.Page||(t.Page={}))}),define("Menu/MenuTemplateJQ",["require","exports","../_Classes/UrlJQ","../Menu/MenuLinksJQ"],function(e,t,n,r){var i=!1,s;(function(e){var t;(function(e){var t=function(){function e(){this.menuOneId=1,this.menuTwoId=2,this.menuThreeId=3,this.menuFourId=4,this.menuFiveId=5}return e.prototype.CreateMenuTemplate=function(e,t,n,i){n==undefined&&(n=(new r.Page.Menu.MenuLinksJQ).Get(e),this.currentMenuLinks=n);var s;if(n!=undefined&&n.length>0){s=jQuery("<div  id='menu-"+i+"' class='jqMenuContainer"+t+"'> </div>");var o=this.CreateUL("menu",n);s.append(o),s.prepend("<div class='rotator'></div>")}return s},e.prototype.CreateUL=function(e,t,r){r===void 0&&(r=1);var s=jQuery("<ul class='"+e+"'> </ul>"),o=new n.Common.UrlJQ;for(var u=0;u<t.length;u++){var a=t[u].pageLocation,f=o.PreparePageHref(a),l="";t[u].subLinks!=undefined&&t[u].subLinks.length>0&&(l="has-children");var c=' <a class="li '+l+'" href="'+f+'"> '+t[u].text+"</a> ";c==undefined&&(c="");var h=t[u].name;h!=undefined&&(h=h.toString().replace(/\s+/g,""),h=h.toUpperCase(),h="jqPrimaryMenu-"+h);var p=jQuery("<li> "+c+"</li> ");s.append(p);var d;t[u].subLinks!=undefined&&t[u].subLinks.length>0&&(r++,d=this.CreateUL("jqSubMenuUl",t[u].subLinks,r),r--),d!=undefined&&jQuery(p).append(d),r==1&&i==0&&(i=!0,p.addClass("active"),p.find(".li").first().addClass("active-link")),p.addClass("level-"+r)}return s},e}();e.MenuTemplateJQ=t})(t=e.Menu||(e.Menu={}))})(s=t.Page||(t.Page={}))}),define("Controls/Menujq",["require","exports","../Error/ErrorJQ","../Page/Context/ContextJQ","../Watch/WatchMouseJQ","./ControlCommonJQ","../cssManager/cssManagerJQ","../Menu/MenuTemplateJQ"],function(e,t,n,r,i,s,o,u){var a=!0,f=0,l=!1,c=!1,h=0,p;(function(e){var t=function(){function e(){}return e.prototype.InitInsert=function(){},e.prototype.GenerateContainerScopeId=function(){return"Menu_Container_"+ ++f},e.prototype.Init=function(){c==0&&(c=!0,jQuery(document).ready(function(){l==0&&(l=!0,e.AttachClose(),e.AttachInsertMenu(),e.AttachNextMenu(),e.AttachPrevMenu())}))},e.AttachNextMenu=function(){jQuery(".control-menu-next").click(function(){var e=new o.CssManager.CssManagerJQ;h++;if(h<e.Menus.length){var t=e.GetHtml(h),n=jQuery(document.createElement("iframe"));n.attr("src",t),n.addClass("menu-iframe"),jQuery(".control-menu-styles").html(""),jQuery(".control-menu-styles").append(n)}else h=e.Menus.length-1})},e.AttachPrevMenu=function(){jQuery(".control-menu-prev").click(function(){var e=new o.CssManager.CssManagerJQ;h--;if(h>=0){var t=e.GetHtml(h),n=jQuery(document.createElement("iframe"));n.attr("src",t),n.addClass("menu-iframe"),jQuery(".control-menu-styles").html(""),jQuery(".control-menu-styles").append(n)}else h=0})},e.AttachClose=function(){jQuery(".control-menu").find(".close-button").on("click",function(){jQuery(this).closest(".control-page").hide(),jQuery(n.ErrorHandle.ErrorJQ.notifyId).css("display","none"),jQuery(n.ErrorHandle.ErrorJQ.notifyId).html("")})},e.AttachInsertMenu=function(){jQuery(".control-menu").find(".control-menu-insert").click(function(t,n){var a=new o.CssManager.CssManagerJQ;if(h>=0&&h<a.Menus.length){var f=a.Menus[h].MenuId,l=new u.Page.Menu.MenuTemplateJQ,c=l.CreateMenuTemplate(1,"",undefined,f),p=new e,d=new r.Page.ContextJQ,v=i.Watch.MouseJQ.selectedElement;if(v!=undefined){var m=document.createElement("div");jQuery(m).append(c);var g=p.GenerateContainerScopeId();jQuery(m).attr("scopeId",g);if(v.hasClass("column")==1||v.hasClass("empty-container")){var y=document.createElement("span");jQuery(y).addClass("empty-container-menu key image-text-other "),jQuery(y).css("font-size","14px");var b=jQuery(".jq-plus-container.jq-plus-container-not-used").clone();b.removeClass("jq-plus-container"),b.addClass("jq-plus-container-text"),b.removeClass("jq-plus-container-not-used"),b.find(".jq-plus-content").append(m),jQuery(y).append(b),d.Page.Any.Add(v,jQuery(y),"",undefined,undefined,!0,undefined),s.ControlCommon.Code.Execute()}a.Add(h)}}})},e.ProcessShow=function(){var e=new o.CssManager.CssManagerJQ;h=0;var t=e.GetHtml(h),n=jQuery(document.createElement("iframe"));n.attr("src",t),n.addClass("menu-iframe"),jQuery(".control-menu-styles").html(""),jQuery(".control-menu-styles").append(n)},e.ProcessSelectNotify=function(){var e=new n.ErrorHandle.ErrorJQ,t=i.Watch.MouseJQ.selectedElement;t!=undefined&&(t.hasClass("row")||t.hasClass("normal-element"))&&e.ActionHelp("Help : You cannot [Text] insert here.")},e}();e.MenuJQ=t})(p=t.Menu||(t.Menu={}))}),define("controls/JQueryUI",["require","exports","../Common/CommonMethodsJQ","../UndoManager/UndoManager"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){}return e.Draggable=function(t,n){jQuery(t).draggable({cancel:n,revert:"invalid",start:function(t,n){e.droppableCount++,n.helper.css("z-index","9999999999"),n.helper.css("opacity","0.6")},stop:function(t,n){e.droppableCount=0,n.helper.css("opacity","1"),n.helper.css("z-index","1")}})},e.DraggableDestroy=function(e){jQuery(e).draggable("destroy")},e.ResizableImage=function(){var e="e,se,s";$(".image-element").resizable({handles:e,start:function(e,t){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-width"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"width")},stop:function(e,t){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-width"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"width")}})},e.ResizableColumn=function(){var e="e,se,s";$(".column").resizable({handles:e,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height")}var i=jQuery(t.helper).nextAll(".column");i.hide()},stop:function(e,t){jQuery(".ui-resizable-se").removeClass("selected-resizable");var i=t.size.height,s=t.size.width,o=t.originalSize.height,u=t.originalSize.width,a=jQuery(t.helper).parent().width(),f=Math.floor(1*a/100),l=2,c=l*f,h=new n.Common.CommonMethodsJQ,p=jQuery(t.helper).attr("style");i!=o&&(h.RemoveStyle(t.helper,"min-height"),h.RemoveStyle(t.helper,"height"),jQuery(t.helper).css("min-height",i)),h.RemoveStyle(t.helper,"min-width"),h.RemoveStyle(t.helper,"width");var d=48;if(s>u){var v=0,m=jQuery(t.helper).nextAll(".column");try{var g=t.helper.parent().children(".column"),y=0;for(var b=0;b<g.length;b++){var w=jQuery(g[b]).attr("xs-column-size");if(w!=undefined&&w!=""){var E=Number(w);y+=E}}y<d&&(v=d-y);var S=s-u,x=Math.floor(S/c);x==0&&(x=1);var T=jQuery(t.helper).nextAll(".column").length,N=Math.floor(x/T);N==0&&(N=1);var C=x;for(var k=0;k<m.length;k++){if(!(C>0))break;var L=Number(jQuery(m[k]).attr("xs-column-size"));if(L==1)continue;var A=L-N;A<1?(C=C-N+1,A=1):C-=N,jQuery(m[k]).removeClass("col-xs-"+L),jQuery(m[k]).addClass("col-xs-"+A),jQuery(m[k]).attr("xs-column-size",A)}var O=Number(t.helper.attr("xs-column-size")),M=O+x-C;x==C&&(M+=C);var _=0;t.helper.parent().children(".column").each(function(){_+=Number(jQuery(this).attr("xs-column-size"))});var D=_-O,P=D+M;while(P>d)M--,P--;jQuery(t.helper).removeClass("col-xs-"+O),jQuery(t.helper).addClass("col-xs-"+M),t.helper.attr("xs-column-size",M)}catch(H){}m.show()}else if(s<u){var m=jQuery(t.helper).nextAll(".column");try{var S=u-s,x=Math.floor(S/c);x==0&&(x=1);var N=Math.floor(x/1);N==0&&(N=1);var O=Number(t.helper.attr("xs-column-size"));if(O>1){var B=N,M=O-N;M<0&&(B=N+M,M=1),M==0&&(B=N-1,M=1),jQuery(t.helper).removeClass("col-xs-"+O),jQuery(t.helper).addClass("col-xs-"+M),t.helper.attr("xs-column-size",M);var C=x;if(C>0){var L=Number(jQuery(m[0]).attr("xs-column-size")),A=L+B,_=0;t.helper.parent().children(".column").each(function(){_+=Number(jQuery(this).attr("xs-column-size"))});var j=_-Number(jQuery(m[0]).attr("xs-column-size")),P=j+A;while(P>d)A--,P--;jQuery(m[0]).removeClass("col-xs-"+L),jQuery(m[0]).addClass("col-xs-"+A),jQuery(m[0]).attr("xs-column-size",A)}}}catch(H){}m.show()}var F=jQuery(t.helper).nextAll(".column");F.show();var I=new r.Manager.UndoManager;I.BeforeOperation()},resize:function(e,t){}})},e.OnResize=function(e,t){jQuery(t.element).data("ui-resizable").axis!="se"&&($(t.element).data("ui-resizable").axis=="s"?t.helper.height(t.helper.height()+20):$(t.element).data("ui-resizable").axis=="s")},e.ResizableRootElements=function(e,t){var i="e,se,s";t!=undefined&&t!=""&&(i=t),$(e).resizable({handles:i,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height"),r.RemoveStyle(t.helper,"height")}},stop:function(e,t){var i=t.size.height,s=t.size.width;if(jQuery(this).hasClass("empty-container-text")||jQuery(this).hasClass("root-elements")){var o=new n.Common.CommonMethodsJQ;o.RemoveStyle(jQuery(this),"min-height"),o.RemoveStyle(jQuery(this),"height"),jQuery(this).css("min-height",i)}var u=new r.Manager.UndoManager;u.BeforeOperation()}})},e.Resizable=function(e,t){var i="e,se,s";t!=undefined&&t!=""&&(i=t),$(e).resizable({handles:i,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height"),r.RemoveStyle(t.helper,"height")}},stop:function(e,t){var i=t.size.height,s=t.size.width;if(jQuery(this).hasClass("empty-container-text")||jQuery(this).hasClass("empty-container-image")||jQuery(this).hasClass("empty-container")||jQuery(this).hasClass("jq-plus-container-text")||jQuery(this).hasClass("jq-plus-container-image")||jQuery(this).hasClass("root-elements")){var o=new n.Common.CommonMethodsJQ;o.RemoveStyle(jQuery(this),"min-height"),o.RemoveStyle(jQuery(this),"height"),jQuery(this).hasClass("jq-plus-container-image")||jQuery(this).hasClass("empty-container-spacer")?jQuery(this).css("height",i):jQuery(this).css("min-height",i)}var u=new r.Manager.UndoManager;u.BeforeOperation()}})},e.Droppable=function(t){$(t).droppable({drop:function(t,n){var i=n.helper;if(e.droppableCount>=2&&e.currentTarget!=undefined&&!n.draggable.hasClass("control-drag-anywhere")){e.droppableCount++,n.draggable.css("opacity","1"),n.draggable.find(".jq-image-block-image").length>0?(n.draggable.css("position","relative").css("left","").css("top",""),e.currentTarget.closest(".key").append(n.draggable.closest(".empty-container-image"))):e.currentTarget.closest(".key").append(n.draggable.css("position","relative").css("left","").css("top","")),jQuery(".image-selection").removeClass("image-selection"),t.stopPropagation(),e.currentTarget=null;var s=new r.Manager.UndoManager;s.BeforeOperation()}else n.draggable.hasClass("control-drag-anywhere")||n.draggable.css("position","relative").css("left","").css("top","")},out:function(t,n){e.droppableCount++},over:function(t,n){jQuery(".image-selection").removeClass("image-selection"),e.currentTarget=jQuery(t.target),jQuery(t.target).hasClass("key")?jQuery(t.target).addClass("image-selection"):jQuery(t.target).closest(".key").addClass("image-selection")}})},e.DroppableDestroy=function(e){$(e).droppable("destroy")},e.ResizableDestroy=function(e){try{$(e).resizable("destroy"),jQuery(e).find("div").remove(".ui-resizable-handle")}catch(t){jQuery(e).find("div").remove(".ui-resizable-handle")}},e.droppableCount=0,e}();e.CommonCode=t})(i=t.JQueryUI||(t.JQueryUI={}))}),define("page/PageElementBaseJQ",["require","exports","../PageElements/ElementJQ","../Error/ErrorJQ","../Common/CommonMethodsJQ","../_Classes/UrlJQ","../_Classes/Auth","../Constants/ConstantsJQ","../Controls/ControlCommonJQ","../UndoManager/UndoManager","../MalFormed/MalFormedJQ"],function(e,t,n,r,i,s,o,u,a,f,l){var c=5,h;(function(e){var t,h,p;h=0,p=0,t=!0;var d=function(){function e(e,t,n,r){this.scopeId="body",this.typeName=t,this.rootWrapper=n,this.cssClassName="jq-"+this.typeName,this.cssBackClassName="jq-back-"+this.typeName,this.cssAdditionalStylingClassName="jq-additional-"+this.typeName,this.templatePath=this.typeName,this.templateName=this.typeName+".html",this.qualifiedTemplatePath=this.templatePath+"/"+this.templateName}return e.prototype.GenerateColumnScopeId=function(){return"Column_"+ ++h},e.prototype.GenerateRowScopeId=function(){return"Row_"+ ++p},e.prototype.Log=function(e){(new r.ErrorHandle.ErrorJQ).LogMessage(this.typeName+"JQ"+" : "+e)},e.prototype.GetClassName=function(){return this.cssClassName},e.prototype.GetDotClassName=function(){return"."+this.GetClassName()},e.prototype.GetScope=function(){return this.scopeId==undefined||this.scopeId==""?(this.scopeId="body",jQuery(this.scopeId)):jQuery(this.scopeId)},e.prototype.SetScope=function(e){return this.scopeId=e,this},e.prototype.Get=function(){return jQuery(this.GetScope()).find(this.GetDotClassName())},e.prototype.Remove=function(){jQuery(this.Get()).remove()},e.prototype.GetWrapper=function(){if(this.ProcessKey()!=1)return;return this.rootWrapper.toString().toLowerCase()=="body"?jQuery(this.rootWrapper):jQuery(this.GetScope()).find(this.rootWrapper)},e.prototype.Create=function(e){if(this.ProcessKey()!=1)return;e==undefined||e=="";if(this.Get().length==0){var t=new n.Page.Elements.ElementJQ;this.Add(this.GetWrapper(),t.CreateDiv("",this.GetClassName()+" "+this.cssBackClassName+" "+this.cssAdditionalStylingClassName+" "+" key design-row row root-elements page-element jqMargin-0 "),undefined,undefined,undefined,undefined,undefined)}return this},e.prototype.CreateNotExist=function(){this.Get().length==0&&this.Create(undefined)},e.prototype.AddRow=function(e,r,s,o,u,a){if(this.ProcessKey()!=1)return;var f;this.Get().length==0&&this.Create(undefined);if(r!=undefined&&r.length>0){var l;l=r.toString().split(" ");var c=new n.Page.Elements.ElementJQ;f=c.CreateDiv("","row key jqRootRow design-row");var h=new i.Common.CommonMethodsJQ;for(var p=0;p<l.length;p++){var d="",v="";if(l[p]==undefined||h.Trim(l[p])=="")continue;d=l[p].toString().replace(/,/g," "),v=d.toString().replace("col-xs-","");var m,g=new n.Page.Elements.ElementJQ,y=d+" "+s+" "+"column key design-column column-number-"+p,b="",w="";if(this.typeName=="Content"||jQuery(e).hasClass("jq-Content"))w="",p==0?w="SideBarLeft":p==1?w="MiddleContent":p==2&&(w="SideBarRight"),b="jq-"+w+" jq-back-"+w+" jq-additional-"+w;m=g.CreateDiv("",y+" "+b);var E=this.GenerateColumnScopeId();t==1&&m!=undefined&&m.append("<span class='debug-column-css debug-css' scopeId='"+E+"'> "+E+" </span> "),m.attr("scopeId",E),m.attr("column-number",p),m.attr("xs-column-size",v),m.css("min-height","100px"),m.addClass("column-padding"),b!=""?m.attr("key-css",".jq-"+b):e!=undefined?m.attr("key-css",jQuery(e).attr("key-css")+" "+"column"):m.attr("key-css",this.GetDotClassName()+" "+"column"),e!=undefined?f.attr("key-css",jQuery(e).attr("key-css")+" "+"row"):f.attr("key-css",this.GetDotClassName()+" "+"row"),jQuery(f).append(m),u!=undefined&&this.AdjustElement(m,u)}}var S=this.GenerateRowScopeId();f.attr("scopeId",S);var x="<div class='jq-row-plus-container jq-next-row-container'> <span class='jq-row-plus jq-next-row'> + </span> </div>",T="<div class='jq-row-plus-container jq-prev-row-container'> <span class='jq-row-plus jq-prev-row'> + </span> </div>";return f!=undefined&&(f.prepend(T),f.append(x)),o!=undefined&&this.AdjustElement(f,o),e==undefined&&(e=this.Get()),this.Add(e,f,undefined,undefined,undefined,undefined,a),f},e.prototype.AdjustElement=function(e,t){if(this.ProcessKey()!=1)return;if(e!=undefined&&t!=undefined){t.height!=undefined&&jQuery(e).css("min-height",t.height+"px"),t.width!=undefined&&jQuery(e).css("width",t.width+"px");if(t.padding!=undefined){var n=t.padding;n.all!=undefined?jQuery(e).css("padding",n.all+"px"):(n.left!=undefined&&jQuery(e).css("padding-left",n.left+"px"),n.top!=undefined&&jQuery(e).css("padding-top",n.top+"px"),n.right!=undefined&&jQuery(e).css("padding-right",n.right+"px"),n.bottom!=undefined&&jQuery(e).css("padding-bottom",n.bottom+"px"))}if(t.margin!=undefined){var r=t.margin;r.all!=undefined?jQuery(e).css("margin",r.all+"px"):(r.left!=undefined&&jQuery(e).css("margin-left",r.left+"px"),r.top!=undefined&&jQuery(e).css("margin-top",r.top+"px"),r.right!=undefined&&jQuery(e).css("margin-right",r.right+"px"),r.bottom!=undefined&&jQuery(e).css("margin-bottom",r.bottom+"px"))}}},e.prototype.Add=function(e,t,n,r,i,s,u){if(l.MalFormed.MalFormedJQ.IsMalFormed==1)return;if(this.ProcessKey()!=1)return;t!=undefined&&t.find(".debug-css").html("");var h=0,p=0;e==undefined&&(e=this.Get());if(r!=undefined){if(r!=""){var d=r.toString().split(" ");try{var v=Number(d[0]);v=Number(d[1])}catch(m){this.Log("Add(): Row or Column is not a number : provided values ("+r+")");return}d!=undefined&&d.length>1&&(h=Number(d[0])+1,p=Number(d[1]))}if(!(jQuery(e).find(".jqRootRow:nth-child("+h+")").children().eq(p).length>0)){this.Log(" Add() : ["+jQuery(e).attr("class")+"] do not have row column "+"["+h+","+p+"]"+" to add element");return}e=jQuery(e).find(".jqRootRow:nth-child("+h+")").children().eq(p)}else this.Log("Warning : Please Add Row to  ["+jQuery(e).attr("class")+"] "+"");if(t!=undefined){if(typeof t!="object"){var g=document.createElement("span");jQuery(g).append(t),t=jQuery(g)}jQuery(t).addClass(n)}var y=t.attr("class");if(s==1&&window.smartObj!=null&&window.smartObj.currentObj!=null&&window.smartObj.command!="")if(window.smartObj.command=="n"||window.smartObj.command==""){$(window.smartObj.currentObj).after(t);var b=new f.Manager.UndoManager;b.BeforeOperation()}else{$(window.smartObj.currentObj).before(t);var b=new f.Manager.UndoManager;b.BeforeOperation()}else if(i==1)jQuery("div[src='xa.xml']").length>2&&o.Auth.AuthJQ.IsAuth==1&&$(e).prepend(t);else if(jQuery("div[src='xa.xml']").length>2&&o.Auth.AuthJQ.IsAuth==1){jQuery(e).attr("unique-id")==undefined&&(c++,jQuery(e).attr("unique-id",c)),u==undefined?$(e).append(t):u==1?$(e).before(t):$(e).after(t);if(!jQuery(t).hasClass("jq-Any")){var b=new f.Manager.UndoManager;b.BeforeOperation()}else{var b=new f.Manager.UndoManager;b.BeforeOperation()}}a.ControlCommon.Code.Execute()},e.prototype.AddContent=function(e,t,n,r){this.CreateNotExist(),e!=undefined&&e!=""&&this.Add(this.Get(),e,t,n,r,undefined,undefined)},e.prototype.AddTemplate=function(e,t,n,i){if(e==undefined){(new r.ErrorHandle.ErrorJQ).LogMessage(" AddTemlate() > root is undefined");return}if(t==undefined||t=="")t=this.qualifiedTemplatePath;t.indexOf(".html")>0?this.Add(jQuery(e),jQuery('<div class="'+n+'" ng-include="\'/static/'+t+"'\"></div>"),n,i,!1,undefined,undefined):this.Add(jQuery(e),jQuery('<div class="'+n+'" ng-include="\''+t+"'\"></div>"),n,i,!1,undefined,undefined)},e.prototype.RemoveColumn=function(e,t){var n=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");jQuery(n).length>0?jQuery(jQuery(n).children().eq(t)).remove():this.Log("["+e+","+t+"]"+" column not found")},e.prototype.GetRow=function(e){var t=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");if(jQuery(t).length>0)return jQuery(t);this.Log("["+e+"]"+" row not found")},e.prototype.GetColumn=function(e,t){e+=1;var n=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");if(jQuery(n).length>0)return jQuery(n).children().eq(t);this.Log("["+e+","+t+"]"+" column not found")},e.prototype.ProcessKey=function(){try{var e=this.GetKey();if(this.IsInIframe()==1)return!1;if(u.Constants.ConstantsJQ.SecureStrLength!=7)return!1;var t=0;for(var n=6;n>=0;n--){if(this.NextChar(e[t])!=u.Constants.ConstantsJQ.Str[n])return!1;t++}return!0}catch(r){return!1}},e.prototype.GetKey=function(){return(new s.Common.UrlJQ).GetDocumentLocation()},e.prototype.IsInIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e.prototype.NextChar=function(e){return String.fromCharCode(e.charCodeAt(0)+1)},e}();e.PageElementBaseJQ=d})(h=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("page/anyjq",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t){e.call(this,null,"Any",r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.AnyJQ=t})(i=t.Page||(t.Page={}))}),define("common/on",["require","exports","../page/anyjq","../Watch/WatchMouseJQ"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){this.command="",this.isDirty=!1}return e}();e.SmartObj=t;var i=function(){function e(){}return e.Execute=function(){e.BindPlus(),e.BindEC()},e.BindEC=function(){jQuery(".empty-container").unbind("click"),jQuery(".empty-container").on("click",function(){var e=r.Watch.MouseJQ.selectedElement;e!=undefined&&e.hasClass("empty-container")})},e.BindPlus=function(){jQuery(".jq-prev-row").unbind("click"),jQuery(".jq-prev-row").on("click",function(){var e=jQuery(this).parentsUntil(".row"),t=new n.Page.AnyJQ("");t.AddRow(e,"col-xs-48","",undefined,undefined,!0)}),jQuery(".jq-next-row").unbind("click"),jQuery(".jq-next-row").on("click",function(){var e=jQuery(this).parentsUntil(".row"),t=new n.Page.AnyJQ("");t.AddRow(e,"col-xs-48","",undefined,undefined,!1)}),jQuery(".jq-plus-prev").unbind("click"),jQuery(".jq-plus-prev").on("click",function(e){window.smartObj=new t,jQuery(this).hasClass("image-text-other")?window.smartObj.currentObj=jQuery(this):window.smartObj.currentObj=jQuery(this).closest(".image-text-other"),window.smartObj.command="p",window.smartObj.isDirty=!1,e.stopPropagation();var n=e.pageY;jQuery(window).scrollTop()+n>=jQuery(window).height()-250&&(n=e.pageY-250);var r=e.pageX;e.pageX>$(document).width()-200&&(r=e.pageX-150),jQuery("#smInsertNextPrev").css("left",r+"px"),jQuery("#smInsertNextPrev").css("top",n+"px"),jQuery("#smInsertNextPrev").fadeIn(500)}),jQuery(".jq-plus-next").unbind("click"),jQuery(".jq-plus-next").on("click",function(e){window.smartObj=new t,jQuery(this).hasClass("image-text-other")?window.smartObj.currentObj=jQuery(this):window.smartObj.currentObj=jQuery(this).closest(".image-text-other"),window.smartObj.command="n",window.smartObj.isDirty=!1,e.stopPropagation();var n=e.pageY;jQuery(window).scrollTop()+n>=jQuery(window).height()-250&&(n=e.pageY-180);var r=e.pageX;e.pageX>$(document).width()-200&&(r=e.pageX-150),jQuery("#smInsertNextPrev").css("left",r+"px"),jQuery("#smInsertNextPrev").css("top",n+"px"),jQuery("#smInsertNextPrev").fadeIn(500)})},e}();e.Code=i})(i=t.On||(t.On={}))}),define("JQte/OnInsert",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../Controls/ControlCommonJQ"],function(e,t,n,r,i,s){var o=!1,u;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){jQuery("page a").not(".jq-logout").unbind("click"),jQuery("page a").not(".jq-logout").click(function(){s.ControlCommon.Code.AnchorClicked=!0}),jQuery("page .jqte-editor").unbind("click"),jQuery("page .jqte-editor").on("click",function(){jQuery(".jqte-editor").removeClass("current-editor-scope"),jQuery(this).addClass("current-editor-scope")}),jQuery("page .jqte-editor").unbind("keydown"),jQuery("page .jqte-editor").on("keydown",function(){e.BackPassed=!0}),jQuery("page .jqte-editor").unbind("keyup"),jQuery("page .jqte-editor").on("keyup",function(){o=!0}),jQuery("page .jqte-editor").unbind("focusout"),jQuery("page .jqte-editor").on("focusout",function(){if(o==1){o=!1;var e=new i.Manager.UndoManager;e.BeforeOperation()}}),jQuery(".empty-container-text").unbind("click"),jQuery(".empty-container-text").on("click",function(){jQuery(".current-editor-scope").focus()}),jQuery(".empty-container-image").unbind("dblclick"),jQuery(".empty-container-image").on("dblclick",function(){$(this).draggable({disabled:!0})}),jQuery(".empty-container-text").unbind("dblclick"),jQuery(".empty-container-text").on("dblclick",function(){var e="180px",t="105px";jQuery("rootx").css("top",e),jQuery(".designer-top-row").css("height",e),jQuery("#notify").css("top",t),jQuery(".editor").show();var r=new n.ErrorHandle.ErrorJQ;r.ActionHelp("Press [Esc] once to stop editing"),$(this).draggable({disabled:!0}),jQuery(".current-editor-scope").focus(),jQuery(".current-editor-scope").css("cursor","pointer")}),jQuery("page").unbind("click"),jQuery("page").on("click",function(e){r.Watch.MouseJQ.ProcessClick(e),jQuery("#contextMenu").hide(500),jQuery("#smInsertNextPrev").hide(500);if(s.ControlCommon.Code.AnchorClicked==1)return s.ControlCommon.Code.AnchorClicked=!1,e.cancelBubble!=null&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue!=null&&(e.returnValue=!1),!1})},e.BackPassed=!1,e}();e.Code=t})(u=t.OnInsert||(t.OnInsert={}))}),define("controls/ControlCommonJQ",["require","exports","./JQueryUI","../common/on","../JQte/OnInsert"],function(e,t,n,r,i){var s;(function(e){var t=function(){function e(){}return e.Execute=function(){r.On.Code.Execute(),(new i.OnInsert.Code).Init(),n.JQueryUI.CommonCode.ResizableColumn(),n.JQueryUI.CommonCode.Resizable(".empty-container"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-text"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableRootElements(".root-elements","s"),n.JQueryUI.CommonCode.Draggable(".empty-container",""),n.JQueryUI.CommonCode.Draggable(".empty-container-menu",""),n.JQueryUI.CommonCode.Draggable(".empty-container-text",""),n.JQueryUI.CommonCode.Draggable(".empty-container-image",""),n.JQueryUI.CommonCode.Draggable(".empty-container-spacer",""),n.JQueryUI.CommonCode.Droppable(".column"),n.JQueryUI.CommonCode.Droppable(".empty-container"),jQuery(".ui-resizable-e").html("<div class='jq-square jq-square-e'></div>"),jQuery(".ui-resizable-se").html("<div class='jq-square jq-square-se'></div>"),jQuery(".ui-resizable-s").html("<div class='jq-square jq-square-s'></div>")},e.DestroyResizable=function(){n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-text"),n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableDestroy(".column"),n.JQueryUI.CommonCode.ResizableDestroy(".empty-container"),n.JQueryUI.CommonCode.ResizableDestroy(".root-elements")},e.AnchorClicked=!1,e}();e.Code=t})(s=t.ControlCommon||(t.ControlCommon={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("controls/imagejq",["require","exports","../Error/ErrorJQ","../ControlNames/PageControlNamesJQ","../Page/Context/ContextJQ","../Watch/WatchMouseJQ","./ControlCommonJQ","../UndoManager/UndoManager"],function(e,t,n,r,i,s,o,u){var a=!0,f=0,l=0,c;(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.Init=function(){this.AttachUserImages(),this.AttachSelectImage(),this.AttachInsertImage()},t.prototype.GenerateTextBlockScopeId=function(){return"Image_Block_"+ ++f},t.prototype.GenerateContainerScopeId=function(){return"Image_Block_Container_"+ ++l},t.prototype.AttachSelectImage=function(){jQuery("#control-image-bi-library").on("click",".image-library-image",function(){jQuery(".image-library-image").removeClass("image-library-select"),jQuery(".image-library-image").removeClass("image-library-bi-select"),jQuery(this).addClass("image-library-select"),jQuery(this).addClass("image-library-bi-select")}),jQuery(t.controlId).on("click",".image-library-image",function(){jQuery(".image-library-image").removeClass("image-library-select"),jQuery(this).addClass("image-library-select")})},t.IsImageUrl=function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(t.test(e)==1&&e.length>=5){var n=e.toLowerCase(),r=["jpeg","jpg","png","gif"];for(var i=0;i<r.length;i++){var s=n.substr(n.length-5,5),o=s.split(".");if(o.length>=2&&o[1]==r[i])return!0}}return!1},t.prototype.AttachInsertImage=function(){jQuery(t.controlId).find(".action-button-insert-image").click(function(){jQuery(".internet-image-url").val()!=""?t.InsertImage(jQuery(".internet-image-url").val()):t.InsertImage(undefined)}),jQuery(".action-button-change-image").click(function(){var e=s.Watch.MouseJQ.selectedElement;if(e!=undefined&&e.hasClass("empty-container-image")){var t=jQuery(".image-library-select").attr("src");if(t!=""){e.find(".jq-plus-container-image").find("img").attr("src",t);var r=new u.Manager.UndoManager;r.BeforeOperation()}}else{var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("please select a image change.")}jQuery("#control-image-library").hide()})},t.ChangeImage=function(){jQuery(".action-button-insert-image").hide(),jQuery(".action-button-change-image").show(),jQuery("#control-image-library").show(),jQuery("#control-image-library").trigger("custom_loaded")},t.InsertImage=function(e){var r=new t,u=new n.ErrorHandle.ErrorJQ;u.SetErrorClassName("page-insert-image");var f=new i.Page.ContextJQ,l=s.Watch.MouseJQ.selectedElement;l==undefined&&(l=jQuery("#nnnoelement"));if(l!=undefined){var c=document.createElement("div"),h=document.createElement("div"),p=document.createElement("div"),d=document.createElement("img");jQuery(d).addClass("jq-image-block-image "),jQuery(d).addClass("normal-element image-element"),jQuery(p).addClass("jq-image-block-image-wrapper ");var v;e==undefined?v=jQuery(".image-library-select").attr("src"):v=e,jQuery(d).attr("src",v),jQuery(p).append(d),jQuery(h).append(p),jQuery(h).addClass(t.CSSCLASS);var m=r.GenerateTextBlockScopeId();a==1&&h!=undefined&&jQuery(h).prepend("<span class='debug-image-block-css debug-css' scopeId='"+m+"'> "+m+" </span> "),jQuery(h).attr("scopeId",m),jQuery(c).append(h);var g=r.GenerateContainerScopeId();a==1&&jQuery(c).append(" <span class='debug-image-block-container-css debug-css' scopeId='"+g+"'> "+g+" </span> "),jQuery(c).addClass(t.CONTAINER_CSS_CLASS),jQuery(c).attr("scopeId",g);if(l.hasClass("column")==1||l.hasClass("empty-container-text")||l.hasClass("empty-container-image")||l.hasClass("empty-container")||window.smartObj!=null){var y=jQuery(".jq-plus-container.jq-plus-container-not-used").clone();y.removeClass("jq-plus-container-not-used"),y.addClass("jq-plus-container-image"),y.addClass("design-css"),y.addClass("design-empty-text-css"),y.removeClass("jq-plus-container");var b=document.createElement("div");y.css("height","200px"),y.css("width","200px");var w=jQuery(b);w.addClass("empty-container-image image-text-other key design-css design-empty-text-css"),w.append(y),y.find(".jq-plus-content").append(c),window.smartObj==null||window.smartObj.command==""?f.Page.Any.Add(l,w,"",undefined,undefined,undefined,undefined):f.Page.Any.Add(l,w,"",undefined,undefined,!0,undefined);if(l.hasClass("jq-image-block-container")){var E=l.attr("scopeId");l.find(".debug-image-block-container-css[scopeId="+E+"]").remove(),E!=undefined&&l.append('<span class="debug-image-block-container-css debug-css" scopeId="'+E+'" > '+E+"</span>")}jQuery(c).find(".debug-css").remove(),u.ActionSuccess(""),jQuery(t.controlId).hide(),o.ControlCommon.Code.DestroyResizable(),o.ControlCommon.Code.Execute()}else u.ActionFail("You can only insert in a column or empty container [].")}jQuery(".image-library-image").removeClass("image-library-select"),jQuery(".internet-image-url").val("")},t.prototype.AttachUserImages=function(){jQuery(".load-more-images").click(function(){t.GetImages()}),jQuery(t.controlId).on("custom_loaded",function(){t.ClearImageGalaryPagingValue(),t.GetImages()})},t.SetImageGalaryPagingValue=function(){jQuery(".imges-get-start").val((Number(jQuery(".imges-get-start").val())+20).toString())},t.GetImageGalaryPagingValue=function(){if(jQuery(".imges-get-start").length==0){var e=jQuery(document.createElement("input"));e.addClass("imges-get-start hide"),jQuery("body").append(e),jQuery(".imges-get-start").val("0")}return jQuery(".imges-get-start").val()},t.GetImages=function(){var e={start:t.GetImageGalaryPagingValue(),pageSize:20},n=JSON.stringify(e);jQuery.ajax({type:"POST",url:"/services/ImageService.asmx/GetImages",data:n,contentType:"application/json; charset=utf-8",dataType:"json",success:t.OnGetImagesSuccess,error:t.OnGetImagesError})},t.ClearImageGalaryPagingValue=function(){jQuery(".imges-get-start").val("0")},t.OnGetImagesSuccess=function(e,n){var r;r=e.d,r.length>0&&(t.GetImageGalaryPagingValue()=="0"&&jQuery(".image-library").html(""),t.SetImageGalaryPagingValue());for(var i=0;i<r.length;i++){var s=document.createElement("div");jQuery(s).addClass("image-lib-container");var o=document.createElement("img");jQuery(o).attr("src",r[i].Path),jQuery(o).addClass("image-library-image"),jQuery(o).addClass("img-thumbnail"),jQuery(s).append(o),jQuery(".image-library").append(s)}},t.OnGetImagesError=function(e,t,r){var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("Some Problem !. <br>Try again latter.")},t.ProcessSelectNotify=function(){var e=new n.ErrorHandle.ErrorJQ,t=s.Watch.MouseJQ.selectedElement;t!=undefined&&(t.hasClass("row")||t.hasClass("normal-element"))},t.controlId="#control-image-library",t.CSSCLASS="jq-image-block design-image-block normal-element",t.CONTAINER_CSS_CLASS="jq-image-block-container design-image-block normal-element jq-container",t}(r.PageControlNamesJQ.Page.Image.Controls);e.SelfJQ=t})(c=t.Image||(t.Image={}))}),define("Controls/BIjq",["require","exports","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../controls/imagejq"],function(e,t,n,r,i){var s=!0,o=!1,u=0,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery(".smart-menu-bi-control").spinner({min:0,max:2e3,step:1,change:function(e,t){},spin:function(e,t){var r=n.Watch.MouseJQ.selectedElement;if(r!=undefined){var i=jQuery(".smart-menu-bi-height").spinner("value"),s=jQuery(".smart-menu-bi-width").spinner("value");r.css("background-size",s+jQuery(".ddn-bi-pixel-type").val()+" "+i+jQuery(".ddn-bi-pixel-type").val())}},stop:function(e,t){var i=n.Watch.MouseJQ.selectedElement;if(i!=undefined){var s=jQuery(".smart-menu-bi-height").spinner("value"),o=jQuery(".smart-menu-bi-width").spinner("value");i.css("background-size",o+jQuery(".ddn-bi-pixel-type").val()+" "+s+jQuery(".ddn-bi-pixel-type").val());var u=new r.Manager.UndoManager;u.BeforeOperation()}}}),jQuery(".bi-browse").click(function(){i.Image.SelfJQ.GetImages(),jQuery("#control-image-bi-library").show()}),jQuery(".make-100").click(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){jQuery(".ddn-bi-pixel-type").val("%");var t=100;jQuery(".smart-menu-bi-height").spinner("value",t);var i=100;jQuery(".smart-menu-bi-width").spinner("value",i),e.css("background-size",i+jQuery(".ddn-bi-pixel-type").val()+" "+t+jQuery(".ddn-bi-pixel-type").val());var s=new r.Manager.UndoManager;s.BeforeOperation()}}),jQuery(".ddn-bi-pixel-type").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=jQuery(".smart-menu-bi-height").spinner("value"),i=jQuery(".smart-menu-bi-width").spinner("value");e.css("background-size",i+jQuery(".ddn-bi-pixel-type").val()+" "+t+jQuery(".ddn-bi-pixel-type").val());var s=new r.Manager.UndoManager;s.BeforeOperation()}}),jQuery(".action-button-insert-bi-image").click(function(){var e=jQuery(".image-library-bi-select").first().attr("src");jQuery(".bi-selected-image").val(e).change(),jQuery(".image-library-image").removeClass("image-library-bi-select"),jQuery("#control-image-bi-library").hide()}),jQuery(".control-bi-controls .bi-selected-image").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-image","url("+jQuery(this).val()+")");var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .internet-bi-image-url").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-image","url("+jQuery(this).val()+")");var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-repeat").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-repeat",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-attachment").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-attachment",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-position").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-position",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}))})},e.ProcessSelectNotify=function(){e.isSelectProcessing=!0;try{var t=n.Watch.MouseJQ.selectedElement;if(t!=undefined){var r=t.css("background-image").replace("url(","").replace(")","");jQuery(".bi-selected-image").val(r);var i=t.css("background-repeat");jQuery(".ddn-bi-repeat").val(i);var s=t.css("background-attachment");jQuery(".ddn-bi-attachment").val(s);var o=t.css("background-position");jQuery(".ddn-bi-position").val(o);var u=t.css("background-size");if(u!=undefined){var a=u.split(" ");if(a.length>=2){var f=a[0],l=a[1];jQuery(".ddn-bi-pixel-type").val("px"),f=f.replace("px",""),l=l.replace("px",""),jQuery(".smart-menu-bi-height").spinner("value",l),jQuery(".smart-menu-bi-width").spinner("value",f)}else jQuery(".smart-menu-bi-height").spinner("value",0),jQuery(".smart-menu-bi-width").spinner("value",0)}}}catch(c){}e.isSelectProcessing=!1},e.isSelectProcessing=!1,e}();e.BIJQ=t})(a=t.BI||(t.BI={}))}),define("Controls/SpacerJQ",["require","exports","../Watch/WatchMouseJQ","../Page/Context/ContextJQ"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){}return e.InsertSpacer=function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined)if(e.hasClass("column")==1||e.hasClass("empty-container-text")||e.hasClass("empty-container-image")||e.hasClass("empty-container")||window.smartObj!=null){var t=new r.Page.ContextJQ,i=document.createElement("span");jQuery(i).addClass("empty-container empty-container-spacer key image-text-other design-css design-empty-css"),jQuery(i).css("font-size","14px");var s=jQuery(".jq-plus-container.jq-plus-container-not-used").clone();s.removeClass("jq-plus-container-not-used");var o=jQuery(document.createElement("div"));o.addClass("empty-spacer"),o.html("<center>Space</center>"),s.find(".jq-plus-content").append(o),jQuery(i).append(s),window.smartObj==null||window.smartObj.command==""?t.Page.Any.Add(e,jQuery(i),"",undefined,undefined,undefined,undefined):t.Page.Any.Add(e,jQuery(i),"",undefined,undefined,!0,undefined)}},e}();e.SpacerJQ=t})(i=t.Spacer||(t.Spacer={}))}),define("Controls/../../SiteManager_TS/Site/SiteJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){},e.prototype.CreatePage=function(t,n){var r={siteName:t,pageName:n},i=JSON.stringify(r);jQuery.ajax({type:"POST",url:"/services/pageService.asmx/createPage",data:i,contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnCreatePageSuccess,error:e.OnCreatePageError})},e.OnCreatePageSuccess=function(t,n){var r=new e;r.GetPages(jQuery(".input-site-name-primary").val()),jQuery(".control-page").hide(),jQuery(".loading").hide()},e.OnCreatePageError=function(e,t,n){jQuery(".loading").hide()},e.prototype.CreateSite=function(t){var n={siteName:t},r=JSON.stringify(n);jQuery.ajax({type:"POST",url:"/services/pageService.asmx/createSite",data:r,contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnCreateSiteSuccess,error:e.OnCreateSiteError})},e.OnCreateSiteSuccess=function(t,n){var r=new e;r.GetSites(),jQuery(".control-page").hide(),jQuery(".loading").hide()},e.OnCreateSiteError=function(e,t,n){jQuery(".loading").hide()},e.prototype.GetPages=function(t,n,r){n==undefined&&(n=e.OnGetPagesSuccess),r==undefined&&(r=e.OnGetPagesError);var i={siteName:t},s=JSON.stringify(i);jQuery.ajax({type:"POST",url:"/services/pageService.asmx/getPages",data:s,contentType:"application/json; charset=utf-8",dataType:"json",success:n,error:r})},e.OnGetPagesSuccess=function(e,t){jQuery(".loading").hide(),jQuery("#nestable3").html("");var n=e.d,r=jQuery(".jq-pages-list.hide").clone(),i=jQuery(".jq-page-item.hide").clone(),s=r.clone();s.removeClass("hide"),jQuery("#nestable3").append(s);for(var o=0;o<n.length;o++){var u=i.clone();u.removeClass("hide"),u.attr("data-id",n[o].Id),u.find(".jq-page-item-name").text(n[o].Name);var a=jQuery(document.createElement("a")),f=n[o].Link;f=f.replace("?","&"),a.attr("href","/shiv/designer.aspx?PageName="+f+"&"+"SiteName="+jQuery(".input-site-name-primary").val()),a.addClass("white-link"),a.append("Open"),a.css("float","right"),a.addClass("btn btn-primary btn-xs"),u.find(".jq-page-item-name").append(a),s.append(u)}for(var o=0;o<n.length;o++)if(n[o].Extra!=""){if(jQuery(".jq-page-item[data-id='"+n[o].Extra+"']").children("ol").length==0){var l=r.clone();l.removeClass("hide"),jQuery(".jq-page-item[data-id='"+n[o].Extra+"']").append(l)}jQuery(".jq-page-item[data-id='"+n[o].Extra+"']").children("ol").append(jQuery(".jq-page-item[data-id='"+n[o].Id+"']"))}$("#nestable3").nestable()},e.OnGetPagesError=function(e,t,n){jQuery(".loading").hide()},e.prototype.GetSites=function(){jQuery.ajax({type:"POST",url:"/services/pageService.asmx/getSites",contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnGetSitesSuccess,error:e.OnGetSitesError})},e.OnGetSitesSuccess=function(e,t){jQuery(".loading").hide();var n=e.d;jQuery(".site-manager-data").html("");for(var r=0;r<n.length;r++){var i=jQuery(".site-data.hide").clone();i.removeClass("hide"),i.find(".site-name").html(n[r].Name);var s=jQuery(document.createElement("a"));s.attr("href","/shiv/PageManager.aspx?SiteName="+n[r].Name),s.addClass("white-link"),s.append("Open"),i.find(".open-site").append(s),jQuery(".site-manager-data").append(i)}},e.OnGetSitesError=function(e,t,n){jQuery(".loading").hide()},e.prototype.AttachOpenEvent=function(){},e.prototype.AttachCreateEvent=function(){},e.prototype.AttachEditEvent=function(){},e}();e.SiteJQ=t})(n=t.Site||(t.Site={}))}),define("Controls/../../typescript/error/errorjq",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(){}return e.prototype.HandleError=function(e){e===!0&&(window.onerror=this.WindowHandleError)},e.prototype.WindowHandleError=function(e,t,n){alert(e+"\n on page: "+t+"\n on line: "+n)},e.prototype.SetErrorClassName=function(e){this.errorClassName=e},e.prototype.NotifyHelp=function(e){jQuery("#notify").clearQueue(),jQuery("#notify").html(""),jQuery("#notify").append(e),jQuery("#notify").css("display","block"),this.TriggerHideNotify()},e.prototype.Notify=function(e){jQuery("#notify").clearQueue(),jQuery("#notify").html(e),jQuery("#notify").css("display","block"),this.TriggerHideNotify()},e.prototype.TriggerHideNotify=function(){window.clearTimeout(e.interval),e.interval=window.setTimeout(this.TimeOutHandler,1e4)},e.prototype.TimeOutHandler=function(){jQuery("#notify").css("display","none"),window.clearTimeout(e.interval)},e.prototype.AddErrorControl=function(e){jQuery(e).addClass("error-"+this.errorClassName)},e.prototype.ActionFail=function(e){jQuery(".error-"+this.errorClassName).css("border","2px solid red"),e==undefined||e==""?e="Action Failed":e="<div class='error-notify-block'>Action Failed </div><br/>"+e,jQuery(this.GetNotifyElement()).removeClass("success-notify-background"),jQuery(this.GetNotifyElement()).addClass("error-notify-background"),this.Notify(e)},e.prototype.ActionHelp=function(e,t){if(e!=undefined){var n=e.toLowerCase().indexOf("page loaded");n!=-1&&jQuery(".jq-loading").hide()}var r=jQuery(document.createElement("div"));t!=undefined?r.addClass("yellow-green-notify-background"):r.addClass("yellow-notify-background"),r.html(""),r.append(e),jQuery(this.GetNotifyElement()).removeClass("error-notify-background"),jQuery(this.GetNotifyElement()).removeClass("success-notify-background"),this.NotifyHelp(r)},e.prototype.ActionSuccess=function(e){jQuery(".error-"+this.errorClassName).css("border","1px solid green"),jQuery(".error-"+this.errorClassName).removeClass("error-"+this.errorClassName);if(e==undefined||e=="")e="Action Success";jQuery(this.GetNotifyElement()).removeClass("error-notify-background"),jQuery(this.GetNotifyElement()).addClass("success-notify-background"),this.Notify(e)},e.prototype.GetNotifyElement=function(){return jQuery("#notify")},e.prototype.LogMessage=function(e){try{}catch(t){}},e.prototype.Try=function(e){if(typeof e!="function"){this.LogMessage("method is not a function");return}try{e()}catch(t){alert(t),this.LogMessage(t)}},e.notifyId="#notify",e}();e.ErrorJQ=t})(n=t.ErrorHandle||(t.ErrorHandle={}))}),define("Controls/LinkJQ",["require","exports","../../SiteManager_TS/Site/SiteJQ","../../typescript/error/errorjq","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../Controls/ControlCommonJQ"],function(e,t,n,r,i,s,o){var u=!1,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){u==0&&(u=!0,this.AttachEvents())},e.LoadLinks=function(){var t=new n.Site.SiteJQ;t.GetPages(jQuery(".input-site-name").val(),e.OnGetPagesSuccess,e.OnGetPagesError)},e.OnGetPagesSuccess=function(t,n){jQuery(".jq-loading").hide();var r=t.d;jQuery(".insert-link-links").html("");for(var i=0;i<r.length;i++){var s;i==0?s="<option selected value='"+r[i].Name+"'>"+r[i].Name.replace(".html","")+"</option>":s="<option value='"+r[i].Name+"'>"+r[i].Name.replace(".html","")+"</option>",jQuery(".insert-link-links").append(s)}jQuery(".insert-link-name").val(jQuery(".insert-link-links").find("option:selected").text());var o=e.CreateCurrentLink(!0);jQuery(".insert-link-preview").html(o)},e.OnGetPagesError=function(e,t,n){jQuery(".jq-loading").hide(),jQuery(".insert-link-links").html("");var i=new r.ErrorHandle.ErrorJQ;i.ActionFail("Something went wrong<br>Try again later!")},e.prototype.AttachEvents=function(){jQuery("#insert-internet-link-url").change(function(){e.IsExternalUrl=!0,jQuery("#insert-internet-link-name").val("Give Name");var t;t=jQuery("#insert-internet-link-url").val();if(t.length>0)while(t.charAt(0)==" ")t=t.substring(1);if(t!=""){var n=t.indexOf("http://"),i=t.indexOf("https://"),s=t.indexOf("//");n!=0&&i!=0&&s!=0&&jQuery(this).val("//"+jQuery(this).val())}else{var o=new r.ErrorHandle.ErrorJQ;o.ActionHelp("Please provide External Link Url.")}var u=e.CreateCurrentLink(!0,jQuery(this).val(),jQuery("#insert-internet-link-name").val());jQuery(".insert-link-preview").html(u)}),jQuery("#insert-internet-link-name").change(function(){e.IsExternalUrl=!0;if(jQuery(this).val()!="Give Name"){var t=e.CreateCurrentLink(!0,jQuery("#insert-internet-link-url").val(),jQuery(this).val());jQuery(".insert-link-preview").html(t);var n=jQuery("#insert-internet-link-url").val();if(n.length>0)while(n.charAt(0)==" ")n=n.substring(1);if(n==""){var i=new r.ErrorHandle.ErrorJQ;i.ActionHelp("Please provide External Link Url.")}}}),jQuery(".btn-style").click(function(){jQuery(".btn-style").removeClass("btn-style-selected"),jQuery(this).addClass("btn-style-selected");var t;e.IsExternalUrl==1?t=e.CreateCurrentLink(!0,jQuery("#insert-internet-link-url").val(),jQuery("#insert-internet-link-name").val()):t=e.CreateCurrentLink(!0),jQuery(".insert-link-preview").html(t)}),jQuery(".action-button-insert-link").click(function(){var t;e.IsExternalUrl==1?t=e.CreateCurrentLink(!1,jQuery("#insert-internet-link-url").val(),jQuery("#insert-internet-link-name").val()):t=e.CreateCurrentLink(!1);var n=i.Watch.MouseJQ.selectedElement;if(n!=undefined){n.append(t);var r=new s.Manager.UndoManager;r.BeforeOperation(),jQuery("page a").not(".jq-logout").unbind("click"),jQuery("page a").not(".jq-logout").click(function(){o.ControlCommon.Code.AnchorClicked=!0}),o.ControlCommon.Code.Execute()}}),jQuery(".insert-link-name").on("change",function(){e.IsExternalUrl=!1;var t=e.CreateCurrentLink(!0);jQuery(".insert-link-preview").find("a").text(jQuery(this).val())}),jQuery("#control-insert-link").on("change",".insert-link-links",function(){e.IsExternalUrl=!1,jQuery(".insert-link-name").val(jQuery(".insert-link-links").find("option:selected").text());var t=e.CreateCurrentLink(!0);jQuery(".insert-link-preview").html(t),jQuery("#insert-internet-link-name").val(""),jQuery("#insert-internet-link-url").val("")})},e.CreateCurrentLink=function(e,t,n){var r;t==undefined&&(t=jQuery(".insert-link-links").find("option:selected").val());var i=jQuery(".btn-style-selected").attr("btn-style");return i==undefined&&(i=" btn-default "),n==undefined&&(n=jQuery(".insert-link-name").val()),e==1?r="<span style='display:inline-block;' class='key jq-site-link-container'><a target='_blank' class='jq-site-link  btn "+i+"' href='"+t+"?nocache=true'><span class='jq-site-link-text'>"+n+"</span></a></span>":r="<span style='display:inline-block;' class='key jq-site-link-container'><a class='jq-site-link btn "+i+"' href='"+t+"?nocache=true'><span class='jq-site-link-text'>"+n+"</span></a></span>",r},e.Show=function(){jQuery("#control-insert-link").show(),jQuery(".jq-loading").show(),e.LoadLinks()},e.Close=function(){},e.ProcessSelectNotify=function(){},e}();e.LinkJQ=t})(a=t.Link||(t.Link={}))}),define("Controls/HtmlJQ",["require","exports","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../Controls/ControlCommonJQ"],function(e,t,n,r,i){var s=!1,o;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){s==0&&(s=!0,this.AttachEvents())},e.prototype.AttachEvents=function(){jQuery(".action-button-insert-html-clear").click(function(){jQuery(".input-html").val("")}),jQuery(".action-button-insert-html").click(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=jQuery(".input-html").val(),s=jQuery(document.createElement("div"));s.css("float","left"),s.addClass("key empty-container design-empty-css"),s.css("height","100px"),s.append(jQuery.parseHTML(t,document,!0));var o=jQuery(s).html();e.append(s);var u=new r.Manager.UndoManager;u.BeforeOperation(),i.ControlCommon.Code.Execute()}jQuery("#control-insert-html").hide()})},e.Show=function(){jQuery(".control-page").removeClass("control-active"),jQuery("#control-insert-html").addClass("control-active"),jQuery("#control-insert-html").show(),jQuery(".input-html").val("")},e.Close=function(){},e.ProcessSelectNotify=function(){},e}();e.HtmlJQ=t})(o=t.Html||(t.Html={}))}),define("Controls/MarginJQ",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../Common/CommonMethodsJQ","../UndoManager/UndoManager"],function(e,t,n,r,i,s){var o=!1,u=0,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachMargin()},e.AttachMargin=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery(".margin-advanced-show").click(function(){jQuery(".jq-margin-advanced").fadeToggle(1)}),jQuery(".control-margin-margin").spinner({min:-1500,max:1500,step:1,value:0,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},spin:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this);var r=new s.Manager.UndoManager;r.BeforeOperation()}}))})},e.OnChange=function(t){e.isSelectProcessing=!0;try{u!=0&&(u=1,r.Watch.MouseJQ.RemoveAndResetRemovableRow());var s=r.Watch.MouseJQ.selectedElement;if(s!=undefined){var o=new n.ErrorHandle.ErrorJQ;if(!s.hasClass("column")){jQuery(t).hasClass("control-margin-all")&&jQuery(".control-margin-margin").not(".control-margin-all").spinner("value",jQuery(t).val());var a=new i.Common.CommonMethodsJQ,f=$(".control-margin-left").spinner("value"),l=$(".control-margin-top").spinner("value"),c=$(".control-margin-right").spinner("value"),h=$(".control-margin-bottom").spinner("value");f!=undefined&&s.css("margin-left",f+"px"),l!=undefined&&s.css("margin-top",l+"px"),c!=undefined&&s.css("margin-right",c+"px"),h!=undefined&&s.css("margin-bottom",h+"px"),f==0&&l==0&&c==0&&h==0&&(a.RemoveStyle(s,"margin-left"),a.RemoveStyle(s,"margin-top"),a.RemoveStyle(s,"margin-bottom"),a.RemoveStyle(s,"margin-right"),a.RemoveStyle(s,"margin"))}else o.ActionHelp("Cannot change margin for [Column] blocks")}}catch(p){}e.isSelectProcessing=!1},e.ProcessSelectedValues=function(){var e=r.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=e.css("margin-left"),n=e.css("margin-top"),i=e.css("margin-right"),s=e.css("margin-bottom");t!=undefined&&(t=t.replace("px",""),jQuery(".control-margin-left").spinner("value",t)),n!=undefined&&(n=n.replace("px",""),jQuery(".control-margin-top").spinner("value",n)),i!=undefined&&(i=i.replace("px",""),jQuery(".control-margin-right").spinner("value",i)),s!=undefined&&(s=s.replace("px",""),jQuery(".control-margin-bottom").spinner("value",s)),t==n&&t==i&&t==s&&jQuery(".control-margin-all").spinner("value",t)}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.controlId=".control-margin",e.isSelectProcessing=!1,e}();e.MarginJQ=t})(a=t.Margin||(t.Margin={}))}),define("Controls/PaddingJQ",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../Common/CommonMethodsJQ","../UndoManager/UndoManager"],function(e,t,n,r,i,s){var o=!1,u=0,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachPadding()},e.AttachPadding=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery(".padding-advanced-show").click(function(){jQuery(".jq-padding-advanced").fadeToggle(1)}),jQuery(".control-padding-padding").spinner({min:0,max:1500,step:1,value:0,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},spin:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this);var r=new s.Manager.UndoManager;r.BeforeOperation()}}))})},e.OnChange=function(t){e.isSelectProcessing=!0;try{u!=0&&(u=1,r.Watch.MouseJQ.RemoveAndResetRemovableRow());var s=r.Watch.MouseJQ.selectedElement;if(s!=undefined){var o=new n.ErrorHandle.ErrorJQ;jQuery(t).hasClass("control-padding-all")&&jQuery(".control-padding-padding").not(".control-padding-all").spinner("value",jQuery(t).val());var a=new i.Common.CommonMethodsJQ,f=$(".control-padding-left").spinner("value"),l=$(".control-padding-top").spinner("value"),c=$(".control-padding-right").spinner("value"),h=$(".control-padding-bottom").spinner("value");f!=undefined&&s.css("padding-left",f+"px"),l!=undefined&&s.css("padding-top",l+"px"),c!=undefined&&s.css("padding-right",c+"px"),h!=undefined&&s.css("padding-bottom",h+"px"),f==0&&l==0&&c==0&&h==0&&(a.RemoveStyle(s,"padding-left"),a.RemoveStyle(s,"padding-top"),a.RemoveStyle(s,"padding-bottom"),a.RemoveStyle(s,"padding-right"),a.RemoveStyle(s,"padding"))}}catch(p){}e.isSelectProcessing=!1},e.ProcessSelectedValues=function(){var e=r.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=e.css("padding-left"),n=e.css("padding-top"),i=e.css("padding-right"),s=e.css("padding-bottom");t!=undefined&&(t=t.replace("px",""),jQuery(".control-padding-left").spinner("value",t)),n!=undefined&&(n=n.replace("px",""),jQuery(".control-padding-top").spinner("value",n)),i!=undefined&&(i=i.replace("px",""),jQuery(".control-padding-right").spinner("value",i)),s!=undefined&&(s=s.replace("px",""),jQuery(".control-padding-bottom").spinner("value",s)),t==n&&t==i&&t==s&&jQuery(".control-padding-all").spinner("value",t)}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.controlId=".control-padding",e.isSelectProcessing=!1,e}();e.PaddingJQ=t})(a=t.Padding||(t.Padding={}))}),define("Controls/FrontBackJQ",["require","exports","../Error/ErrorJQ","../Watch/WatchMouseJQ","../UndoManager/UndoManager"],function(e,t,n,r,i){var s=!1,o=0,u;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){e.AttachFrontBack()},e.AttachFrontBack=function(){jQuery(document).ready(function(){s==0&&(s=!0,jQuery(".control-z-zindex").slider({min:1,max:500,step:1,value:0,change:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},spin:function(t,n){e.isSelectProcessing==0&&e.OnChange(this)},stop:function(t,n){e.isSelectProcessing==0&&e.OnChange(this);var r=new i.Manager.UndoManager;r.BeforeOperation()}}))})},e.OnChange=function(t){e.isSelectProcessing=!0;try{o!=0&&(o=1,r.Watch.MouseJQ.RemoveAndResetRemovableRow());var i=r.Watch.MouseJQ.selectedElement;if(i!=undefined){var s=new n.ErrorHandle.ErrorJQ;if(i.hasClass("image-text-other")){var u=jQuery(".control-z-zindex").slider("value");i.css("z-index",u)}}}catch(a){}e.isSelectProcessing=!1},e.ProcessSelectedValues=function(){var e=r.Watch.MouseJQ.selectedElement;if(e!=undefined&&e.hasClass("image-text-other")){var t=e.css("z-index");jQuery(".control-z-zindex").slider("value",t)}},e.ProcessSelectNotify=function(){e.ProcessSelectedValues()},e.isSelectProcessing=!1,e}();e.FrontBackJQ=t})(u=t.FrontBack||(t.FrontBack={}))}),define("ContextMenu/Contextmenujq",["require","exports","../Watch/WatchMouseJQ","../Controls/ControlsJQ","../Watch/CopyPasteJQ","../Controls/ImageJQ","../Controls/BorderJQ","../Controls/ColorJQ","../Controls/TextJQ","../SmartMenu/SmartMenuJQ","../Controls/Menujq","../Controls/BIjq","../Controls/SpacerJQ","../Controls/LinkJQ","../Controls/HtmlJQ","../Controls/MarginJQ","../Controls/PaddingJQ","../Controls/FrontBackJQ"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){var y=!1,b="ctx-menu-disabled",w=!1,E=!1,S;(function(e){var t=function(){function e(e){this.controlId="#contextMenu"}return e.prototype.Init=function(){this.MainEvents()},e.ContextMenuBinding=function(){jQuery(document).bind("contextmenu",function(t){if(jQuery(t.target).closest(".control-page").length==0){n.Watch.MouseJQ.ProcessClick(t),t.preventDefault();var r=new e;r.DetectContextMenu();var i=t.clientY;i>=jQuery(window).height()-250&&(i-=240);var s=t.clientX;s>jQuery(document).width()-200&&(s-=150),jQuery(r.controlId).css("left",s+"px"),jQuery(r.controlId).css("top",i+"px"),jQuery(r.controlId).fadeIn(500)}t.cancelBubble=!1})},e.prototype.DetectContextMenu=function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){jQuery(".ctx-menu-add-row").parent().removeClass(b),jQuery(".ctx-menu-height-width").parent().removeClass(b),jQuery(".ctx-menu-border").parent().removeClass(b),jQuery(".ctx-menu-cut").parent().addClass(b),jQuery(".ctx-menu-copy").parent().addClass(b),jQuery(".ctx-menu-paste").parent().addClass(b),jQuery(".ctx-menu-insert").parent().addClass(b),jQuery(".ctx-menu-insert-text").parent().addClass(b),jQuery(".ctx-menu-insert-image").parent().addClass(b),jQuery(".ctx-menu-insert-youtube").parent().addClass(b),jQuery(".ctx-menu-insert-html").parent().addClass(b),jQuery(".ctx-menu-insert-css").parent().addClass(b),jQuery(".ctx-menu-insert-menu").parent().addClass(b),jQuery(".ctx-menu-insert-empty-space").parent().addClass(b),jQuery(".ctx-menu-insert-link").parent().addClass(b),jQuery(".ctx-menu-insert-object").parent().addClass(b),jQuery(".ctx-menu-delete-element").parent().addClass(b),e.hasClass("root-elements")&&jQuery(".ctx-menu-delete-element").parent().removeClass(b),e.hasClass("jq-site-link-container")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("jqRootRow")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("column")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("empty-container")&&!e.hasClass("empty-container-spacer")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b));if(e.hasClass("jq-plus-container")||e.hasClass("empty-container-spacer"))jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b);if(e.hasClass("empty-container-text")||e.hasClass("empty-container-image"))jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b);e.hasClass("empty-container-spacer")&&jQuery(".ctx-menu-add-row").parent().addClass(b)}},e.AttachDeleteElement=function(){jQuery(".li.ctx-menu-delete-element").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.DeleteElement()})},e.AttachInsertLinkContainer=function(){jQuery(".li.ctx-menu-insert-link-container").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;i.CopyPaste.CopyPasteJQ.CreateLinkContainer()})},e.AttachInsertLink=function(){(new p.Link.LinkJQ).Init(),jQuery(".li.ctx-menu-insert-link").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertLink(),p.Link.LinkJQ.ProcessSelectNotify()})},e.AttachInsertHTML=function(){(new d.Html.HtmlJQ).Init(),jQuery(".li.ctx-menu-insert-html").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertHTML()})},e.AttachInsertText=function(){jQuery(".li.smart-menu-insert-text").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertText(),a.Text.TextJQ.ProcessSelectNotify()}),jQuery(".li.ctx-menu-insert-text").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertText(),a.Text.TextJQ.ProcessSelectNotify()})},e.AttachControlPageClose=function(){jQuery(".control-templates").find(".close-button").click(function(){jQuery(".control-page").removeClass("control-active"),e.ShowProperties()}),jQuery(".control-page").find(".close-button").click(function(){jQuery(".control-page").removeClass("control-active"),e.ShowProperties(),jQuery(".internet-bi-image-url").val(""),jQuery(".internet-image-url").val("")})},e.ShowProperties=function(){jQuery(".jq-properties-all").hasClass("forced-hide")||jQuery(".jq-properties-all").show()},e.ControlPageHide=function(){jQuery(".control-page").hide(),jQuery(".control-page").attr("style",""),jQuery(".control-page").css("display","none"),jQuery(".control-page").removeClass("control-active"),jQuery(".jq-properties-all").css("display")=="block"?(jQuery(".jq-properties-all").addClass("normal-hide"),jQuery(".jq-properties-all").hide()):jQuery(".jq-properties-all").hasClass("forced-hide")||jQuery(".jq-properties-all").show()},e.ShowControlInsertLink=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-insert-link").addClass("control-active"),p.Link.LinkJQ.Show()},e.ShowControlInsertHTML=function(){e.ControlPageHide(),d.Html.HtmlJQ.Show()},e.ShowControlInsertText=function(){e.ControlPageHide();var t="180px",n="105px";jQuery("rootx").css("top",t),jQuery(".designer-top-row").css("height",t),jQuery("#notify").css("top",n),jQuery(".editor").show(),jQuery(".jqte-editor").removeClass("current-editor-scope"),jQuery(this).find(".jqte-editor").addClass("current-editor-scope"),jQuery(".control-page").removeClass("control-active"),jQuery("#control-insert-text").addClass("control-active"),jQuery("#control-insert-text").show(),jQuery("#control-insert-text").trigger("cust_loaded")},e.ShowControlAddRow=function(){e.ControlPageHide();var t=r.Page.AddRowJQ.pageId;jQuery(".control-page").removeClass("control-active"),jQuery(t).addClass("control-active"),jQuery(t).show(),jQuery(t).trigger("cust_loaded")},e.ShowMenu=function(){(new l.Menu.MenuJQ).Init(),e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery(".control-menu").addClass("control-active"),jQuery(".control-menu").show(),l.Menu.MenuJQ.ProcessShow()},e.InsertImage=function(){e.ControlPageHide();var t=s.Image.SelfJQ.controlId;jQuery(".control-page").removeClass("control-active"),jQuery(t).addClass("control-active"),jQuery(".action-button-insert-image").show(),jQuery(".action-button-change-image").hide(),jQuery(t).show(),jQuery(t).trigger("custom_loaded")},e.CopyElement=function(){i.CopyPaste.CopyPasteJQ.Copy()},e.DeleteElement=function(){i.CopyPaste.CopyPasteJQ.Delete()},e.CutElement=function(){i.CopyPaste.CopyPasteJQ.Cut()},e.PasteElement=function(){i.CopyPaste.CopyPasteJQ.Paste()},e.PasteClipBorad=function(){jQuery(".jq-clipboard").html(""),jQuery("#control-insert-clipboard").show()},e.ShowControlHeightWidth=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-height-width").addClass("control-active"),jQuery("#control-height-width").show()},e.ShowBorderControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-border").addClass("control-active"),jQuery("#control-border").show()},e.ShowMarginControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-margin").addClass("control-active"),jQuery("#control-margin").show()},e.ShowPaddingControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-padding").addClass("control-active"),jQuery("#control-padding").show()},e.ShowZindex=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-zindex").addClass("control-active"),jQuery("#control-zindex").show()},e.ShowColor=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-color").addClass("control-active"),jQuery("#control-color").show()},e.ShowBackgroundImage=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-bi").addClass("control-active"),jQuery("#control-bi").show()},e.AttachAddRow=function(){jQuery(".li.ctx-menu-add-row").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlAddRow(),r.Page.AddRowJQ.ProcessSelectNotify()})},e.AttachHeightWidth=function(){jQuery(".li.ctx-menu-height-width").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlHeightWidth(),f.Smart.SmartMenuJQ.ProcessSelectNotify()})},e.AttachBorder=function(){(new o.Border.BorderJQ).Init(),jQuery(".li.ctx-menu-border").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowBorderControl(),o.Border.BorderJQ.ProcessSelectNotify()})},e.AttachMargin=function(){(new v.Margin.MarginJQ).Init(),jQuery(".li.ctx-menu-margin").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowMarginControl(),v.Margin.MarginJQ.ProcessSelectNotify()})},e.AttachPadding=function(){(new m.Padding.PaddingJQ).Init(),jQuery(".li.ctx-menu-padding").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowPaddingControl(),m.Padding.PaddingJQ.ProcessSelectNotify()})},e.AttachZindex=function(){(new g.FrontBack.FrontBackJQ).Init(),jQuery(".li.ctx-menu-z-index").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowZindex(),g.FrontBack.FrontBackJQ.ProcessSelectNotify()})},e.AttachCopy=function(){jQuery(".li.ctx-menu-copy").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.CopyElement()})},e.AttachCut=function(){jQuery(".li.ctx-menu-cut").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.CutElement()})},e.AttachPaste=function(){jQuery(".li.ctx-menu-paste").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.PasteElement()})},e.AttachPasteClipBorad=function(){jQuery(".li.ctx-menu-paste-clipborad").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.PasteClipBorad()})},e.AttachSpacer=function(){jQuery(".smart-menu-insert-empty-space").on("click",function(){if(jQuery(this).parent().hasClass(b))return;h.Spacer.SpacerJQ.InsertSpacer()}),jQuery(".ctx-menu-insert-empty-space").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;h.Spacer.SpacerJQ.InsertSpacer()})},e.AttachInsertImage=function(){(new s.Image.SelfJQ).Init(),jQuery(".li.smart-menu-insert-image").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.InsertImage(),s.Image.SelfJQ.ProcessSelectNotify()}),jQuery(".li.ctx-menu-insert-image").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.InsertImage(),s.Image.SelfJQ.ProcessSelectNotify()})},e.AttachBackgroundImage=function(){(new c.BI.BIJQ).Init(),jQuery(".li.ctx-menu-background-image").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowBackgroundImage(),c.BI.BIJQ.ProcessSelectNotify()})},e.AttachInsertMenu=function(){jQuery(".li.ctx-menu-insert-menu").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowMenu(),l.Menu.MenuJQ.ProcessSelectNotify()})},e.AttachColor=function(){(new u.Color.ColorJQ).Init(),jQuery(".li.ctx-menu-color").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowColor(),u.Color.ColorJQ.ProcessSelectNotify()})},e.ContextInnerMenuShowHide=function(){jQuery("#contextMenuitems").find(".li").mouseenter(function(e){var t=147;e.pageX>$(document).width()-200&&(t=-150),jQuery(this).parent().find(".innerListContainer").first().css("left",t+"px"),jQuery(this).parent().find(".innerListContainer").first().css("display","block")}),jQuery("#contextMenuitems").find("li").mouseleave(function(e){jQuery(this).find(".innerListContainer").first().css("display","none")})},e.LiClick=function(){jQuery("#contextMenuitems > li").click(function(){})},e.prototype.MainEvents=function(){jQuery(document).ready(function(){w==0&&(w=!0,jQuery(document).on("click",function(){jQuery("#contextMenu").hide(500),jQuery("#smInsertNextPrev").hide(500)}),y==0&&(y=!0,e.ContextMenuBinding(),e.LiClick(),e.ContextInnerMenuShowHide(),e.AttachInsertLinkContainer(),e.AttachInsertLink(),e.AttachInsertHTML(),e.AttachInsertText(),e.AttachAddRow(),e.AttachDeleteElement(),e.AttachHeightWidth(),e.AttachCopy(),e.AttachPaste(),e.AttachPasteClipBorad(),e.AttachCut(),e.AttachInsertImage(),e.AttachSpacer(),e.AttachBorder(),e.AttachMargin(),e.AttachZindex(),e.AttachPadding(),e.AttachColor(),e.AttachInsertMenu(),e.AttachBackgroundImage(),e.AttachControlPageClose()))})},e}();e.ContextMenuJQ=t})(S=t.ContextMenu||(t.ContextMenu={}))}),define("controls/bijq",["require","exports","../Watch/WatchMouseJQ","../UndoManager/UndoManager","../controls/imagejq"],function(e,t,n,r,i){var s=!0,o=!1,u=0,a;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){jQuery(document).ready(function(){o==0&&(o=!0,jQuery(".smart-menu-bi-control").spinner({min:0,max:2e3,step:1,change:function(e,t){},spin:function(e,t){var r=n.Watch.MouseJQ.selectedElement;if(r!=undefined){var i=jQuery(".smart-menu-bi-height").spinner("value"),s=jQuery(".smart-menu-bi-width").spinner("value");r.css("background-size",s+jQuery(".ddn-bi-pixel-type").val()+" "+i+jQuery(".ddn-bi-pixel-type").val())}},stop:function(e,t){var i=n.Watch.MouseJQ.selectedElement;if(i!=undefined){var s=jQuery(".smart-menu-bi-height").spinner("value"),o=jQuery(".smart-menu-bi-width").spinner("value");i.css("background-size",o+jQuery(".ddn-bi-pixel-type").val()+" "+s+jQuery(".ddn-bi-pixel-type").val());var u=new r.Manager.UndoManager;u.BeforeOperation()}}}),jQuery(".bi-browse").click(function(){i.Image.SelfJQ.GetImages(),jQuery("#control-image-bi-library").show()}),jQuery(".make-100").click(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){jQuery(".ddn-bi-pixel-type").val("%");var t=100;jQuery(".smart-menu-bi-height").spinner("value",t);var i=100;jQuery(".smart-menu-bi-width").spinner("value",i),e.css("background-size",i+jQuery(".ddn-bi-pixel-type").val()+" "+t+jQuery(".ddn-bi-pixel-type").val());var s=new r.Manager.UndoManager;s.BeforeOperation()}}),jQuery(".ddn-bi-pixel-type").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=jQuery(".smart-menu-bi-height").spinner("value"),i=jQuery(".smart-menu-bi-width").spinner("value");e.css("background-size",i+jQuery(".ddn-bi-pixel-type").val()+" "+t+jQuery(".ddn-bi-pixel-type").val());var s=new r.Manager.UndoManager;s.BeforeOperation()}}),jQuery(".action-button-insert-bi-image").click(function(){var e=jQuery(".image-library-bi-select").first().attr("src");jQuery(".bi-selected-image").val(e).change(),jQuery(".image-library-image").removeClass("image-library-bi-select"),jQuery("#control-image-bi-library").hide()}),jQuery(".control-bi-controls .bi-selected-image").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-image","url("+jQuery(this).val()+")");var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .internet-bi-image-url").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-image","url("+jQuery(this).val()+")");var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-repeat").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-repeat",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-attachment").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-attachment",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}),jQuery(".control-bi-controls .ddn-bi-position").change(function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){e.css("background-position",jQuery(this).val());var t=new r.Manager.UndoManager;t.BeforeOperation()}}))})},e.ProcessSelectNotify=function(){e.isSelectProcessing=!0;try{var t=n.Watch.MouseJQ.selectedElement;if(t!=undefined){var r=t.css("background-image").replace("url(","").replace(")","");jQuery(".bi-selected-image").val(r);var i=t.css("background-repeat");jQuery(".ddn-bi-repeat").val(i);var s=t.css("background-attachment");jQuery(".ddn-bi-attachment").val(s);var o=t.css("background-position");jQuery(".ddn-bi-position").val(o);var u=t.css("background-size");if(u!=undefined){var a=u.split(" ");if(a.length>=2){var f=a[0],l=a[1];jQuery(".ddn-bi-pixel-type").val("px"),f=f.replace("px",""),l=l.replace("px",""),jQuery(".smart-menu-bi-height").spinner("value",l),jQuery(".smart-menu-bi-width").spinner("value",f)}else jQuery(".smart-menu-bi-height").spinner("value",0),jQuery(".smart-menu-bi-width").spinner("value",0)}}}catch(c){}e.isSelectProcessing=!1},e.isSelectProcessing=!1,e}();e.BIJQ=t})(a=t.BI||(t.BI={}))}),define("Watch/WatchMouseJQ",["require","exports","../Common/CommonMethodsJQ","../Controls/ControlsJQ","../Controls/TextJQ","../Controls/ImageJQ","../Controls/FontJQ","../Controls/BorderJQ","../Controls/ColorJQ","../SmartMenu/SmartMenuJQ","../Error/ErrorJQ","../ContextMenu/Contextmenujq","../controls/bijq","../JQte/OnInsert","../MalFormed/MalFormedJQ","../Controls/ControlCommonJQ","../Controls/MarginJQ","../Controls/PaddingJQ","../Controls/FrontBackJQ"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){var b=!1,w=!1,E;(function(e){var t=function(){function e(){}return e.RemoveAndResetRemovableRow=function(){jQuery(".removable-row").length>0&&(jQuery(".removable-row").removeClass("removable-row"),jQuery(".columns-pending").removeClass("columns-pending"),e.selectedElement=jQuery("#nononoelement"));if(e.selectedElement==undefined){var t=new l.ErrorHandle.ErrorJQ;t.ActionHelp("Please select a element.")}},e.ProcessMove=function(t){e.selectedMoveElement!=undefined&&e.selectedMoveElement.find(".ui-resizable-handle").hide(),jQuery(t.target).hasClass(".key")?e.selectedMoveElement=jQuery(t.target):e.selectedMoveElement=jQuery(t.target).closest(".key"),e.selectedMoveElement.hasClass("row")||e.selectedMoveElement.hasClass("column")?e.selectedMoveElement.children(".ui-resizable-handle").show():e.selectedMoveElement.hasClass("ui-resizable")?e.selectedMoveElement.children(".ui-resizable-handle").show():e.selectedMoveElement.find(".ui-resizable").first().children(".ui-resizable-handle").show()},e.ProcessClick=function(t){var l=new n.Common.CommonMethodsJQ;if(jQuery(".close-preview").css("display")=="none"){if(d.MalFormed.MalFormedJQ.IsMalFormed==1)return;e.selectedElement!=undefined&&e.selectedElement.length>0&&(e.selectedElement.removeClass("image-selection"),e.selectedElement.removeClass("design-select-element-just-mark")),e.selectedElement=jQuery(t.target),e.selectedElement=e.selectedElement.closest(".key"),e.selectedElement.hasClass("key")==0&&(e.selectedElement=jQuery("#noelement")),e.selectedElement.addClass("design-select-element-just-mark"),r.Page.AddRowJQ.ProcessSelectNotify();var c=e.GetActiveControl();if(c!=undefined&&c!="")switch(c.toLowerCase()){case"add-row":break;case"height-width":f.Smart.SmartMenuJQ.ProcessSelectNotify();break;case"image-library":s.Image.SelfJQ.ProcessSelectNotify();break;case"color":a.Color.ColorJQ.ProcessSelectNotify();break;case"border":u.Border.BorderJQ.ProcessSelectNotify();break;case"insert-text":i.Text.TextJQ.ProcessSelectNotify();break;case"bi":h.BI.BIJQ.ProcessSelectNotify();break;case"margin":m.Margin.MarginJQ.ProcessSelectNotify();break;case"padding":g.Padding.PaddingJQ.ProcessSelectNotify();break;case"zindex":y.FrontBack.FrontBackJQ.ProcessSelectNotify();break;default:}try{jQuery(".jq-properties-all").css("display").toLowerCase()!="none"&&(a.Color.ColorJQ.ProcessSelectNotify(),f.Smart.SmartMenuJQ.ProcessSelectNotify(),u.Border.BorderJQ.ProcessSelectNotify(),o.Font.FontJQ.ProcessSelectNotify(),h.BI.BIJQ.ProcessSelectNotify())}catch(p){}e.selectedElement!=undefined&&(e.selectedElement.hasClass("jqte")||e.selectedElement.addClass("image-selection"))}},e.GetActiveControl=function(){var e="",t=jQuery(".control-page");for(var n=0;n<t.length;n++)if(jQuery(t[n]).css("display")=="block"){e=jQuery(t[n]).attr("name");break}return e},e.prototype.WatchPage=function(){jQuery(document).ready(function(){b==0&&(b=!0,jQuery("page").click(function(t){e.ProcessClick(t);if(v.ControlCommon.Code.AnchorClicked==1)return v.ControlCommon.Code.AnchorClicked=!1,t.cancelBubble!=null&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue!=null&&(t.returnValue=!1),!1}),jQuery("input").keydown(function(e){var t=8;e.which==t&&(p.OnInsert.Code.BackPassed=!0)}),jQuery("textarea").keydown(function(e){var t=8;e.which==t&&(p.OnInsert.Code.BackPassed=!0)}),jQuery(document).keydown(function(e){var t=8;if(e.which==t){if(p.OnInsert.Code.BackPassed==0)return e.cancelBubble!=null&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue!=null&&(e.returnValue=!1),!1;p.OnInsert.Code.BackPassed=!1}}),jQuery(document).keyup(function(e){var t=27,n=13;if(e.which===t){$(".empty-container-text").draggable({disabled:!1}),$(".empty-container-image").draggable({disabled:!1});var r="180px",i="105px";return jQuery("rootx").css("top",r),jQuery(".designer-top-row").css("height",r),jQuery(".editor").hide(),jQuery("#notify").css("top",i),jQuery("page .jqte-editor").css("cursor","move"),c.ContextMenu.ContextMenuJQ.ControlPageHide(),e.cancelBubble!=null&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue!=null&&(e.returnValue=!1),!1}}))})},e}();e.MouseJQ=t})(E=t.Watch||(t.Watch={}))}),define("UndoManager/UndoManager",["require","exports","../Controls/ControlCommonJQ","../Preview/Preview","../Watch/WatchMouseJQ","../MalFormed/MalFormedJQ"],function(e,t,n,r,i,s){window.undoActivityIndex=999999;var o;(function(e){var t=function(){function e(){this.isEnabled=!0,this.isUndoHit=!1,this.isRedoHit=!1}return e.prototype.EnableUndoManager=function(e){this.isEnabled=e},e.prototype.SetSelectElement=function(){var e=i.Watch.MouseJQ.selectedElement;if(e!=undefined){var t=e.attr("scopeId");i.Watch.MouseJQ.selectedElement=jQuery("div[scopeId='"+t+"'").first()}},e.prototype.Undo=function(){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;jQuery(".close-preview").css("display")!="none"&&r.Preview.PreviewJQ.ClosePreview();var e;if(window.undoActivityIndex<=0)return;window.undoActivityIndex==999999?window.undoObjArray!=undefined&&(window.undoActivityIndex=window.undoObjArray.length-2,e=window.undoObjArray[window.undoActivityIndex]):(window.undoActivityIndex--,window.undoActivityIndex<=0&&(this.isUndoHit=!0),e=window.undoObjArray[window.undoActivityIndex]);if(e!=null){var t;t=jQuery(e.parent),jQuery("page").html(e.html),n.ControlCommon.Code.DestroyResizable(),n.ControlCommon.Code.Execute(),this.SetSelectElement()}},e.prototype.Redo=function(){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;jQuery(".close-preview").css("display")!="none"&&r.Preview.PreviewJQ.ClosePreview();var e;window.undoActivityIndex==-1&&(window.undoActivityIndex=0);if(window.undoObjArray!=undefined){if(window.undoActivityIndex+1>=window.undoObjArray.length)return;window.undoActivityIndex++,e=window.undoObjArray[window.undoActivityIndex],e!=null&&(jQuery("page").html(e.html),n.ControlCommon.Code.DestroyResizable(),n.ControlCommon.Code.Execute(),this.SetSelectElement())}},e.prototype.PushUndo=function(e){window.undoObjArray==undefined&&(window.undoObjArray=[]),e!=undefined&&window.undoObjArray.push(e)},e.prototype.PopUndo=function(){var e=window.undoObjArray.pop()},e.prototype.ClearRedoOnChange=function(){},e.prototype.Clear=function(){},e.prototype.BeforeOperation=function(e){if(s.MalFormed.MalFormedJQ.IsMalFormed==1)return;if(window.layoutCreating==0){try{window.undoObjArray.splice(window.undoActivityIndex+1),window.undoActivityIndex=999999}catch(t){}e=jQuery("page");var n;n=e;var r=new o;r.parent=n,r.html=n.html(),r.Push()}},e}();e.UndoManager=t;var o=function(){function e(){}return e.prototype.Push=function(){var e=new t;e.PushUndo(this)},e}();e.UndoJQ=o})(o=t.Manager||(t.Manager={}))}),define("Controls/JQueryUI",["require","exports","../Common/CommonMethodsJQ","../UndoManager/UndoManager"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){}return e.Draggable=function(t,n){jQuery(t).draggable({cancel:n,revert:"invalid",start:function(t,n){e.droppableCount++,n.helper.css("z-index","9999999999"),n.helper.css("opacity","0.6")},stop:function(t,n){e.droppableCount=0,n.helper.css("opacity","1"),n.helper.css("z-index","1")}})},e.DraggableDestroy=function(e){jQuery(e).draggable("destroy")},e.ResizableImage=function(){var e="e,se,s";$(".image-element").resizable({handles:e,start:function(e,t){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-width"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"width")},stop:function(e,t){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"height"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"min-width"),r.RemoveStyle(t.helper.closest(".ui-wrapper"),"width")}})},e.ResizableColumn=function(){var e="e,se,s";$(".column").resizable({handles:e,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height")}var i=jQuery(t.helper).nextAll(".column");i.hide()},stop:function(e,t){jQuery(".ui-resizable-se").removeClass("selected-resizable");var i=t.size.height,s=t.size.width,o=t.originalSize.height,u=t.originalSize.width,a=jQuery(t.helper).parent().width(),f=Math.floor(1*a/100),l=2,c=l*f,h=new n.Common.CommonMethodsJQ,p=jQuery(t.helper).attr("style");i!=o&&(h.RemoveStyle(t.helper,"min-height"),h.RemoveStyle(t.helper,"height"),jQuery(t.helper).css("min-height",i)),h.RemoveStyle(t.helper,"min-width"),h.RemoveStyle(t.helper,"width");var d=48;if(s>u){var v=0,m=jQuery(t.helper).nextAll(".column");try{var g=t.helper.parent().children(".column"),y=0;for(var b=0;b<g.length;b++){var w=jQuery(g[b]).attr("xs-column-size");if(w!=undefined&&w!=""){var E=Number(w);y+=E}}y<d&&(v=d-y);var S=s-u,x=Math.floor(S/c);x==0&&(x=1);var T=jQuery(t.helper).nextAll(".column").length,N=Math.floor(x/T);N==0&&(N=1);var C=x;for(var k=0;k<m.length;k++){if(!(C>0))break;var L=Number(jQuery(m[k]).attr("xs-column-size"));if(L==1)continue;var A=L-N;A<1?(C=C-N+1,A=1):C-=N,jQuery(m[k]).removeClass("col-xs-"+L),jQuery(m[k]).addClass("col-xs-"+A),jQuery(m[k]).attr("xs-column-size",A)}var O=Number(t.helper.attr("xs-column-size")),M=O+x-C;x==C&&(M+=C);var _=0;t.helper.parent().children(".column").each(function(){_+=Number(jQuery(this).attr("xs-column-size"))});var D=_-O,P=D+M;while(P>d)M--,P--;jQuery(t.helper).removeClass("col-xs-"+O),jQuery(t.helper).addClass("col-xs-"+M),t.helper.attr("xs-column-size",M)}catch(H){}m.show()}else if(s<u){var m=jQuery(t.helper).nextAll(".column");try{var S=u-s,x=Math.floor(S/c);x==0&&(x=1);var N=Math.floor(x/1);N==0&&(N=1);var O=Number(t.helper.attr("xs-column-size"));if(O>1){var B=N,M=O-N;M<0&&(B=N+M,M=1),M==0&&(B=N-1,M=1),jQuery(t.helper).removeClass("col-xs-"+O),jQuery(t.helper).addClass("col-xs-"+M),t.helper.attr("xs-column-size",M);var C=x;if(C>0){var L=Number(jQuery(m[0]).attr("xs-column-size")),A=L+B,_=0;t.helper.parent().children(".column").each(function(){_+=Number(jQuery(this).attr("xs-column-size"))});var j=_-Number(jQuery(m[0]).attr("xs-column-size")),P=j+A;while(P>d)A--,P--;jQuery(m[0]).removeClass("col-xs-"+L),jQuery(m[0]).addClass("col-xs-"+A),jQuery(m[0]).attr("xs-column-size",A)}}}catch(H){}m.show()}var F=jQuery(t.helper).nextAll(".column");F.show();var I=new r.Manager.UndoManager;I.BeforeOperation()},resize:function(e,t){}})},e.OnResize=function(e,t){jQuery(t.element).data("ui-resizable").axis!="se"&&($(t.element).data("ui-resizable").axis=="s"?t.helper.height(t.helper.height()+20):$(t.element).data("ui-resizable").axis=="s")},e.ResizableRootElements=function(e,t){var i="e,se,s";t!=undefined&&t!=""&&(i=t),$(e).resizable({handles:i,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height"),r.RemoveStyle(t.helper,"height")}},stop:function(e,t){var i=t.size.height,s=t.size.width;if(jQuery(this).hasClass("empty-container-text")||jQuery(this).hasClass("root-elements")){var o=new n.Common.CommonMethodsJQ;o.RemoveStyle(jQuery(this),"min-height"),o.RemoveStyle(jQuery(this),"height"),jQuery(this).css("min-height",i)}var u=new r.Manager.UndoManager;u.BeforeOperation()}})},e.Resizable=function(e,t){var i="e,se,s";t!=undefined&&t!=""&&(i=t),$(e).resizable({handles:i,minHeight:30,minWidth:30,start:function(e,t){if(jQuery(t.element).data("ui-resizable").axis=="se"||$(t.element).data("ui-resizable").axis=="s"){var r=new n.Common.CommonMethodsJQ;r.RemoveStyle(t.helper,"min-height"),r.RemoveStyle(t.helper,"height")}},stop:function(e,t){var i=t.size.height,s=t.size.width;if(jQuery(this).hasClass("empty-container-text")||jQuery(this).hasClass("empty-container-image")||jQuery(this).hasClass("empty-container")||jQuery(this).hasClass("jq-plus-container-text")||jQuery(this).hasClass("jq-plus-container-image")||jQuery(this).hasClass("root-elements")){var o=new n.Common.CommonMethodsJQ;o.RemoveStyle(jQuery(this),"min-height"),o.RemoveStyle(jQuery(this),"height"),jQuery(this).hasClass("jq-plus-container-image")||jQuery(this).hasClass("empty-container-spacer")?jQuery(this).css("height",i):jQuery(this).css("min-height",i)}var u=new r.Manager.UndoManager;u.BeforeOperation()}})},e.Droppable=function(t){$(t).droppable({drop:function(t,n){var i=n.helper;if(e.droppableCount>=2&&e.currentTarget!=undefined&&!n.draggable.hasClass("control-drag-anywhere")){e.droppableCount++,n.draggable.css("opacity","1"),n.draggable.find(".jq-image-block-image").length>0?(n.draggable.css("position","relative").css("left","").css("top",""),e.currentTarget.closest(".key").append(n.draggable.closest(".empty-container-image"))):e.currentTarget.closest(".key").append(n.draggable.css("position","relative").css("left","").css("top","")),jQuery(".image-selection").removeClass("image-selection"),t.stopPropagation(),e.currentTarget=null;var s=new r.Manager.UndoManager;s.BeforeOperation()}else n.draggable.hasClass("control-drag-anywhere")||n.draggable.css("position","relative").css("left","").css("top","")},out:function(t,n){e.droppableCount++},over:function(t,n){jQuery(".image-selection").removeClass("image-selection"),e.currentTarget=jQuery(t.target),jQuery(t.target).hasClass("key")?jQuery(t.target).addClass("image-selection"):jQuery(t.target).closest(".key").addClass("image-selection")}})},e.DroppableDestroy=function(e){$(e).droppable("destroy")},e.ResizableDestroy=function(e){try{$(e).resizable("destroy"),jQuery(e).find("div").remove(".ui-resizable-handle")}catch(t){jQuery(e).find("div").remove(".ui-resizable-handle")}},e.droppableCount=0,e}();e.CommonCode=t})(i=t.JQueryUI||(t.JQueryUI={}))}),define("Controls/ControlCommonJQ",["require","exports","./JQueryUI","../common/on","../JQte/OnInsert"],function(e,t,n,r,i){var s;(function(e){var t=function(){function e(){}return e.Execute=function(){r.On.Code.Execute(),(new i.OnInsert.Code).Init(),n.JQueryUI.CommonCode.ResizableColumn(),n.JQueryUI.CommonCode.Resizable(".empty-container"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-text"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableRootElements(".root-elements","s"),n.JQueryUI.CommonCode.Draggable(".empty-container",""),n.JQueryUI.CommonCode.Draggable(".empty-container-menu",""),n.JQueryUI.CommonCode.Draggable(".empty-container-text",""),n.JQueryUI.CommonCode.Draggable(".empty-container-image",""),n.JQueryUI.CommonCode.Draggable(".empty-container-spacer",""),n.JQueryUI.CommonCode.Droppable(".column"),n.JQueryUI.CommonCode.Droppable(".empty-container"),jQuery(".ui-resizable-e").html("<div class='jq-square jq-square-e'></div>"),jQuery(".ui-resizable-se").html("<div class='jq-square jq-square-se'></div>"),jQuery(".ui-resizable-s").html("<div class='jq-square jq-square-s'></div>")},e.DestroyResizable=function(){n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-text"),n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableDestroy(".column"),n.JQueryUI.CommonCode.ResizableDestroy(".empty-container"),n.JQueryUI.CommonCode.ResizableDestroy(".root-elements")},e.AnchorClicked=!1,e}();e.Code=t})(s=t.ControlCommon||(t.ControlCommon={}))}),define("Page/PageElementBaseJQ",["require","exports","../PageElements/ElementJQ","../Error/ErrorJQ","../Common/CommonMethodsJQ","../_Classes/UrlJQ","../_Classes/Auth","../Constants/ConstantsJQ","../Controls/ControlCommonJQ","../UndoManager/UndoManager","../MalFormed/MalFormedJQ"],function(e,t,n,r,i,s,o,u,a,f,l){var c=5,h;(function(e){var t,h,p;h=0,p=0,t=!0;var d=function(){function e(e,t,n,r){this.scopeId="body",this.typeName=t,this.rootWrapper=n,this.cssClassName="jq-"+this.typeName,this.cssBackClassName="jq-back-"+this.typeName,this.cssAdditionalStylingClassName="jq-additional-"+this.typeName,this.templatePath=this.typeName,this.templateName=this.typeName+".html",this.qualifiedTemplatePath=this.templatePath+"/"+this.templateName}return e.prototype.GenerateColumnScopeId=function(){return"Column_"+ ++h},e.prototype.GenerateRowScopeId=function(){return"Row_"+ ++p},e.prototype.Log=function(e){(new r.ErrorHandle.ErrorJQ).LogMessage(this.typeName+"JQ"+" : "+e)},e.prototype.GetClassName=function(){return this.cssClassName},e.prototype.GetDotClassName=function(){return"."+this.GetClassName()},e.prototype.GetScope=function(){return this.scopeId==undefined||this.scopeId==""?(this.scopeId="body",jQuery(this.scopeId)):jQuery(this.scopeId)},e.prototype.SetScope=function(e){return this.scopeId=e,this},e.prototype.Get=function(){return jQuery(this.GetScope()).find(this.GetDotClassName())},e.prototype.Remove=function(){jQuery(this.Get()).remove()},e.prototype.GetWrapper=function(){if(this.ProcessKey()!=1)return;return this.rootWrapper.toString().toLowerCase()=="body"?jQuery(this.rootWrapper):jQuery(this.GetScope()).find(this.rootWrapper)},e.prototype.Create=function(e){if(this.ProcessKey()!=1)return;e==undefined||e=="";if(this.Get().length==0){var t=new n.Page.Elements.ElementJQ;this.Add(this.GetWrapper(),t.CreateDiv("",this.GetClassName()+" "+this.cssBackClassName+" "+this.cssAdditionalStylingClassName+" "+" key design-row row root-elements page-element jqMargin-0 "),undefined,undefined,undefined,undefined,undefined)}return this},e.prototype.CreateNotExist=function(){this.Get().length==0&&this.Create(undefined)},e.prototype.AddRow=function(e,r,s,o,u,a){if(this.ProcessKey()!=1)return;var f;this.Get().length==0&&this.Create(undefined);if(r!=undefined&&r.length>0){var l;l=r.toString().split(" ");var c=new n.Page.Elements.ElementJQ;f=c.CreateDiv("","row key jqRootRow design-row");var h=new i.Common.CommonMethodsJQ;for(var p=0;p<l.length;p++){var d="",v="";if(l[p]==undefined||h.Trim(l[p])=="")continue;d=l[p].toString().replace(/,/g," "),v=d.toString().replace("col-xs-","");var m,g=new n.Page.Elements.ElementJQ,y=d+" "+s+" "+"column key design-column column-number-"+p,b="",w="";if(this.typeName=="Content"||jQuery(e).hasClass("jq-Content"))w="",p==0?w="SideBarLeft":p==1?w="MiddleContent":p==2&&(w="SideBarRight"),b="jq-"+w+" jq-back-"+w+" jq-additional-"+w;m=g.CreateDiv("",y+" "+b);var E=this.GenerateColumnScopeId();t==1&&m!=undefined&&m.append("<span class='debug-column-css debug-css' scopeId='"+E+"'> "+E+" </span> "),m.attr("scopeId",E),m.attr("column-number",p),m.attr("xs-column-size",v),m.css("min-height","100px"),m.addClass("column-padding"),b!=""?m.attr("key-css",".jq-"+b):e!=undefined?m.attr("key-css",jQuery(e).attr("key-css")+" "+"column"):m.attr("key-css",this.GetDotClassName()+" "+"column"),e!=undefined?f.attr("key-css",jQuery(e).attr("key-css")+" "+"row"):f.attr("key-css",this.GetDotClassName()+" "+"row"),jQuery(f).append(m),u!=undefined&&this.AdjustElement(m,u)}}var S=this.GenerateRowScopeId();f.attr("scopeId",S);var x="<div class='jq-row-plus-container jq-next-row-container'> <span class='jq-row-plus jq-next-row'> + </span> </div>",T="<div class='jq-row-plus-container jq-prev-row-container'> <span class='jq-row-plus jq-prev-row'> + </span> </div>";return f!=undefined&&(f.prepend(T),f.append(x)),o!=undefined&&this.AdjustElement(f,o),e==undefined&&(e=this.Get()),this.Add(e,f,undefined,undefined,undefined,undefined,a),f},e.prototype.AdjustElement=function(e,t){if(this.ProcessKey()!=1)return;if(e!=undefined&&t!=undefined){t.height!=undefined&&jQuery(e).css("min-height",t.height+"px"),t.width!=undefined&&jQuery(e).css("width",t.width+"px");if(t.padding!=undefined){var n=t.padding;n.all!=undefined?jQuery(e).css("padding",n.all+"px"):(n.left!=undefined&&jQuery(e).css("padding-left",n.left+"px"),n.top!=undefined&&jQuery(e).css("padding-top",n.top+"px"),n.right!=undefined&&jQuery(e).css("padding-right",n.right+"px"),n.bottom!=undefined&&jQuery(e).css("padding-bottom",n.bottom+"px"))}if(t.margin!=undefined){var r=t.margin;r.all!=undefined?jQuery(e).css("margin",r.all+"px"):(r.left!=undefined&&jQuery(e).css("margin-left",r.left+"px"),r.top!=undefined&&jQuery(e).css("margin-top",r.top+"px"),r.right!=undefined&&jQuery(e).css("margin-right",r.right+"px"),r.bottom!=undefined&&jQuery(e).css("margin-bottom",r.bottom+"px"))}}},e.prototype.Add=function(e,t,n,r,i,s,u){if(l.MalFormed.MalFormedJQ.IsMalFormed==1)return;if(this.ProcessKey()!=1)return;t!=undefined&&t.find(".debug-css").html("");var h=0,p=0;e==undefined&&(e=this.Get());if(r!=undefined){if(r!=""){var d=r.toString().split(" ");try{var v=Number(d[0]);v=Number(d[1])}catch(m){this.Log("Add(): Row or Column is not a number : provided values ("+r+")");return}d!=undefined&&d.length>1&&(h=Number(d[0])+1,p=Number(d[1]))}if(!(jQuery(e).find(".jqRootRow:nth-child("+h+")").children().eq(p).length>0)){this.Log(" Add() : ["+jQuery(e).attr("class")+"] do not have row column "+"["+h+","+p+"]"+" to add element");return}e=jQuery(e).find(".jqRootRow:nth-child("+h+")").children().eq(p)}else this.Log("Warning : Please Add Row to  ["+jQuery(e).attr("class")+"] "+"");if(t!=undefined){if(typeof t!="object"){var g=document.createElement("span");jQuery(g).append(t),t=jQuery(g)}jQuery(t).addClass(n)}var y=t.attr("class");if(s==1&&window.smartObj!=null&&window.smartObj.currentObj!=null&&window.smartObj.command!="")if(window.smartObj.command=="n"||window.smartObj.command==""){$(window.smartObj.currentObj).after(t);var b=new f.Manager.UndoManager;b.BeforeOperation()}else{$(window.smartObj.currentObj).before(t);var b=new f.Manager.UndoManager;b.BeforeOperation()}else if(i==1)jQuery("div[src='xa.xml']").length>2&&o.Auth.AuthJQ.IsAuth==1&&$(e).prepend(t);else if(jQuery("div[src='xa.xml']").length>2&&o.Auth.AuthJQ.IsAuth==1){jQuery(e).attr("unique-id")==undefined&&(c++,jQuery(e).attr("unique-id",c)),u==undefined?$(e).append(t):u==1?$(e).before(t):$(e).after(t);if(!jQuery(t).hasClass("jq-Any")){var b=new f.Manager.UndoManager;b.BeforeOperation()}else{var b=new f.Manager.UndoManager;b.BeforeOperation()}}a.ControlCommon.Code.Execute()},e.prototype.AddContent=function(e,t,n,r){this.CreateNotExist(),e!=undefined&&e!=""&&this.Add(this.Get(),e,t,n,r,undefined,undefined)},e.prototype.AddTemplate=function(e,t,n,i){if(e==undefined){(new r.ErrorHandle.ErrorJQ).LogMessage(" AddTemlate() > root is undefined");return}if(t==undefined||t=="")t=this.qualifiedTemplatePath;t.indexOf(".html")>0?this.Add(jQuery(e),jQuery('<div class="'+n+'" ng-include="\'/static/'+t+"'\"></div>"),n,i,!1,undefined,undefined):this.Add(jQuery(e),jQuery('<div class="'+n+'" ng-include="\''+t+"'\"></div>"),n,i,!1,undefined,undefined)},e.prototype.RemoveColumn=function(e,t){var n=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");jQuery(n).length>0?jQuery(jQuery(n).children().eq(t)).remove():this.Log("["+e+","+t+"]"+" column not found")},e.prototype.GetRow=function(e){var t=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");if(jQuery(t).length>0)return jQuery(t);this.Log("["+e+"]"+" row not found")},e.prototype.GetColumn=function(e,t){e+=1;var n=jQuery(this.Get()).find(".jqRootRow:nth-child("+e+")");if(jQuery(n).length>0)return jQuery(n).children().eq(t);this.Log("["+e+","+t+"]"+" column not found")},e.prototype.ProcessKey=function(){try{var e=this.GetKey();if(this.IsInIframe()==1)return!1;if(u.Constants.ConstantsJQ.SecureStrLength!=7)return!1;var t=0;for(var n=6;n>=0;n--){if(this.NextChar(e[t])!=u.Constants.ConstantsJQ.Str[n])return!1;t++}return!0}catch(r){return!1}},e.prototype.GetKey=function(){return(new s.Common.UrlJQ).GetDocumentLocation()},e.prototype.IsInIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e.prototype.NextChar=function(e){return String.fromCharCode(e.charCodeAt(0)+1)},e}();e.PageElementBaseJQ=d})(h=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Page/HeaderJQ",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t,n){n==undefined&&(n="Header"),e.call(this,null,n,r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.HeaderJQ=t})(i=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Page/MenuBarJQ",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t,n){n==undefined&&(n="MenuBar"),e.call(this,null,n,r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.MenuBarJQ=t})(i=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Page/ContentJQ",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t,n){n==undefined&&(n="Content"),e.call(this,null,n,r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.ContentJQ=t})(i=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Page/FooterJQ",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t,n){n==undefined&&(n="Footer"),e.call(this,null,n,r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.FooterJQ=t})(i=t.Page||(t.Page={}))});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("Page/AnyJQ",["require","exports","./PageElementBaseJQ","../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(e){function t(t){e.call(this,null,"Any",r.Constants.ConstantsJQ.PAGEROOT,null)}return __extends(t,e),t}(n.Page.PageElementBaseJQ);e.AnyJQ=t})(i=t.Page||(t.Page={}))}),define("Page/PageJQ",["require","exports","./HeaderJQ","./MenuBarJQ","./ContentJQ","./FooterJQ","./AnyJQ","../Menu/MenuTemplateJQ"],function(e,t,n,r,i,s,o,u){var a;(function(e){var t=function(){function e(e){this.pageConfiguration=e,this.Header=new n.Page.HeaderJQ(null),this.MenuBar=new r.Page.MenuBarJQ(null),this.MenuTemplate=new u.Page.Menu.MenuTemplateJQ,this.Content=new i.Page.ContentJQ(null),this.Footer=new s.Page.FooterJQ(null),this.Any=new o.Page.AnyJQ(null)}return e}();e.PageJQ=t})(a=t.Page||(t.Page={}))}),define("Page/Context/ContextJQ",["require","exports","../PageJQ","../../Constants/ConstantsJQ"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){this.Page=new n.Page.PageJQ(null),this.Constants=new r.Constants.ConstantsJQ}return e}();e.ContextJQ=t})(i=t.Page||(t.Page={}))}),define("ContextMenu/ContextMenuJQ",["require","exports","../Watch/WatchMouseJQ","../Controls/ControlsJQ","../Watch/CopyPasteJQ","../Controls/ImageJQ","../Controls/BorderJQ","../Controls/ColorJQ","../Controls/TextJQ","../SmartMenu/SmartMenuJQ","../Controls/Menujq","../Controls/BIjq","../Controls/SpacerJQ","../Controls/LinkJQ","../Controls/HtmlJQ","../Controls/MarginJQ","../Controls/PaddingJQ","../Controls/FrontBackJQ"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){var y=!1,b="ctx-menu-disabled",w=!1,E=!1,S;(function(e){var t=function(){function e(e){this.controlId="#contextMenu"}return e.prototype.Init=function(){this.MainEvents()},e.ContextMenuBinding=function(){jQuery(document).bind("contextmenu",function(t){if(jQuery(t.target).closest(".control-page").length==0){n.Watch.MouseJQ.ProcessClick(t),t.preventDefault();var r=new e;r.DetectContextMenu();var i=t.clientY;i>=jQuery(window).height()-250&&(i-=240);var s=t.clientX;s>jQuery(document).width()-200&&(s-=150),jQuery(r.controlId).css("left",s+"px"),jQuery(r.controlId).css("top",i+"px"),jQuery(r.controlId).fadeIn(500)}t.cancelBubble=!1})},e.prototype.DetectContextMenu=function(){var e=n.Watch.MouseJQ.selectedElement;if(e!=undefined){jQuery(".ctx-menu-add-row").parent().removeClass(b),jQuery(".ctx-menu-height-width").parent().removeClass(b),jQuery(".ctx-menu-border").parent().removeClass(b),jQuery(".ctx-menu-cut").parent().addClass(b),jQuery(".ctx-menu-copy").parent().addClass(b),jQuery(".ctx-menu-paste").parent().addClass(b),jQuery(".ctx-menu-insert").parent().addClass(b),jQuery(".ctx-menu-insert-text").parent().addClass(b),jQuery(".ctx-menu-insert-image").parent().addClass(b),jQuery(".ctx-menu-insert-youtube").parent().addClass(b),jQuery(".ctx-menu-insert-html").parent().addClass(b),jQuery(".ctx-menu-insert-css").parent().addClass(b),jQuery(".ctx-menu-insert-menu").parent().addClass(b),jQuery(".ctx-menu-insert-empty-space").parent().addClass(b),jQuery(".ctx-menu-insert-link").parent().addClass(b),jQuery(".ctx-menu-insert-object").parent().addClass(b),jQuery(".ctx-menu-delete-element").parent().addClass(b),e.hasClass("root-elements")&&jQuery(".ctx-menu-delete-element").parent().removeClass(b),e.hasClass("jq-site-link-container")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("jqRootRow")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("column")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b)),e.hasClass("empty-container")&&!e.hasClass("empty-container-spacer")&&(jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b));if(e.hasClass("jq-plus-container")||e.hasClass("empty-container-spacer"))jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b);if(e.hasClass("empty-container-text")||e.hasClass("empty-container-image"))jQuery(".ctx-menu-cut").parent().removeClass(b),jQuery(".ctx-menu-copy").parent().removeClass(b),jQuery(".ctx-menu-paste").parent().removeClass(b),jQuery(".ctx-menu-insert").parent().removeClass(b),jQuery(".ctx-menu-insert-text").parent().removeClass(b),jQuery(".ctx-menu-insert-image").parent().removeClass(b),jQuery(".ctx-menu-insert-youtube").parent().removeClass(b),jQuery(".ctx-menu-insert-html").parent().removeClass(b),jQuery(".ctx-menu-insert-css").parent().removeClass(b),jQuery(".ctx-menu-insert-menu").parent().removeClass(b),jQuery(".ctx-menu-insert-empty-space").parent().removeClass(b),jQuery(".ctx-menu-insert-link").parent().removeClass(b),jQuery(".ctx-menu-insert-object").parent().removeClass(b),jQuery(".ctx-menu-delete-element").parent().removeClass(b);e.hasClass("empty-container-spacer")&&jQuery(".ctx-menu-add-row").parent().addClass(b)}},e.AttachDeleteElement=function(){jQuery(".li.ctx-menu-delete-element").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.DeleteElement()})},e.AttachInsertLinkContainer=function(){jQuery(".li.ctx-menu-insert-link-container").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;i.CopyPaste.CopyPasteJQ.CreateLinkContainer()})},e.AttachInsertLink=function(){(new p.Link.LinkJQ).Init(),jQuery(".li.ctx-menu-insert-link").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertLink(),p.Link.LinkJQ.ProcessSelectNotify()})},e.AttachInsertHTML=function(){(new d.Html.HtmlJQ).Init(),jQuery(".li.ctx-menu-insert-html").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertHTML()})},e.AttachInsertText=function(){jQuery(".li.smart-menu-insert-text").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertText(),a.Text.TextJQ.ProcessSelectNotify()}),jQuery(".li.ctx-menu-insert-text").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.ShowControlInsertText(),a.Text.TextJQ.ProcessSelectNotify()})},e.AttachControlPageClose=function(){jQuery(".control-templates").find(".close-button").click(function(){jQuery(".control-page").removeClass("control-active"),e.ShowProperties()}),jQuery(".control-page").find(".close-button").click(function(){jQuery(".control-page").removeClass("control-active"),e.ShowProperties(),jQuery(".internet-bi-image-url").val(""),jQuery(".internet-image-url").val("")})},e.ShowProperties=function(){jQuery(".jq-properties-all").hasClass("forced-hide")||jQuery(".jq-properties-all").show()},e.ControlPageHide=function(){jQuery(".control-page").hide(),jQuery(".control-page").attr("style",""),jQuery(".control-page").css("display","none"),jQuery(".control-page").removeClass("control-active"),jQuery(".jq-properties-all").css("display")=="block"?(jQuery(".jq-properties-all").addClass("normal-hide"),jQuery(".jq-properties-all").hide()):jQuery(".jq-properties-all").hasClass("forced-hide")||jQuery(".jq-properties-all").show()},e.ShowControlInsertLink=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-insert-link").addClass("control-active"),p.Link.LinkJQ.Show()},e.ShowControlInsertHTML=function(){e.ControlPageHide(),d.Html.HtmlJQ.Show()},e.ShowControlInsertText=function(){e.ControlPageHide();var t="180px",n="105px";jQuery("rootx").css("top",t),jQuery(".designer-top-row").css("height",t),jQuery("#notify").css("top",n),jQuery(".editor").show(),jQuery(".jqte-editor").removeClass("current-editor-scope"),jQuery(this).find(".jqte-editor").addClass("current-editor-scope"),jQuery(".control-page").removeClass("control-active"),jQuery("#control-insert-text").addClass("control-active"),jQuery("#control-insert-text").show(),jQuery("#control-insert-text").trigger("cust_loaded")},e.ShowControlAddRow=function(){e.ControlPageHide();var t=r.Page.AddRowJQ.pageId;jQuery(".control-page").removeClass("control-active"),jQuery(t).addClass("control-active"),jQuery(t).show(),jQuery(t).trigger("cust_loaded")},e.ShowMenu=function(){(new l.Menu.MenuJQ).Init(),e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery(".control-menu").addClass("control-active"),jQuery(".control-menu").show(),l.Menu.MenuJQ.ProcessShow()},e.InsertImage=function(){e.ControlPageHide();var t=s.Image.SelfJQ.controlId;jQuery(".control-page").removeClass("control-active"),jQuery(t).addClass("control-active"),jQuery(".action-button-insert-image").show(),jQuery(".action-button-change-image").hide(),jQuery(t).show(),jQuery(t).trigger("custom_loaded")},e.CopyElement=function(){i.CopyPaste.CopyPasteJQ.Copy()},e.DeleteElement=function(){i.CopyPaste.CopyPasteJQ.Delete()},e.CutElement=function(){i.CopyPaste.CopyPasteJQ.Cut()},e.PasteElement=function(){i.CopyPaste.CopyPasteJQ.Paste()},e.PasteClipBorad=function(){jQuery(".jq-clipboard").html(""),jQuery("#control-insert-clipboard").show()},e.ShowControlHeightWidth=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-height-width").addClass("control-active"),jQuery("#control-height-width").show()},e.ShowBorderControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-border").addClass("control-active"),jQuery("#control-border").show()},e.ShowMarginControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-margin").addClass("control-active"),jQuery("#control-margin").show()},e.ShowPaddingControl=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-padding").addClass("control-active"),jQuery("#control-padding").show()},e.ShowZindex=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-zindex").addClass("control-active"),jQuery("#control-zindex").show()},e.ShowColor=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-color").addClass("control-active"),jQuery("#control-color").show()},e.ShowBackgroundImage=function(){e.ControlPageHide(),jQuery(".control-page").removeClass("control-active"),jQuery("#control-bi").addClass("control-active"),jQuery("#control-bi").show()},e.AttachAddRow=function(){jQuery(".li.ctx-menu-add-row").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlAddRow(),r.Page.AddRowJQ.ProcessSelectNotify()})},e.AttachHeightWidth=function(){jQuery(".li.ctx-menu-height-width").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowControlHeightWidth(),f.Smart.SmartMenuJQ.ProcessSelectNotify()})},e.AttachBorder=function(){(new o.Border.BorderJQ).Init(),jQuery(".li.ctx-menu-border").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowBorderControl(),o.Border.BorderJQ.ProcessSelectNotify()})},e.AttachMargin=function(){(new v.Margin.MarginJQ).Init(),jQuery(".li.ctx-menu-margin").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowMarginControl(),v.Margin.MarginJQ.ProcessSelectNotify()})},e.AttachPadding=function(){(new m.Padding.PaddingJQ).Init(),jQuery(".li.ctx-menu-padding").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowPaddingControl(),m.Padding.PaddingJQ.ProcessSelectNotify()})},e.AttachZindex=function(){(new g.FrontBack.FrontBackJQ).Init(),jQuery(".li.ctx-menu-z-index").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowZindex(),g.FrontBack.FrontBackJQ.ProcessSelectNotify()})},e.AttachCopy=function(){jQuery(".li.ctx-menu-copy").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.CopyElement()})},e.AttachCut=function(){jQuery(".li.ctx-menu-cut").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.CutElement()})},e.AttachPaste=function(){jQuery(".li.ctx-menu-paste").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.PasteElement()})},e.AttachPasteClipBorad=function(){jQuery(".li.ctx-menu-paste-clipborad").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.PasteClipBorad()})},e.AttachSpacer=function(){jQuery(".smart-menu-insert-empty-space").on("click",function(){if(jQuery(this).parent().hasClass(b))return;h.Spacer.SpacerJQ.InsertSpacer()}),jQuery(".ctx-menu-insert-empty-space").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;h.Spacer.SpacerJQ.InsertSpacer()})},e.AttachInsertImage=function(){(new s.Image.SelfJQ).Init(),jQuery(".li.smart-menu-insert-image").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.InsertImage(),s.Image.SelfJQ.ProcessSelectNotify()}),jQuery(".li.ctx-menu-insert-image").on("click",function(){window.smartObj=null;if(jQuery(this).parent().hasClass(b))return;e.InsertImage(),s.Image.SelfJQ.ProcessSelectNotify()})},e.AttachBackgroundImage=function(){(new c.BI.BIJQ).Init(),jQuery(".li.ctx-menu-background-image").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowBackgroundImage(),c.BI.BIJQ.ProcessSelectNotify()})},e.AttachInsertMenu=function(){jQuery(".li.ctx-menu-insert-menu").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowMenu(),l.Menu.MenuJQ.ProcessSelectNotify()})},e.AttachColor=function(){(new u.Color.ColorJQ).Init(),jQuery(".li.ctx-menu-color").on("click",function(){if(jQuery(this).parent().hasClass(b))return;e.ShowColor(),u.Color.ColorJQ.ProcessSelectNotify()})},e.ContextInnerMenuShowHide=function(){jQuery("#contextMenuitems").find(".li").mouseenter(function(e){var t=147;e.pageX>$(document).width()-200&&(t=-150),jQuery(this).parent().find(".innerListContainer").first().css("left",t+"px"),jQuery(this).parent().find(".innerListContainer").first().css("display","block")}),jQuery("#contextMenuitems").find("li").mouseleave(function(e){jQuery(this).find(".innerListContainer").first().css("display","none")})},e.LiClick=function(){jQuery("#contextMenuitems > li").click(function(){})},e.prototype.MainEvents=function(){jQuery(document).ready(function(){w==0&&(w=!0,jQuery(document).on("click",function(){jQuery("#contextMenu").hide(500),jQuery("#smInsertNextPrev").hide(500)}),y==0&&(y=!0,e.ContextMenuBinding(),e.LiClick(),e.ContextInnerMenuShowHide(),e.AttachInsertLinkContainer(),e.AttachInsertLink(),e.AttachInsertHTML(),e.AttachInsertText(),e.AttachAddRow(),e.AttachDeleteElement(),e.AttachHeightWidth(),e.AttachCopy(),e.AttachPaste(),e.AttachPasteClipBorad(),e.AttachCut(),e.AttachInsertImage(),e.AttachSpacer(),e.AttachBorder(),e.AttachMargin(),e.AttachZindex(),e.AttachPadding(),e.AttachColor(),e.AttachInsertMenu(),e.AttachBackgroundImage(),e.AttachControlPageClose()))})},e}();e.ContextMenuJQ=t})(S=t.ContextMenu||(t.ContextMenu={}))}),define("_Classes/LoadingJQ",["require","exports"],function(e,t){var n;(function(e){var t=function(){function e(e){this.src="/content/loading/colors.gif",this.controlId=e,this.Create()}return e.prototype.Create=function(){var e=jQuery(".loading.clonable").clone();e.removeClass("clonable"),e.addClass("new"),e.removeClass("hide"),e.find("img").first().attr("src",this.src),jQuery(this.controlId).find(".loading.new").remove(),jQuery(this.controlId).append(e)},e.prototype.Init=function(){this.Show()},e.prototype.IsExist=function(){return jQuery(this.controlId).find(".loading.new").length>0?!0:!1},e.prototype.Show=function(){this.IsExist()?jQuery(this.controlId).find(".loading.new").first().show():(this.Create(),jQuery(this.controlId).find(".loading.new").first().show())},e.prototype.Hide=function(){jQuery(this.controlId).find(".loading.new").first().hide()},e}();e.LoadingJQ=t})(n=t.Loading||(t.Loading={}))}),define("controls/controlcommonjq",["require","exports","./JQueryUI","../common/on","../JQte/OnInsert"],function(e,t,n,r,i){var s;(function(e){var t=function(){function e(){}return e.Execute=function(){r.On.Code.Execute(),(new i.OnInsert.Code).Init(),n.JQueryUI.CommonCode.ResizableColumn(),n.JQueryUI.CommonCode.Resizable(".empty-container"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-text"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableRootElements(".root-elements","s"),n.JQueryUI.CommonCode.Draggable(".empty-container",""),n.JQueryUI.CommonCode.Draggable(".empty-container-menu",""),n.JQueryUI.CommonCode.Draggable(".empty-container-text",""),n.JQueryUI.CommonCode.Draggable(".empty-container-image",""),n.JQueryUI.CommonCode.Draggable(".empty-container-spacer",""),n.JQueryUI.CommonCode.Droppable(".column"),n.JQueryUI.CommonCode.Droppable(".empty-container"),jQuery(".ui-resizable-e").html("<div class='jq-square jq-square-e'></div>"),jQuery(".ui-resizable-se").html("<div class='jq-square jq-square-se'></div>"),jQuery(".ui-resizable-s").html("<div class='jq-square jq-square-s'></div>")},e.DestroyResizable=function(){n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-text"),n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableDestroy(".column"),n.JQueryUI.CommonCode.ResizableDestroy(".empty-container"),n.JQueryUI.CommonCode.ResizableDestroy(".root-elements")},e.AnchorClicked=!1,e}();e.Code=t})(s=t.ControlCommon||(t.ControlCommon={}))}),define("Themes/EmptyLayout/EmptyLayoutJQ",["require","exports","../../Page/HeaderJQ","../../Page/MenuBarJQ","../../Page/ContentJQ","../../Page/FooterJQ","../../_Classes/CssClass","../../_Classes/LoadingJQ","../../page/anyjq","../../Error/ErrorJQ","../../UndoManager/UndoManager","../../Preview/Preview","../../ContextMenu/ContextMenuJQ","../../controls/controlcommonjq"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){window.layoutCreating=!0;var d=0,v;(function(e){var t;(function(e){var t=function(){function e(){this.controlId="#control-templates",window.layoutCreating=!0,e.loading=new u.Loading.LoadingJQ(this.controlId),e.loading.Init()}return e.prototype.Init=function(){try{this.Layout(e.layout),this.Layout(e.layout3),this.Layout(e.layout6),this.Layout(e.layout1),this.Layout(e.layout4),this.Layout(e.layout7),this.Layout(e.layout2),this.Layout(e.layout5),this.Layout(e.layout8),jQuery(".empty-layout-templates").find(".ui-resizable-handle").hide(),jQuery(".empty-layout-templates .row").removeClass("design-row"),jQuery(".empty-layout-templates .column").css("outline","1px solid #282424"),jQuery(".empty-layout-templates .root-elements").css("padding","0"),this.Attach()}catch(t){}window.layoutCreating=!1;var n=new l.Manager.UndoManager;n.BeforeOperation()},e.prototype.Attach=function(){jQuery(".empty-layout").on("click",function(){jQuery(".empty-layout").removeClass("empty-layout-select"),jQuery(this).addClass("empty-layout-select")}),jQuery(".create-layout-show-button").on("click",function(){c.Preview.PreviewJQ.ClosePreview(),jQuery(".jq-row-plus-container").hide(),h.ContextMenu.ContextMenuJQ.ControlPageHide(),jQuery(".control-templates").show(),jQuery(".control-templates").addClass("control-active"),jQuery(".empty-layout-templates .row").removeClass("padding-root-elements"),jQuery(".empty-layout-templates").find(".ui-resizable-handle").hide(),jQuery(".empty-layout-templates .row").removeClass("design-row"),jQuery(".empty-layout-templates .column").addClass("design-column"),jQuery(".empty-layout-templates .root-elements").css("padding","0")}),jQuery(".action-button-layout-create").on("click",function(){var t=jQuery(".empty-layout-select").attr("layout-id"),n=new f.ErrorHandle.ErrorJQ;if(t!=undefined){var r=undefined;switch(t){case"0":r=e.layout;break;case"1":r=e.layout1;break;case"2":r=e.layout2;break;case"3":r=e.layout3;break;case"4":r=e.layout4;break;case"5":r=e.layout5;break;case"6":r=e.layout6;break;case"7":r=e.layout7;break;case"8":r=e.layout8}if(r!=undefined){var i=new a.Page.AnyJQ("");jQuery("page .root-elements").html(""),i.AddRow(jQuery(".jq-Header"),r.header.cols,"",undefined,undefined);var s=new o.CssClass.AdjustJQ;s.height=50,i.AddRow(jQuery(".jq-MenuBar"),r.menuBar.cols,"",undefined,s);var u=new o.CssClass.AdjustJQ;u.height=500,i.AddRow(jQuery(".jq-Content"),r.body.cols,"",undefined,u),i.AddRow(jQuery(".jq-Footer"),r.footer.cols,"",undefined,undefined),n.ActionSuccess("Layout Created"),jQuery(this).closest(".control-page").hide();var c=new l.Manager.UndoManager;c.PopUndo(),c.PopUndo(),c.PopUndo(),c.PopUndo(),p.ControlCommon.Code.DestroyResizable(),p.ControlCommon.Code.Execute(),c.BeforeOperation()}else n.ActionFail("Please try after some time.")}else n.ActionFail("Please select a layout.!");jQuery(".jq-row-plus-container").hide()})},e.prototype.Layout=function(e){var t=1,u="template-"+e.templateNumber,a=jQuery(document.createElement("div"));a.addClass("empty-template-wrapper");var f=jQuery(document.createElement("div")),l=".template-"+e.templateNumber;f.addClass("float-left"),f.addClass("empty-layout"),f.addClass(u),f.attr("layout-id",e.templateNumber+""),a.append(f),jQuery(".empty-layout-templates").append(a);var c="T"+e.templateNumber,h=c+"Header",p=new n.Page.HeaderJQ("",h);p.rootWrapper=l,p.scopeId=".empty-layout-templates";var d=c+"MenuBar",v=new r.Page.MenuBarJQ("",d);v.rootWrapper=l,v.scopeId=".empty-layout-templates";var m=c+"Body",g=new i.Page.ContentJQ("",m);g.rootWrapper=l,g.scopeId=".empty-layout-templates";var y=c+"Footer",b=new s.Page.FooterJQ("",y);b.rootWrapper=l,b.scopeId=".empty-layout-templates";var w=new o.CssClass.AdjustJQ,E=new o.CssClass.AdjustJQ;w.height=e.header.height,E.height=e.header.height,p.AddRow(undefined,e.header.cols,"",w,E);try{p.GetColumn(1,0).text("H")}catch(S){}w.height=e.menuBar.height,E.height=e.menuBar.height,v.AddRow(undefined,e.menuBar.cols,"",w,E);try{v.GetColumn(1,0).text("M")}catch(S){}w.height=e.body.height,E.height=e.body.height,g.AddRow(undefined,e.body.cols,"",w,E);try{var x=g.GetColumn(1,0);x.text("B")}catch(S){}w.height=e.footer.height,E.height=e.footer.height,b.AddRow(undefined,e.footer.cols,"",w,E);try{var x=b.GetColumn(1,0);x.text("F")}catch(S){}},e.layout={templateNumber:0,header:{height:41,cols:"col-xs-48"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-48"},footer:{height:5,cols:"col-xs-48"}},e.layout1={templateNumber:1,header:{height:41,cols:"col-xs-48"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-36"},footer:{height:5,cols:"col-xs-48"}},e.layout2={templateNumber:2,header:{height:41,cols:"col-xs-48"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-24 col-xs-12"},footer:{height:5,cols:"col-xs-48"}},e.layout3={templateNumber:3,header:{height:41,cols:"col-xs-12 col-xs-36"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-48"},footer:{height:5,cols:"col-xs-48"}},e.layout4={templateNumber:4,header:{height:41,cols:"col-xs-12 col-xs-36"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-36"},footer:{height:5,cols:"col-xs-48"}},e.layout5={templateNumber:5,header:{height:41,cols:"col-xs-12 col-xs-36"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-24 col-xs-12"},footer:{height:5,cols:"col-xs-48"}},e.layout6={templateNumber:6,header:{height:41,cols:"col-xs-12 col-xs-20 col-xs-16"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-48"},footer:{height:5,cols:"col-xs-48"}},e.layout7={templateNumber:7,header:{height:41,cols:"col-xs-12 col-xs-20 col-xs-16"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-36"},footer:{height:5,cols:"col-xs-48"}},e.layout8={templateNumber:8,header:{height:41,cols:"col-xs-12 col-xs-20 col-xs-16"},menuBar:{height:5,cols:"col-xs-48"},body:{height:70,cols:"col-xs-12 col-xs-24 col-xs-12"},footer:{height:5,cols:"col-xs-48"}},e}();e.LayoutJQ=t})(t=e.Empty||(e.Empty={}))})(v=t.Themes||(t.Themes={}))}),define("Common/on",["require","exports","../page/anyjq","../Watch/WatchMouseJQ"],function(e,t,n,r){var i;(function(e){var t=function(){function e(){this.command="",this.isDirty=!1}return e}();e.SmartObj=t;var i=function(){function e(){}return e.Execute=function(){e.BindPlus(),e.BindEC()},e.BindEC=function(){jQuery(".empty-container").unbind("click"),jQuery(".empty-container").on("click",function(){var e=r.Watch.MouseJQ.selectedElement;e!=undefined&&e.hasClass("empty-container")})},e.BindPlus=function(){jQuery(".jq-prev-row").unbind("click"),jQuery(".jq-prev-row").on("click",function(){var e=jQuery(this).parentsUntil(".row"),t=new n.Page.AnyJQ("");t.AddRow(e,"col-xs-48","",undefined,undefined,!0)}),jQuery(".jq-next-row").unbind("click"),jQuery(".jq-next-row").on("click",function(){var e=jQuery(this).parentsUntil(".row"),t=new n.Page.AnyJQ("");t.AddRow(e,"col-xs-48","",undefined,undefined,!1)}),jQuery(".jq-plus-prev").unbind("click"),jQuery(".jq-plus-prev").on("click",function(e){window.smartObj=new t,jQuery(this).hasClass("image-text-other")?window.smartObj.currentObj=jQuery(this):window.smartObj.currentObj=jQuery(this).closest(".image-text-other"),window.smartObj.command="p",window.smartObj.isDirty=!1,e.stopPropagation();var n=e.pageY;jQuery(window).scrollTop()+n>=jQuery(window).height()-250&&(n=e.pageY-250);var r=e.pageX;e.pageX>$(document).width()-200&&(r=e.pageX-150),jQuery("#smInsertNextPrev").css("left",r+"px"),jQuery("#smInsertNextPrev").css("top",n+"px"),jQuery("#smInsertNextPrev").fadeIn(500)}),jQuery(".jq-plus-next").unbind("click"),jQuery(".jq-plus-next").on("click",function(e){window.smartObj=new t,jQuery(this).hasClass("image-text-other")?window.smartObj.currentObj=jQuery(this):window.smartObj.currentObj=jQuery(this).closest(".image-text-other"),window.smartObj.command="n",window.smartObj.isDirty=!1,e.stopPropagation();var n=e.pageY;jQuery(window).scrollTop()+n>=jQuery(window).height()-250&&(n=e.pageY-180);var r=e.pageX;e.pageX>$(document).width()-200&&(r=e.pageX-150),jQuery("#smInsertNextPrev").css("left",r+"px"),jQuery("#smInsertNextPrev").css("top",n+"px"),jQuery("#smInsertNextPrev").fadeIn(500)})},e}();e.Code=i})(i=t.On||(t.On={}))}),define("_Classes/SaveJq",["require","exports","../Error/ErrorJQ"],function(e,t,n){var r;(function(e){var t=function(){function e(){}return e.prototype.Download=function(t){jQuery.ajax({type:"POST",url:"/services/pageService.asmx/download",data:t,contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnDownloadSuccess,error:e.OnDownloadError})},e.OnDownloadSuccess=function(e,t){var r=new n.ErrorHandle.ErrorJQ;e.d.Error!=""&&e.d.Error!=null||e.d.Success!=1?r.ActionFail("Unable to generate download link..."):r.ActionSuccess("Click on the download link below  <br> <a class='download-site-link' href='"+e.d.Link+"' > click here </a>")},e.OnDownloadError=function(e,t,r){var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("Unable to generate download link...")},e.prototype.SavePage=function(t){jQuery.ajax({type:"POST",url:"/services/pageService.asmx/savepage",data:t,contentType:"application/json; charset=utf-8",dataType:"json",success:e.OnSaveSuccess,error:e.OnSaveError})},e.OnSaveSuccess=function(e,t){var r=new n.ErrorHandle.ErrorJQ;e.d.Error!=""?r.ActionSuccess("Page saved"):r.ActionFail("Save Failed! <br> Try again later.")},e.OnSaveError=function(e,t,r){var i=new n.ErrorHandle.ErrorJQ;i.ActionFail("Save Failed! <br> Try again later.")},e.IsDownloadStarted=!1,e}();e.SaveJQ=t})(r=t.Save||(t.Save={}))}),define("Controls/NoUi",["require","exports","../UndoManager/UndoManager","../Watch/WatchMouseJQ","../Error/ErrorJQ"],function(e,t,n,r,i){var s;(function(e){var t=function(){function e(){}return e.Common=function(){var e=r.Watch.MouseJQ.selectedElement;return e!=undefined?e.hasClass("column")||e.hasClass("row")||e.hasClass("root-elements")?jQuery("#nononoelement"):e:jQuery("#nononoelement")},e.Center=function(){var t=e.Common();t.css("float","none"),t.closest(".column").css("text-align","center");if(t.length>0){var r=new n.Manager.UndoManager;r.BeforeOperation()}},e.Left=function(){var t=e.Common();t.css("float","left");if(t.length>0){var r=new n.Manager.UndoManager;r.BeforeOperation()}},e.Right=function(){var t=e.Common();t.css("float","right");if(t.length>0){var r=new n.Manager.UndoManager;r.BeforeOperation()}},e}();e.AlignJQ=t;var s=function(){function e(){}return e.Common=function(){var e=r.Watch.MouseJQ.selectedElement;return e!=undefined?e.hasClass("root-elements")?jQuery("#nononoelement"):e:jQuery("#nononoelement")},e.CommonUpDown=function(){var e=r.Watch.MouseJQ.selectedElement;return e!=undefined?e:jQuery("#nononoelement")},e.Left=function(){var t=e.Common();if(t.css("float")=="none"){if(t.prevAll(".key").first().length>0&&(t.prevAll(".key").first().css("float")=="right"||t.prevAll(".key").first().css("float")=="left")||t.prevAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Center] elements.")}t.insertBefore(t.prevAll(".key").first())}else if(t.css("float")=="left"){if(t.prevAll(".key").first().length>0&&(t.prevAll(".key").first().css("float")=="right"||t.prevAll(".key").first().css("float")=="none")||t.prevAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Left] elements.")}t.insertBefore(t.prevAll(".key").first())}else{if(t.nextAll(".key").first().length>0&&(t.nextAll(".key").first().css("float")=="left"||t.nextAll(".key").first().css("float")=="none")||t.nextAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Right] elements.")}t.insertAfter(t.nextAll(".key").first())}if(t.length>0){var s=new n.Manager.UndoManager;s.BeforeOperation()}},e.Right=function(){var t=e.Common();if(t.css("float")=="none"){if(t.nextAll(".key").first().length>0&&(t.nextAll(".key").first().css("float")=="right"||t.nextAll(".key").first().css("float")=="left")||t.nextAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Center] elements.")}t.insertAfter(t.nextAll(".key").first())}else if(t.css("float")=="left"){if(t.nextAll(".key").first().length>0&&(t.nextAll(".key").first().css("float")=="right"||t.nextAll(".key").first().css("float")=="none")||t.nextAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Left] elements.")}t.insertAfter(t.nextAll(".key").first())}else{if(t.prevAll(".key").first().length>0&&(t.prevAll(".key").first().css("float")=="left"||t.prevAll(".key").first().css("float")=="none")||t.prevAll(".key").first().length==0){var r=new i.ErrorHandle.ErrorJQ;r.ActionHelp("Help : Current element is dependent on all [Align Right] elements.")}t.insertBefore(t.prevAll(".key").first())}if(t.length>0){var s=new n.Manager.UndoManager;s.BeforeOperation()}},e.Up=function(){var t=e.CommonUpDown();t.hasClass("row")||(t=t.closest(".row"));var n=t.prevAll(".row").first();n.length==0&&(n=t.prevAll(".key").last()),t.insertBefore(n)},e.Down=function(){var t=e.CommonUpDown();t.hasClass("row")||(t=t.closest(".row"));var n=t.nextAll(".row").first();n.length==0&&(n=t.nextAll(".key").last()),t.insertAfter(n)},e}();e.MoveJQ=s})(s=t.NoUI||(t.NoUI={}))}),define("Common/CommonEvents",["require","exports","../UndoManager/UndoManager","../Themes/EmptyLayout/EmptyLayoutJQ","../_Classes/Auth","../Error/ErrorJQ","../Common/on","../_Classes/SaveJq","../MalFormed/MalFormedJQ","../Controls/NoUi","../Controls/ImageJQ"],function(e,t,n,r,i,s,o,u,a,f,l){var c,h,p,d;(function(e){var t=function(){function e(){this.command="",this.isDirty=!1}return e}();e.SmartObj=t;var h=function(){function e(){this.isCommonEventsAdded=!1}return e.GetCookie=function(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""},e.CheckMal=function(){return e.GetCookie("jQuery")==jQuery("#viewstate").val()?!0:!1},e.UploadImages=function(){var e=p,t=new FormData;for(var n=0;n<e.length;n++)t.append(e[n].name,e[n]);$.ajax({type:"POST",url:"/Services/PageService.asmx/UploadImages",contentType:!1,processData:!1,data:t,success:function(){l.Image.SelfJQ.ClearImageGalaryPagingValue(),l.Image.SelfJQ.GetImages()},error:function(e,t,n){}})},e.PrepareUpload=function(t){p=t.target.files,e.UploadImages()},e.prototype.Init=function(){e.CheckMal()==0&&(a.MalFormed.MalFormedJQ.IsMalFormed=!0),jQuery(".button-change-image").click(function(){l.Image.SelfJQ.ChangeImage()}),$(".image-file-upload").on("change",e.PrepareUpload),jQuery(".button-align-left").click(function(){f.NoUI.AlignJQ.Left()}),jQuery(".button-align-right").click(function(){f.NoUI.AlignJQ.Right()}),jQuery(".button-align-center").click(function(){f.NoUI.AlignJQ.Center()}),jQuery(".button-move-left").click(function(){f.NoUI.MoveJQ.Left()}),jQuery(".button-move-right").click(function(){f.NoUI.MoveJQ.Right()}),jQuery(".button-move-up").click(function(){f.NoUI.MoveJQ.Up()}),jQuery(".button-move-down").click(function(){f.NoUI.MoveJQ.Down()}),jQuery("#control-align").draggable({revert:!1}),jQuery("#control-object-move").draggable({revert:!1});var h=jQuery(".input-current-location").val()+"/"+jQuery(".input-site-id").val()+"/"+jQuery(".input-site-name").val()+"/"+jQuery(".input-page-name").val();jQuery(".anchor-show-live-preview").attr("href",h),jQuery("#notify").click(function(){jQuery(this).hide()}),jQuery(".btn-help").click(function(){jQuery("#site-help").slideToggle()}),jQuery("#site-help").click(function(){jQuery(this).slideUp()}),c=window.setInterval(function(){if(i.Auth.AuthJQ.IsAuth==1){i.Auth.AuthJQ.HideLoading(),window.clearInterval(c);var e=new r.Themes.Empty.LayoutJQ;e.Init(),r.Themes.Empty.LayoutJQ.loading!=undefined&&r.Themes.Empty.LayoutJQ.loading.Hide()}else r.Themes.Empty.LayoutJQ.loading!=undefined&&r.Themes.Empty.LayoutJQ.loading.Show()},1e3),jQuery(".jq-show-plus").click(function(){jQuery(".jq-row-plus-container").show(),jQuery(".jq-show-plus").hide(),jQuery(".jq-hide-plus").show()}),jQuery(".jq-hide-plus").click(function(){jQuery(".jq-row-plus-container").hide(),jQuery(".jq-hide-plus").hide(),jQuery(".jq-show-plus").show()}),jQuery(".button-download-site").click(function(){var e=new u.Save.SaveJQ,t={siteName:jQuery(".input-site-name").val()},n=JSON.stringify(t),r=new s.ErrorHandle.ErrorJQ;r.ActionHelp("Download will start in few seconds..."),e.Download(n)}),jQuery(".jq-save").click(function(){var e=jQuery(document.createElement("scripts")),t=jQuery(document.createElement("styles")),n=jQuery(document.createElement("page")),r='<script type=" text/javascript" class="add-to-page jquery" src= "jquery/jquery-1.11.2.min.js" > </script><link rel="stylesheet" type= "text/css" class="add-to-page" href= "bootstrap/bootstrap-customzed-48.min.css" /><link class="add-to-page" type= "text/css" href= "theme/theme.css" rel= "stylesheet" type= "text/css" /><link class="add-to-page"  href= "theme/jqplus.css" rel= "stylesheet" /> <style>  .jq-plus-element { display:none !important; }  .jq-row-plus-container { display:none !important; }  .row { margin:0; padding:0; }  .column { margin:0; padding:0; } </style>';jQuery(".image-selection").removeClass("image-selection"),jQuery(".add-to-page").each(function(){jQuery(this).prop("tagName")=="SCRIPT"&&e.append($(this).clone()),jQuery(this).prop("tagName")=="LINK"&&t.append($(this).clone()),jQuery(this).prop("tagName")=="PAGE"&&(n.append($(this).clone()),n.prepend(r))});var i=new u.Save.SaveJQ;i.scripts=e.html(),i.styles=t.html(),i.page=n.html();var s={Obj:i,siteName:jQuery(".input-site-name").val(),pageName:jQuery(".input-page-name").val()},o=JSON.stringify(s);i.SavePage(o)}),jQuery(".jq-undo").click(function(){var e=new n.Manager.UndoManager;e.Undo()}),jQuery(".jq-redo").click(function(){var e=new n.Manager.UndoManager;e.Redo()}),jQuery(".properties-button").click(function(){jQuery(".control-properties").css("display")=="block"?jQuery(".control-properties").addClass("forced-hide"):jQuery(".control-properties").removeClass("forced-hide"),jQuery(".control-properties").fadeToggle()}),window.smartObj=new t,o.On.Code.Execute()},e.ResizableClickCode=function(e){jQuery(".ui-resizable-se").removeClass("selected-resizable"),jQuery(".ui-resizable-s").removeClass("selected-resizable"),jQuery(e).addClass("selected-resizable")},e}();e.CommonEvents=h})(d=t.Common||(t.Common={}))}),define("jqte/MyJQte",["require","exports"],function(e,t){var n=!1,r;(function(e){var t=function(){function e(){}return e}();e.JqteParams=t;var r=function(){function e(e){this.Init()}return e.prototype.Init=function(){n==0&&(n=!0,jQuery(".jqte-editor-tool").click(function(){return!1}),$(".jqte-editor-tool-p").off("click"),$(".jqte-editor-tool").off("click"),$(".jqte-editor-tool-c").off("click"),$(".jq-color").off("click"),this.AttachEvents(),jQuery(".font-name-list li").each(function(){jQuery(this).children().css("font-family",jQuery(this).text())}))},e.prototype.AttachEvents=function(){jQuery(document).not(".editor").click(function(e){jQuery(e.target).hasClass("jqte-editor-tool-p")||jQuery(".jqte-editor-tool-list").hide()}),$(".jqte-editor-tool,.jqte-editor-tool-p").mouseup(function(e){return jQuery(this).removeClass("highlight-tool"),e.cancelBubble!=null&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue!=null&&(e.returnValue=!1),!1}),$(".jqte-editor-tool,.jqte-editor-tool-p").mousedown(function(t){jQuery(this).addClass("highlight-tool");var n=jQuery(this).attr("name");switch(n){case"font":jQuery(".jqte-editor-tool-list").not(".font-name-list").hide(),jQuery(".font-name-list").css("display")=="none"?jQuery(".font-name-list").css("display","block"):jQuery(".font-name-list").css("display","none");break;case"font-size":jQuery(".jqte-editor-tool-list").not(".font-size-list").hide(),jQuery(".font-size-list ").css("display")=="none"?jQuery(".font-size-list ").css("display","block"):jQuery(".font-size-list ").css("display","none");break;case"fore-color":case"back-color":jQuery(".jqte-editor-tool-list").not(".jqte-color-palette").hide(),jQuery(this).hasClass("current-color-tool")?jQuery(".jqte-color-palette").css("display")=="none"?jQuery(".jqte-color-palette").css("display","block"):jQuery(".jqte-color-palette").css("display","none"):jQuery(".jqte-color-palette").css("display","block"),jQuery(".color-tool").removeClass("current-color-tool"),jQuery(this).addClass("current-color-tool");break;case"bold":e.SelectionSet("bold",null);break;case"italic":e.SelectionSet("italic",null);break;case"underline":e.SelectionSet("underline",null);break;case"strike":e.SelectionSet("strikeThrough",null);break;case"bullet":e.SelectionSet("insertUnorderedList",null);break;case"number":e.SelectionSet("insertOrderedList",null);break;case"left":e.SelectionSet("justifyLeft",null);break;case"right":e.SelectionSet("justifyRight",null);break;case"center":e.SelectionSet("justifyCenter",null);break;case"full":e.SelectionSet("justifyFull",null);break;case"outdent":e.SelectionSet("outdent",null);break;case"indent":e.SelectionSet("indent",null);break;case"clear":e.SelectionSet("removeFormat",null);break;case"unlink":e.SelectionSet("unlink",null);break;case"link":jQuery(".jqte-editor-tool-list").not(".jqte-link").hide(),jQuery(".jqte-link").css("display")=="none"?jQuery(".jqte-link").css("display","block"):jQuery(".jqte-link").css("display","none"),jQuery(".link-window-url").val("http://"),jQuery(".current-editor-scope").find("font[color='#003399']").removeAttr("color"),e.SelectionSet("foreColor","#003399"),e.SelectionSet("createLink","#")}return t.cancelBubble!=null&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue!=null&&(t.returnValue=!1),!1}),jQuery(".editor-create-link").click(function(e){return jQuery(".current-editor-scope").find("font[color='#003399']").find("a").first().attr("href",jQuery(".link-window-url").val()),jQuery(".current-editor-scope").find("font[color='#003399']").removeAttr("color"),jQuery(".jqte-editor-tool-list").hide(),e.cancelBubble!=null&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue!=null&&(e.returnValue=!1),!1}),$(".jqte-editor-tool-c").mousedown(function(t){return jQuery(this).parent().parent().hasClass("font-name")&&e.SelectionSet("fontName",jQuery(this).attr("value")),jQuery(this).parent().parent().hasClass("font-size")&&(e.SelectionSet("fontSize",7),jQuery(".current-editor-scope").find("font[size='7']").css("font-size",jQuery(this).attr("value")+"px").removeAttr("size")),jQuery(".jqte-editor-tool-list").hide(),t.cancelBubble!=null&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue!=null&&(t.returnValue=!1),!1}),$(".jq-color").mousedown(function(t){if(jQuery(".current-color-tool").length>0){var n=jQuery(".current-color-tool").attr("name");n=="back-color"?e.SelectionSet("backColor",jQuery(this).css("background-color")):(n="fore-color")&&e.SelectionSet("foreColor",jQuery(this).css("background-color"))}return jQuery(".jqte-editor-tool-list").hide(),t.cancelBubble!=null&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue!=null&&(t.returnValue=!1),!1})},e.GetSelectetdText=function(){return e.SelectionSet("fontSize","1")},e.SelectionGet=function(){if(window.getSelection)return window.getSelection();if(document.selection&&document.selection.createRange&&document.selection.type!="None")return document.selection.createRange()},e.SelectionSet=function(t,n){var r,i=e.SelectionGet();window.getSelection?(i.anchorNode&&i.getRangeAt&&(r=i.getRangeAt(0)),r&&(i.removeAllRanges(),i.addRange(r)),e.ThisBrowser.match(/msie/)||document.execCommand("StyleWithCSS",!1,!1),document.execCommand(t,!1,n)):document.selection&&document.selection.createRange&&document.selection.type!="None"&&(r=document.selection.createRange(),r.execCommand(t,!1,n))},e.SelectText=function(t){if(t){var t=t[0],n;if(document.body.createTextRange)n=document.body.createTextRange(),n.moveToElementText(t),n.select();else if(window.getSelection){var r=window.getSelection();n=document.createRange(),t!="undefined"&&t!=null&&(n.selectNodeContents(t),r.removeAllRanges(),r.addRange(n),$(t).is(":empty")&&($(t).append("&nbsp;"),e.SelectText($(t))))}}},e.ThisBrowser=navigator.userAgent.toLowerCase(),e}();e.jqte=r})(r=t.MyJQte||(t.MyJQte={}))}),define("Controls/ControlMoveJQ",["require","exports"],function(e,t){var n=!1,r,i;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){this.MouseDown(),this.MouseUp(),this.MouseMove()},e.prototype.MouseDown=function(){jQuery(".control-move-area").mousedown(function(e){r=jQuery(this).closest(".control-page"),r.length==0&&(r=jQuery(this).closest(".control-properties")),n=!0})},e.prototype.MouseUp=function(){jQuery(document).mouseup(function(e){n=!1})},e.prototype.MouseMove=function(){jQuery(document).mousemove(function(e){if(n==0)return;if(e.clientX+20>jQuery(window).width()||e.clientY+20>jQuery(window).height())return;if(e.clientY<0)return;var t=jQuery(r).css("width");if(t!=undefined){t=t.replace("px","");var i=Number(t)/2,s=e.clientX-(i-10),o=e.clientY-10;jQuery(r).css("left",s),jQuery(r).css("top",o+"px"),jQuery(r).css("outline","0")}})},e}();e.ControlMoveJQ=t})(i=t.Control||(t.Control={}))}),define("Template/TemplateJQ",["require","exports"],function(e,t){var n=!1,r;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){this.Process()},e.ProcessImmediate=function(){jQuery(".jq-template").each(function(){var e=$(this).attr("template-id");$(this).append(jQuery(jQuery("#"+e).html()).clone())})},e.prototype.Process=function(){jQuery(document).ready(function(){n==0&&(n=!0,e.ProcessImmediate())})},e}();e.TemplateJQ=t})(r=t.Template||(t.Template={}))}),define("Controls/controlcommonjq",["require","exports","./JQueryUI","../common/on","../JQte/OnInsert"],function(e,t,n,r,i){var s;(function(e){var t=function(){function e(){}return e.Execute=function(){r.On.Code.Execute(),(new i.OnInsert.Code).Init(),n.JQueryUI.CommonCode.ResizableColumn(),n.JQueryUI.CommonCode.Resizable(".empty-container"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-text"),n.JQueryUI.CommonCode.Resizable(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableRootElements(".root-elements","s"),n.JQueryUI.CommonCode.Draggable(".empty-container",""),n.JQueryUI.CommonCode.Draggable(".empty-container-menu",""),n.JQueryUI.CommonCode.Draggable(".empty-container-text",""),n.JQueryUI.CommonCode.Draggable(".empty-container-image",""),n.JQueryUI.CommonCode.Draggable(".empty-container-spacer",""),n.JQueryUI.CommonCode.Droppable(".column"),n.JQueryUI.CommonCode.Droppable(".empty-container"),jQuery(".ui-resizable-e").html("<div class='jq-square jq-square-e'></div>"),jQuery(".ui-resizable-se").html("<div class='jq-square jq-square-se'></div>"),jQuery(".ui-resizable-s").html("<div class='jq-square jq-square-s'></div>")},e.DestroyResizable=function(){n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-text"),n.JQueryUI.CommonCode.ResizableDestroy(".jq-plus-container-image"),n.JQueryUI.CommonCode.ResizableDestroy(".column"),n.JQueryUI.CommonCode.ResizableDestroy(".empty-container"),n.JQueryUI.CommonCode.ResizableDestroy(".root-elements")},e.AnchorClicked=!1,e}();e.Code=t})(s=t.ControlCommon||(t.ControlCommon={}))}),define("Document/DocumentJQ",["require","exports"],function(e,t){var n=!1,r;(function(e){var t=function(){function e(){}return e.prototype.Init=function(){this.Attach()},e.prototype.Attach=function(){jQuery(document).ready(function(){n==0&&(n=!0)})},e}();e.DocumentJQ=t})(r=t.Document||(t.Document={}))}),define("Page/LoadJQ",["require","exports","../Controls/ControlCommonJQ","../UndoManager/UndoManager","../Error/ErrorJQ","../_Classes/Auth"],function(e,t,n,r,i,s){var o;(function(e){var t=function(){function e(){}return e.LoadPage=function(e,t,o){var u="/services/"+jQuery(".input-site-id").val()+"/"+jQuery(".input-site-name").val()+"/"+jQuery(".input-page-name").val();$.ajax({url:u,type:"GET",cache:!1,success:function(e){s.Auth.AuthJQ.HideLoading();var t=jQuery(document.createElement("div")),o=jQuery(document.createElement("div"));t.html(e),o.append(t.html());var u=o;if(u.find("page").length>0){jQuery("page").html(u.find("page").html()),n.ControlCommon.Code.DestroyResizable(),n.ControlCommon.Code.Execute();var a=new r.Manager.UndoManager;a.BeforeOperation(),jQuery("#control-templates").hide()}else jQuery("#control-templates").show();jQuery(".jq-row-plus-container").hide();var f=new i.ErrorHandle.ErrorJQ;f.ActionSuccess("Your page is loading. <br>Please wait...")},error:function(e){s.Auth.AuthJQ.HideLoading();var t=new i.ErrorHandle.ErrorJQ;t.ActionFail("Page Loading Failed ! <br> Try again latter")}})},e}();e.LoadJQ=t})(o=t.Page||(t.Page={}))}),define("mainjq",["require","exports","./Page/Context/ContextJQ","./Controls/ControlsJQ","./ContextMenu/ContextMenuJQ","./Watch/WatchMouseJQ","./_Classes/Auth","./Common/CommonEvents","./Preview/Preview","./jqte/MyJQte","./Controls/ControlMoveJQ","./Template/TemplateJQ","./Controls/controlcommonjq","./Document/DocumentJQ","./Page/LoadJQ"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){function g(){jQuery(".jq-text-block-container").addClass("jq-text-block-container-padding"),jQuery(".column").addClass("column-padding")}function y(){jQuery("#firstTimeHelp").show().delay(5e3).hide(),jQuery("#firstTimeHelp").click(function(){jQuery(this).hide()}),jQuery(".empty-container").on("click",function(){var e=s.Watch.MouseJQ.selectedElement;e!=undefined&&e.hasClass("empty-container")})}var v=new n.Page.ContextJQ,m=!1;jQuery(document).ready(function(){if(m==0){m=!0,h.ControlCommon.Code.Execute(),jQuery(".row").removeClass("design-row"),jQuery(".column").removeClass("design-column"),jQuery(".jq-loading").show(),jQuery("inpu-page-name").val()!=""&&jQuery("inpu-site-name").val()!=""&&d.Page.LoadJQ.LoadPage("site","site1","page1");var e=new p.Document.DocumentJQ;e.Init();var t=new u.Common.CommonEvents;t.Init();var n=new a.Preview.PreviewJQ;n.Init(),g();var v=new f.MyJQte.jqte("");v.Init();var y=new r.Page.AddRowJQ;y.Init();var b=new i.ContextMenu.ContextMenuJQ;b.Init();var w=new s.Watch.MouseJQ;w.WatchPage();var E=new l.Control.ControlMoveJQ;E.Init();var S=new c.Template.TemplateJQ;S.Init();var x=new o.Auth.AuthJQ;x.Call()}})});